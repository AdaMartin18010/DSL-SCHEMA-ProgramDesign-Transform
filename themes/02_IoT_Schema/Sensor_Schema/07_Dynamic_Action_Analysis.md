# IoTä¼ æ„Ÿå™¨Schemaä¿¡æ¯è¡¨å¾åŠ¨æ€åŠ¨ä½œåˆ†æè§†å›¾

**ç‰ˆæœ¬**: v1.0
**åˆ›å»ºæ—¥æœŸ**: 2026-02-15

---

## ğŸ“‘ ç›®å½•

- [IoTä¼ æ„Ÿå™¨Schemaä¿¡æ¯è¡¨å¾åŠ¨æ€åŠ¨ä½œåˆ†æè§†å›¾](#iotä¼ æ„Ÿå™¨schemaä¿¡æ¯è¡¨å¾åŠ¨æ€åŠ¨ä½œåˆ†æè§†å›¾)
  - [ğŸ“‘ ç›®å½•](#-ç›®å½•)
  - [1. ä¼ æ„Ÿå™¨æ•°æ®æµåŠ¨æ€åˆ†æ](#1-ä¼ æ„Ÿå™¨æ•°æ®æµåŠ¨æ€åˆ†æ)
    - [1.1 æ•°æ®é‡‡é›†æµæ°´çº¿](#11-æ•°æ®é‡‡é›†æµæ°´çº¿)
    - [1.2 æ•°æ®å¤„ç†å»¶è¿Ÿåˆ†æ](#12-æ•°æ®å¤„ç†å»¶è¿Ÿåˆ†æ)
  - [2. é‡‡æ ·ä¸ä¼ è¾“æ—¶åº](#2-é‡‡æ ·ä¸ä¼ è¾“æ—¶åº)
    - [2.1 é‡‡æ ·ç­–ç•¥æ—¶åº](#21-é‡‡æ ·ç­–ç•¥æ—¶åº)
    - [2.2 æ•°æ®ä¼ è¾“æ—¶åº](#22-æ•°æ®ä¼ è¾“æ—¶åº)
  - [3. çŠ¶æ€è½¬æ¢åˆ†æ](#3-çŠ¶æ€è½¬æ¢åˆ†æ)
    - [3.1 ä¼ æ„Ÿå™¨çŠ¶æ€æœº](#31-ä¼ æ„Ÿå™¨çŠ¶æ€æœº)
    - [3.2 çŠ¶æ€è½¬æ¢çŸ©é˜µ](#32-çŠ¶æ€è½¬æ¢çŸ©é˜µ)
    - [3.3 ç”µæ± ä¾›ç”µä¼ æ„Ÿå™¨çŠ¶æ€](#33-ç”µæ± ä¾›ç”µä¼ æ„Ÿå™¨çŠ¶æ€)
  - [4. ç½‘ç»œé€šä¿¡åŠ¨æ€](#4-ç½‘ç»œé€šä¿¡åŠ¨æ€)
    - [4.1 åè®®æ ˆæ•°æ®å°è£…](#41-åè®®æ ˆæ•°æ®å°è£…)
    - [4.2 ç½‘ç»œæ‹“æ‰‘åŠ¨æ€](#42-ç½‘ç»œæ‹“æ‰‘åŠ¨æ€)
  - [5. ä¿¡æ¯ç†µå˜åŒ–åˆ†æ](#5-ä¿¡æ¯ç†µå˜åŒ–åˆ†æ)
    - [5.1 ä¼ æ„Ÿå™¨æ•°æ®ä¿¡æ¯ç†µ](#51-ä¼ æ„Ÿå™¨æ•°æ®ä¿¡æ¯ç†µ)
    - [5.2 æ•°æ®å‹ç¼©ç†µåˆ†æ](#52-æ•°æ®å‹ç¼©ç†µåˆ†æ)
  - [6. MermaidåŠ¨æ€è§†å›¾](#6-mermaidåŠ¨æ€è§†å›¾)
    - [6.1 ä¼ æ„Ÿå™¨æ•°æ®æµæ°´çº¿æ—¶åº](#61-ä¼ æ„Ÿå™¨æ•°æ®æµæ°´çº¿æ—¶åº)
    - [6.2 ä¼ æ„Ÿå™¨çŠ¶æ€æœº](#62-ä¼ æ„Ÿå™¨çŠ¶æ€æœº)
    - [6.3 ç½‘ç»œä¼ è¾“æ—¶åº](#63-ç½‘ç»œä¼ è¾“æ—¶åº)

---

## 1. ä¼ æ„Ÿå™¨æ•°æ®æµåŠ¨æ€åˆ†æ

### 1.1 æ•°æ®é‡‡é›†æµæ°´çº¿

```text
ç‰©ç†ä¸–ç•Œ              ä¼ æ„Ÿå™¨å±‚              è¾¹ç¼˜å±‚              äº‘ç«¯/åº”ç”¨å±‚
    â”‚                   â”‚                   â”‚                   â”‚
    â”‚ ç‰©ç†ä¿¡å·          â”‚                   â”‚                   â”‚
    â–¼                   â–¼                   â”‚                   â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚                   â”‚
â”‚ ç‰©ç†é‡  â”‚â”€â”€â”€â”€â”€â”€â–¶â”‚ ä¼ æ„Ÿå…ƒä»¶â”‚              â”‚                   â”‚
â”‚ å˜åŒ–    â”‚       â”‚ è½¬æ¢    â”‚              â”‚                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚                   â”‚
                        â”‚                  â”‚                   â”‚
                        â”‚ æ¨¡æ‹Ÿä¿¡å·         â”‚                   â”‚
                        â–¼                  â”‚                   â”‚
                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚                   â”‚
                  â”‚ A/Dè½¬æ¢ â”‚              â”‚                   â”‚
                  â”‚ æ•°å­—åŒ–  â”‚              â”‚                   â”‚
                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚                   â”‚
                        â”‚                  â”‚                   â”‚
                        â”‚ æ•°å­—åŸå§‹å€¼       â”‚                   â”‚
                        â–¼                  â”‚                   â”‚
                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚                   â”‚
                  â”‚ é¢„å¤„ç†  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                   â”‚
                  â”‚ æ»¤æ³¢/æ ¡å‡†              â”‚                   â”‚
                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚                   â”‚
                                           â”‚                   â”‚
                                           â”‚ å¤„ç†åçš„æ•°æ®      â”‚
                                           â–¼                   â”‚
                                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
                                     â”‚ è¾¹ç¼˜è®¡ç®—â”‚              â”‚
                                     â”‚ èšåˆ/åˆ†æ              â”‚
                                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
                                           â”‚                  â”‚
                                           â”‚ èšåˆæ•°æ®         â”‚
                                           â–¼                  â”‚
                                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
                                     â”‚ ç½‘ç»œä¼ è¾“â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
                                     â”‚ MQTT/HTTP             â”‚
                                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
                                                              â”‚
                                                              â–¼
                                                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                                        â”‚ äº‘å¹³å°  â”‚
                                                        â”‚ å­˜å‚¨/åˆ†æ
                                                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.2 æ•°æ®å¤„ç†å»¶è¿Ÿåˆ†æ

```text
ç«¯åˆ°ç«¯å»¶è¿Ÿç»„æˆ:

æ€»å»¶è¿Ÿ = T_sampling + T_processing + T_transmission + T_cloud + T_application

å…¶ä¸­:
- T_sampling: é‡‡æ ·å»¶è¿Ÿ (1-1000ms)
  â”œâ”€ ä¼ æ„Ÿå™¨å“åº”æ—¶é—´: 1-100ms
  â”œâ”€ A/Dè½¬æ¢æ—¶é—´: 0.1-10ms
  â””â”€ é¢„å¤„ç†æ—¶é—´: 0-50ms

- T_processing: è¾¹ç¼˜å¤„ç†å»¶è¿Ÿ (0-500ms)
  â”œâ”€ æ•°æ®æ¸…æ´—: 0-10ms
  â”œâ”€ ç‰¹å¾æå–: 0-100ms
  â”œâ”€ æœ¬åœ°åˆ†æ: 0-500ms
  â””â”€ æ•°æ®èšåˆ: 0-50ms

- T_transmission: ä¼ è¾“å»¶è¿Ÿ (10-5000ms)
  â”œâ”€ åè®®å°è£…: 1-10ms
  â”œâ”€ ç½‘ç»œä¼ è¾“: 10-5000ms (å–å†³äºç½‘ç»œç±»å‹)
  â”‚   â”œâ”€ WiFi: 10-50ms
  â”‚   â”œâ”€ 4G: 50-200ms
  â”‚   â”œâ”€ NB-IoT: 500-2000ms
  â”‚   â””â”€ LoRaWAN: 1000-5000ms
  â””â”€ åè®®è§£å°è£…: 1-10ms

- T_cloud: äº‘ç«¯å¤„ç†å»¶è¿Ÿ (10-1000ms)
  â”œâ”€ æ¶ˆæ¯é˜Ÿåˆ—: 1-100ms
  â”œâ”€ æ•°æ®å¤„ç†: 10-500ms
  â””â”€ å­˜å‚¨å†™å…¥: 1-100ms

- T_application: åº”ç”¨å±‚å»¶è¿Ÿ (0-1000ms)
  â”œâ”€ å®æ—¶å‘Šè­¦: 0-100ms
  â”œâ”€ å¯è§†åŒ–æ›´æ–°: 100-1000ms
  â””â”€ æ§åˆ¶å“åº”: 0-500ms
```

---

## 2. é‡‡æ ·ä¸ä¼ è¾“æ—¶åº

### 2.1 é‡‡æ ·ç­–ç•¥æ—¶åº

```text
è¿ç»­é‡‡æ ·æ¨¡å¼:

æ—¶é—´ â†’ 0    10   20   30   40   50   60   70   80   90  100 ms
       â”‚    â”‚    â”‚    â”‚    â”‚    â”‚    â”‚    â”‚    â”‚    â”‚
é‡‡æ ·:  â–ˆ    â–ˆ    â–ˆ    â–ˆ    â–ˆ    â–ˆ    â–ˆ    â–ˆ    â–ˆ    â–ˆ   (100Hz)

è§¦å‘é‡‡æ ·æ¨¡å¼:

æ—¶é—´ â†’ 0    50   100  150  200  250  300  350  400 ms
       â”‚         â”‚              â”‚              â”‚
è§¦å‘:              â–²              â–²              â–²
       â”‚         â”‚              â”‚              â”‚
é‡‡æ ·:           â–ˆ              â–ˆ              â–ˆ

å‘¨æœŸæ€§æ‰¹é‡é‡‡æ ·:

æ—¶é—´ â†’ 0    100  200  300  400  500  600  700  800 ms
       â”‚    â”‚    â”‚    â”‚    â”‚    â”‚    â”‚    â”‚
é‡‡æ ·çª—å£:â–ˆâ–ˆâ–ˆâ–ˆ    â–ˆâ–ˆâ–ˆâ–ˆ    â–ˆâ–ˆâ–ˆâ–ˆ    â–ˆâ–ˆâ–ˆâ–ˆ
       (10ä¸ªæ ·æœ¬)(10ä¸ªæ ·æœ¬)(10ä¸ªæ ·æœ¬)(10ä¸ªæ ·æœ¬)

äº‹ä»¶é©±åŠ¨é‡‡æ ·:

æ—¶é—´ â†’ 0    50   100  150  200  250  300  350  400 ms
       â”‚                   â”‚                   â”‚
äº‹ä»¶:        â–²    â–²              â–²    â–²    â–²
       â”‚                   â”‚                   â”‚
é‡‡æ ·:      â–ˆ    â–ˆ              â–ˆ    â–ˆ    â–ˆ
```

### 2.2 æ•°æ®ä¼ è¾“æ—¶åº

```text
MQTTä¼ è¾“æ—¶åº:

ä¼ æ„Ÿå™¨          MQTT Broker          è®¢é˜…è€…
   â”‚                â”‚                  â”‚
   â”‚â”€â”€CONNECTâ”€â”€â”€â”€â–¶â”‚                  â”‚
   â”‚â—€â”€â”€CONNACKâ”€â”€â”€â”€â”‚                  â”‚
   â”‚                â”‚                  â”‚
   â”‚â”€â”€PUBLISHâ”€â”€â”€â”€â–¶â”‚                  â”‚
   â”‚   QoS 0       â”‚                  â”‚
   â”‚                â”‚                  â”‚
   â”‚                â”‚â”€â”€PUBLISHâ”€â”€â”€â”€â”€â”€â”€â–¶â”‚
   â”‚                â”‚                  â”‚

å¸¦QoSçš„ä¼ è¾“:

ä¼ æ„Ÿå™¨          MQTT Broker          è®¢é˜…è€…
   â”‚                â”‚                  â”‚
   â”‚â”€â”€PUBLISHâ”€â”€â”€â”€â–¶â”‚                  â”‚
   â”‚   QoS 1       â”‚                  â”‚
   â”‚â—€â”€â”€PUBACKâ”€â”€â”€â”€â”€â”‚                  â”‚
   â”‚                â”‚â”€â”€PUBLISHâ”€â”€â”€â”€â”€â”€â”€â–¶â”‚
   â”‚                â”‚â—€â”€â”€PUBACKâ”€â”€â”€â”€â”€â”€â”€â”‚
   â”‚                â”‚                  â”‚

CoAPä¼ è¾“æ—¶åº (è¯·æ±‚/å“åº”):

å®¢æˆ·ç«¯            æœåŠ¡å™¨
   â”‚                â”‚
   â”‚â”€â”€GETâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
   â”‚   /sensor/temp â”‚
   â”‚                â”‚
   â”‚â—€â”€â”€2.05 Contentâ”‚
   â”‚   payload      â”‚
   â”‚                â”‚

CoAPè§‚å¯Ÿæ¨¡å¼:

å®¢æˆ·ç«¯            æœåŠ¡å™¨
   â”‚                â”‚
   â”‚â”€â”€GET(Observe)â–¶â”‚
   â”‚                â”‚
   â”‚â—€â”€â”€2.05 Contentâ”‚  (åˆå§‹å€¼)
   â”‚                â”‚
   â”‚â—€â”€â”€2.05 Contentâ”‚  (å˜åŒ–æ—¶æ¨é€)
   â”‚                â”‚
   â”‚â—€â”€â”€2.05 Contentâ”‚  (å˜åŒ–æ—¶æ¨é€)
```

---

## 3. çŠ¶æ€è½¬æ¢åˆ†æ

### 3.1 ä¼ æ„Ÿå™¨çŠ¶æ€æœº

```text
çŠ¶æ€: {åˆå§‹åŒ–, å¾…æœº, é‡‡æ ·ä¸­, ä¼ è¾“ä¸­, é”™è¯¯, ä½åŠŸè€—}

è½¬æ¢å‡½æ•°:
Î´(åˆå§‹åŒ–) = å¾…æœº (è‡ªæ£€é€šè¿‡)
Î´(åˆå§‹åŒ–) = é”™è¯¯ (è‡ªæ£€å¤±è´¥)

Î´(å¾…æœº) = é‡‡æ ·ä¸­ (å¯åŠ¨å‘½ä»¤)
Î´(å¾…æœº) = ä½åŠŸè€— (è¶…æ—¶/å‘½ä»¤)
Î´(å¾…æœº) = é”™è¯¯ (å¼‚å¸¸æ£€æµ‹)

Î´(é‡‡æ ·ä¸­) = ä¼ è¾“ä¸­ (ç¼“å†²åŒºæ»¡/å‘¨æœŸåˆ°)
Î´(é‡‡æ ·ä¸­) = å¾…æœº (åœæ­¢å‘½ä»¤)
Î´(é‡‡æ ·ä¸­) = ä½åŠŸè€— (ä½ç”µé‡)
Î´(é‡‡æ ·ä¸­) = é”™è¯¯ (ç¡¬ä»¶æ•…éšœ)

Î´(ä¼ è¾“ä¸­) = é‡‡æ ·ä¸­ (ä¼ è¾“å®Œæˆ)
Î´(ä¼ è¾“ä¸­) = å¾…æœº (åœæ­¢å‘½ä»¤)
Î´(ä¼ è¾“ä¸­) = é”™è¯¯ (ç½‘ç»œæ•…éšœ)

Î´(ä½åŠŸè€—) = å¾…æœº (å”¤é†’äº‹ä»¶)

Î´(é”™è¯¯) = åˆå§‹åŒ– (å¤ä½å‘½ä»¤)
Î´(é”™è¯¯) = å¾…æœº (é”™è¯¯æ¢å¤)
```

### 3.2 çŠ¶æ€è½¬æ¢çŸ©é˜µ

| å½“å‰çŠ¶æ€ | å¯åŠ¨å‘½ä»¤ | åœæ­¢å‘½ä»¤ | æ•°æ®å°±ç»ª | ä¼ è¾“å®Œæˆ | é”™è¯¯å‘ç”Ÿ | è¶…æ—¶ | ä½ç”µé‡ |
|---------|---------|---------|---------|---------|---------|------|-------|
| **åˆå§‹åŒ–** | å¾…æœº | - | - | - | é”™è¯¯ | - | - |
| **å¾…æœº** | é‡‡æ ·ä¸­ | - | - | - | é”™è¯¯ | ä½åŠŸè€— | - |
| **é‡‡æ ·ä¸­** | - | å¾…æœº | ä¼ è¾“ä¸­ | - | é”™è¯¯ | - | ä½åŠŸè€— |
| **ä¼ è¾“ä¸­** | - | å¾…æœº | - | é‡‡æ ·ä¸­ | é”™è¯¯ | - | - |
| **ä½åŠŸè€—** | - | - | - | - | - | - | - |
| **é”™è¯¯** | - | - | - | - | - | - | - |

### 3.3 ç”µæ± ä¾›ç”µä¼ æ„Ÿå™¨çŠ¶æ€

```text
æ­£å¸¸æ¨¡å¼ â—€â”€â”€â”€â”€â”€â”€â–¶ ä½åŠŸè€—æ¨¡å¼
   â”‚                  â”‚
   â”‚ æ´»åŠ¨å‘¨æœŸ         â”‚ ä¼‘çœ å‘¨æœŸ
   â”‚                  â”‚
   â–¼                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ é‡‡æ ·    â”‚      â”‚ æ·±åº¦ä¼‘çœ  â”‚
â”‚ å¤„ç†    â”‚      â”‚ RAMä¿æŒ â”‚
â”‚ ä¼ è¾“    â”‚      â”‚ å®šæ—¶å™¨è¿è¡Œ
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   â”‚                  â”‚
   â”‚ 50ms             â”‚ 9900ms
   â”‚ (0.5% duty)      â”‚ (99.5% duty)
   â”‚                  â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      10ç§’å‘¨æœŸ

åŠŸè€—åˆ†æ:
- æ­£å¸¸æ¨¡å¼: 50mA @ 3.3V = 165mW
- ä½åŠŸè€—æ¨¡å¼: 0.01mA @ 3.3V = 0.033mW
- å¹³å‡åŠŸè€—: 165Ã—0.005 + 0.033Ã—0.995 â‰ˆ 0.86mW
- ç”µæ± å¯¿å‘½: 2000mAh / 0.26mA â‰ˆ 300å¤©
```

---

## 4. ç½‘ç»œé€šä¿¡åŠ¨æ€

### 4.1 åè®®æ ˆæ•°æ®å°è£…

```text
åº”ç”¨å±‚æ•°æ®å°è£…æµç¨‹:

åŸå§‹ä¼ æ„Ÿå™¨æ•°æ®
    â†“ (JSONç¼–ç )
{
  "timestamp": 1708000000000,
  "sensor_id": "temp_01",
  "value": 23.5,
  "unit": "celsius"
}
    â†“ (MQTTå°è£…)
MQTTå›ºå®šæŠ¥å¤´: 0x30 (PUBLISH)
MQTTå¯å˜æŠ¥å¤´:
  - Topic: "sensors/zone1/temp_01"
  - Packet ID: 1234
MQTTè´Ÿè½½: JSONæ•°æ® (çº¦80å­—èŠ‚)
    â†“ (TCPå°è£…)
TCPæŠ¥å¤´:
  - Src Port: 51823
  - Dst Port: 1883
  - Seq/ACK
  - Flags: PSH, ACK
TCPè´Ÿè½½: MQTTæ¶ˆæ¯ (çº¦100å­—èŠ‚)
    â†“ (IPå°è£…)
IPæŠ¥å¤´:
  - Version: 4
  - Src IP: 192.168.1.100
  - Dst IP: 203.0.113.1
  - Protocol: TCP(6)
IPè´Ÿè½½: TCPæ®µ (çº¦120å­—èŠ‚)
    â†“ (ä»¥å¤ªç½‘å°è£…)
ä»¥å¤ªç½‘å¸§å¤´:
  - Src MAC: aa:bb:cc:dd:ee:ff
  - Dst MAC: 11:22:33:44:55:66
  - Type: IP(0x0800)
ä»¥å¤ªç½‘å¸§: çº¦134å­—èŠ‚
```

### 4.2 ç½‘ç»œæ‹“æ‰‘åŠ¨æ€

```text
æ˜Ÿå‹æ‹“æ‰‘ (WiFi/ä»¥å¤ªç½‘):

           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚  è·¯ç”±å™¨  â”‚
           â”‚ /AP     â”‚
           â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
                â”‚
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚         â”‚         â”‚
   â”Œâ”€â”€â”´â”€â”€â”  â”Œâ”€â”€â”´â”€â”€â”  â”Œâ”€â”€â”´â”€â”€â”
   â”‚ä¼ æ„Ÿå™¨1â”‚  â”‚ä¼ æ„Ÿå™¨2â”‚  â”‚ä¼ æ„Ÿå™¨3â”‚
   â””â”€â”€â”¬â”€â”€â”˜  â””â”€â”€â”¬â”€â”€â”˜  â””â”€â”€â”¬â”€â”€â”˜
      â”‚         â”‚         â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ç‰¹æ€§: å•ç‚¹æ•…éšœ, å¸¦å®½å…±äº«, å»¶è¿Ÿç¨³å®š

ç½‘çŠ¶æ‹“æ‰‘ (Zigbee/Thread):

   â”Œâ”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”
   â”‚  S1 â”‚â—€â”€â”€â”€â–¶â”‚  S2 â”‚â—€â”€â”€â”€â–¶â”‚  S3 â”‚
   â””â”€â”€â”¬â”€â”€â”˜     â””â”€â”€â”¬â”€â”€â”˜     â””â”€â”€â”¬â”€â”€â”˜
      â”‚           â”‚           â”‚
      â–¼           â–¼           â–¼
   â”Œâ”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”
   â”‚  S4 â”‚â—€â”€â”€â”€â–¶â”‚  S5 â”‚â—€â”€â”€â”€â–¶â”‚  S6 â”‚
   â””â”€â”€â”¬â”€â”€â”˜     â””â”€â”€â”¬â”€â”€â”˜     â””â”€â”€â”¬â”€â”€â”˜
      â”‚           â”‚           â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
               â”Œâ”€â”€â”€â”€â”€â”
               â”‚ç½‘å…³ â”‚
               â””â”€â”€â”€â”€â”€â”˜

ç‰¹æ€§: è‡ªæ„ˆåˆ, å¤šè·³è·¯ç”±, å»¶è¿Ÿç´¯ç§¯
```

---

## 5. ä¿¡æ¯ç†µå˜åŒ–åˆ†æ

### 5.1 ä¼ æ„Ÿå™¨æ•°æ®ä¿¡æ¯ç†µ

```text
ä¿¡æ¯åœ¨ä¼ æ„Ÿå™¨ç³»ç»Ÿä¸­çš„ç†µå˜:

ç‰©ç†ä¸–ç•Œä¿¡å·:     H â‰ˆ âˆ (è¿ç»­æ¨¡æ‹Ÿä¿¡å·)
     â”‚
     â”‚ ä¼ æ„Ÿå…ƒä»¶è½¬æ¢ (é‡‡æ ·å®šç†)
     â–¼
ç¦»æ•£é‡‡æ ·:         H = logâ‚‚(N) bits (Né‡åŒ–çº§åˆ«)
     â”‚
     â”‚ A/Dè½¬æ¢ (é‡åŒ–)
     â–¼
æ•°å­—åŸå§‹å€¼:       H = n bits (nä½ADCåˆ†è¾¨ç‡)
     â”‚
     â”‚ æ•°æ®å‹ç¼©/ç¼–ç 
     â–¼
ç¼–ç æ•°æ®:         H' â‰¤ H (å¯èƒ½çš„ä¿¡æ¯æŸå¤±)
     â”‚
     â”‚ ç½‘ç»œä¼ è¾“
     â–¼
æ¥æ”¶æ•°æ®:         H'' â‰ˆ H' (ä¿¡é“å™ªå£°)
     â”‚
     â”‚ æ•°æ®è§£ç 
     â–¼
åº”ç”¨æ•°æ®:         H''' â‰¤ H'' (ç‰¹å¾æå–æŸå¤±)

ä¿¡æ¯æŸå¤±ç‚¹:
1. é‡‡æ ·: è¿ç»­â†’ç¦»æ•£ (æ··å é£é™©)
2. é‡åŒ–: ç²¾åº¦é™åˆ¶
3. å‹ç¼©: æœ‰æŸå‹ç¼©
4. ç‰¹å¾æå–: é™ç»´å¤„ç†
```

### 5.2 æ•°æ®å‹ç¼©ç†µåˆ†æ

```text
åŸå§‹æ¸©åº¦æ•°æ®æµ:
[23.5, 23.6, 23.7, 23.6, 23.5, 23.4, 23.5, 23.6] Â°C
(æ¯ä¸ªå€¼32ä½æµ®ç‚¹ = 256 bits)

Deltaç¼–ç å:
[23.5, +0.1, +0.1, -0.1, -0.1, -0.1, +0.1, +0.1]
(åŸºç¡€å€¼32ä½ + 7Ã—8ä½delta = 88 bits)
å‹ç¼©æ¯”: 2.9:1

ä¿¡æ¯ç†µåˆ†æ:
åŸå§‹ç†µ: H(X) â‰ˆ 4.2 bits/æ ·æœ¬
Deltaç†µ: H(Î”X) â‰ˆ 1.8 bits/æ ·æœ¬

Huffmanç¼–ç å: çº¦ 1.5 bits/æ ·æœ¬
æ€»å‹ç¼©: 256 bits â†’ 12 bits (21:1)
```

---

## 6. MermaidåŠ¨æ€è§†å›¾

### 6.1 ä¼ æ„Ÿå™¨æ•°æ®æµæ°´çº¿æ—¶åº

```mermaid
sequenceDiagram
    participant P as ç‰©ç†ä¸–ç•Œ
    participant S as ä¼ æ„Ÿå™¨
    participant A as A/Dè½¬æ¢
    participant E as è¾¹ç¼˜èŠ‚ç‚¹
    participant N as ç½‘ç»œ
    participant C as äº‘å¹³å°

    loop é‡‡æ ·å‘¨æœŸ
        P->>S: ç‰©ç†ä¿¡å·å˜åŒ–
        S->>A: æ¨¡æ‹Ÿç”µå‹
        A->>A: æ•°å­—åŒ–
        A->>E: åŸå§‹æ•°æ®

        Note over E: é¢„å¤„ç†
        E->>E: æ»¤æ³¢
        E->>E: æ ¡å‡†
        E->>E: å‹ç¼©

        E->>N: å°è£…ä¼ è¾“
        N->>C: MQTT/HTTP
        C->>C: å­˜å‚¨/åˆ†æ
    end
```

### 6.2 ä¼ æ„Ÿå™¨çŠ¶æ€æœº

```mermaid
stateDiagram-v2
    [*] --> åˆå§‹åŒ–
    åˆå§‹åŒ– --> å¾…æœº: è‡ªæ£€é€šè¿‡
    åˆå§‹åŒ– --> é”™è¯¯: è‡ªæ£€å¤±è´¥

    å¾…æœº --> é‡‡æ ·ä¸­: å¯åŠ¨å‘½ä»¤
    å¾…æœº --> ä½åŠŸè€—: è¶…æ—¶
    å¾…æœº --> é”™è¯¯: å¼‚å¸¸

    é‡‡æ ·ä¸­ --> ä¼ è¾“ä¸­: æ•°æ®å°±ç»ª
    é‡‡æ ·ä¸­ --> å¾…æœº: åœæ­¢å‘½ä»¤
    é‡‡æ ·ä¸­ --> ä½åŠŸè€—: ä½ç”µé‡
    é‡‡æ ·ä¸­ --> é”™è¯¯: ç¡¬ä»¶æ•…éšœ

    ä¼ è¾“ä¸­ --> é‡‡æ ·ä¸­: å®Œæˆ
    ä¼ è¾“ä¸­ --> å¾…æœº: åœæ­¢
    ä¼ è¾“ä¸­ --> é”™è¯¯: ç½‘ç»œæ•…éšœ

    ä½åŠŸè€— --> å¾…æœº: å”¤é†’

    é”™è¯¯ --> åˆå§‹åŒ–: å¤ä½
```

### 6.3 ç½‘ç»œä¼ è¾“æ—¶åº

```mermaid
sequenceDiagram
    participant S as ä¼ æ„Ÿå™¨
    participant B as MQTT Broker
    participant C as å®¢æˆ·ç«¯

    S->>B: CONNECT
    B-->>S: CONNACK

    C->>B: CONNECT
    B-->>C: CONNACK
    C->>B: SUBSCRIBE sensors/#
    B-->>C: SUBACK

    loop æ•°æ®ä¸ŠæŠ¥
        S->>B: PUBLISH sensors/temp 23.5Â°C
        B->>C: PUBLISH sensors/temp 23.5Â°C
    end
```

---

**å‚è€ƒæ–‡æ¡£**:

- `01_Overview.md` - ä¼ æ„Ÿå™¨Schemaæ¦‚è¿°
- `06_Formal_Grammar_Semantics.md` - å½¢å¼è¯­æ³•è¯­ä¹‰

**ç»´æŠ¤è€…**: DSL Schemaç ”ç©¶å›¢é˜Ÿ
