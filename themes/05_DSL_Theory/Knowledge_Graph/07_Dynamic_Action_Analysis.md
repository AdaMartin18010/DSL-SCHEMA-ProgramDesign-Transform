# çŸ¥è¯†å›¾è°±Schemaä¿¡æ¯è¡¨å¾åŠ¨æ€åŠ¨ä½œåˆ†æžè§†å›¾

**ç‰ˆæœ¬**: v1.0
**åˆ›å»ºæ—¥æœŸ**: 2026-02-15

---

## ðŸ“‘ ç›®å½•

- [çŸ¥è¯†å›¾è°±Schemaä¿¡æ¯è¡¨å¾åŠ¨æ€åŠ¨ä½œåˆ†æžè§†å›¾](#çŸ¥è¯†å›¾è°±schemaä¿¡æ¯è¡¨å¾åŠ¨æ€åŠ¨ä½œåˆ†æžè§†å›¾)
  - [ðŸ“‘ ç›®å½•](#-ç›®å½•)
  - [1. çŸ¥è¯†å›¾è°±æ“ä½œåŠ¨æ€åˆ†æž](#1-çŸ¥è¯†å›¾è°±æ“ä½œåŠ¨æ€åˆ†æž)
    - [1.1 æ•°æ®æµå…¥åŠ¨æ€](#11-æ•°æ®æµå…¥åŠ¨æ€)
  - [2. æŽ¨ç†è¿‡ç¨‹æ—¶åº](#2-æŽ¨ç†è¿‡ç¨‹æ—¶åº)
    - [2.1 å‰å‘é“¾æŽ¨ç†](#21-å‰å‘é“¾æŽ¨ç†)
  - [3. æŸ¥è¯¢æ‰§è¡ŒåŠ¨æ€](#3-æŸ¥è¯¢æ‰§è¡ŒåŠ¨æ€)
    - [3.1 SPARQLæŸ¥è¯¢æ‰§è¡Œ](#31-sparqlæŸ¥è¯¢æ‰§è¡Œ)
  - [4. MermaidåŠ¨æ€è§†å›¾](#4-mermaidåŠ¨æ€è§†å›¾)
    - [4.1 çŸ¥è¯†å›¾è°±æž„å»ºæ—¶åº](#41-çŸ¥è¯†å›¾è°±æž„å»ºæ—¶åº)
    - [4.2 æŽ¨ç†åŠ¨æ€å›¾](#42-æŽ¨ç†åŠ¨æ€å›¾)
    - [4.3 æŸ¥è¯¢æ‰§è¡Œæµç¨‹](#43-æŸ¥è¯¢æ‰§è¡Œæµç¨‹)

---

## 1. çŸ¥è¯†å›¾è°±æ“ä½œåŠ¨æ€åˆ†æž

### 1.1 æ•°æ®æµå…¥åŠ¨æ€

```
æ•°æ®æº          æå–            è½¬æ¢            åŠ è½½            å­˜å‚¨
  â”‚             â”‚              â”‚              â”‚              â”‚
  â”‚ åŽŸå§‹æ•°æ®    â”‚              â”‚              â”‚              â”‚
  â–¼             â–¼              â”‚              â”‚              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚              â”‚              â”‚
â”‚ æ•°æ®åº“  â”‚â”€â–¶â”‚ æå–å™¨  â”‚      â”‚              â”‚              â”‚
â”‚ API     â”‚  â”‚ (ETL)   â”‚      â”‚              â”‚              â”‚
â”‚ æ–‡ä»¶    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚              â”‚              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚           â”‚              â”‚              â”‚
                  â”‚ æå–ç»“æžœ  â”‚              â”‚              â”‚
                  â–¼           â–¼              â”‚              â”‚
                           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚              â”‚
                           â”‚ è½¬æ¢å™¨  â”‚      â”‚              â”‚
                           â”‚ æ˜ å°„è§„åˆ™ â”‚      â”‚              â”‚
                           â”‚ æ•°æ®æ¸…æ´— â”‚      â”‚              â”‚
                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚              â”‚
                                  â”‚         â”‚              â”‚
                                  â”‚ RDFä¸‰å…ƒç»„             â”‚
                                  â–¼         â–¼              â”‚
                                           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
                                           â”‚ åŠ è½½å™¨  â”‚    â”‚
                                           â”‚ åŽ»é‡    â”‚â”€â”€â”€â”€â”¤
                                           â”‚ éªŒè¯    â”‚    â”‚
                                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
                                                      â”‚   â”‚
                                                      â–¼   â–¼
                                                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                                   â”‚ å›¾æ•°æ®åº“â”‚
                                                   â”‚ RDFå­˜å‚¨ â”‚
                                                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. æŽ¨ç†è¿‡ç¨‹æ—¶åº

### 2.1 å‰å‘é“¾æŽ¨ç†

```
æ—¶é—´:    t0   t1   t2   t3   t4   t5   t6
         â”‚    â”‚    â”‚    â”‚    â”‚    â”‚    â”‚
åˆå§‹:    â–“â–“â–“â–“â–“â–“
ä¸‰å…ƒç»„   (T1,T2,T3)
              â”‚
              â–¼
è§„åˆ™R1   â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â–ˆâ–ˆâ–ˆâ–ˆ
è§¦å‘          (T4æŽ¨å¯¼)
                   â”‚
                   â–¼
è§„åˆ™R2   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â–ˆâ–ˆâ–ˆâ–ˆ
è§¦å‘                        (T5æŽ¨å¯¼)
                              â”‚
                              â–¼
è§„åˆ™R3   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â–ˆâ–ˆâ–ˆâ–ˆ
è§¦å‘                                  (T6æŽ¨å¯¼)
                                        â”‚
é¥±å’Œç‚¹   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
(æ— æ–°ä¸‰å…ƒç»„)

æœ€ç»ˆçŸ¥è¯†å›¾è°±: {T1, T2, T3, T4, T5, T6}
```

---

## 3. æŸ¥è¯¢æ‰§è¡ŒåŠ¨æ€

### 3.1 SPARQLæŸ¥è¯¢æ‰§è¡Œ

```
æŸ¥è¯¢è§£æž          æŸ¥è¯¢ä¼˜åŒ–          æ‰§è¡Œè®¡åˆ’          ç»“æžœç”Ÿæˆ
    â”‚               â”‚               â”‚               â”‚
    â–¼               â–¼               â”‚               â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚               â”‚
â”‚ è¯æ³•åˆ†æž â”‚    â”‚ ä»£æ•°ä¼˜åŒ– â”‚         â”‚               â”‚
â”‚ è¯­æ³•åˆ†æž â”‚    â”‚ ç»Ÿè®¡ä¼˜åŒ– â”‚         â”‚               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚               â”‚
      â”‚              â”‚             â”‚               â”‚
      â”‚ AST          â”‚ ä¼˜åŒ–AST     â”‚               â”‚
      â–¼              â–¼             â–¼               â”‚
                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
                              â”‚ æ‰§è¡Œå¼•æ“Ž â”‚         â”‚
                              â”‚ ç´¢å¼•æŸ¥æ‰¾ â”‚         â”‚
                              â”‚ å›¾éåŽ†   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
                                          â”‚       â”‚
                                          â–¼       â–¼
                                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                      â”‚ ç»“æžœé›†  â”‚
                                      â”‚ åºåˆ—åŒ–  â”‚
                                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 4. MermaidåŠ¨æ€è§†å›¾

### 4.1 çŸ¥è¯†å›¾è°±æž„å»ºæ—¶åº

```mermaid
sequenceDiagram
    participant S as æ•°æ®æº
    participant E as æå–å™¨
    participant T as è½¬æ¢å™¨
    participant L as åŠ è½½å™¨
    participant K as çŸ¥è¯†å›¾è°±

    S->>E: åŽŸå§‹æ•°æ®
    E->>E: æå–å®žä½“/å…³ç³»
    E->>T: ç»“æž„åŒ–æ•°æ®
    T->>T: æ˜ å°„åˆ°æœ¬ä½“
    T->>T: ç”ŸæˆRDF
    T->>L: ä¸‰å…ƒç»„
    L->>L: åŽ»é‡éªŒè¯
    L->>K: åŠ è½½å­˜å‚¨
```

### 4.2 æŽ¨ç†åŠ¨æ€å›¾

```mermaid
flowchart TD
    A[åˆå§‹ä¸‰å…ƒç»„] --> B[åº”ç”¨è§„åˆ™R1]
    B --> C[æŽ¨å¯¼æ–°ä¸‰å…ƒç»„]
    C --> D{æœ‰æ–°äº‹å®ž?}
    D -->|æ˜¯| E[åº”ç”¨è§„åˆ™R2]
    D -->|å¦| F[æŽ¨ç†å®Œæˆ]
    E --> G[æŽ¨å¯¼æ–°ä¸‰å…ƒç»„]
    G --> D
```

### 4.3 æŸ¥è¯¢æ‰§è¡Œæµç¨‹

```mermaid
sequenceDiagram
    participant U as ç”¨æˆ·
    participant P as æŸ¥è¯¢è§£æžå™¨
    participant O as ä¼˜åŒ–å™¨
    participant E as æ‰§è¡Œå¼•æ“Ž
    participant K as çŸ¥è¯†å›¾è°±

    U->>P: SPARQLæŸ¥è¯¢
    P->>P: è§£æž
    P->>O: æŸ¥è¯¢AST
    O->>O: ä¼˜åŒ–
    O->>E: æ‰§è¡Œè®¡åˆ’
    E->>K: ç´¢å¼•æŸ¥æ‰¾
    K-->>E: åŒ¹é…ä¸‰å…ƒç»„
    E->>E: ç»“æžœèšåˆ
    E-->>U: æŸ¥è¯¢ç»“æžœ
```

---

**ç»´æŠ¤è€…**: DSL Schemaç ”ç©¶å›¢é˜Ÿ
