# ä»£ç ç”ŸæˆSchemaä¿¡æ¯è¡¨å¾åŠ¨æ€åŠ¨ä½œåˆ†æžè§†å›¾

**ç‰ˆæœ¬**: v1.0
**åˆ›å»ºæ—¥æœŸ**: 2026-02-15

---

## ðŸ“‘ ç›®å½•

- [ä»£ç ç”ŸæˆSchemaä¿¡æ¯è¡¨å¾åŠ¨æ€åŠ¨ä½œåˆ†æžè§†å›¾](#ä»£ç ç”Ÿæˆschemaä¿¡æ¯è¡¨å¾åŠ¨æ€åŠ¨ä½œåˆ†æžè§†å›¾)
  - [ðŸ“‘ ç›®å½•](#-ç›®å½•)
  - [1. ä»£ç ç”Ÿæˆæµæ°´çº¿åŠ¨æ€åˆ†æž](#1-ä»£ç ç”Ÿæˆæµæ°´çº¿åŠ¨æ€åˆ†æž)
    - [1.1 ç”Ÿæˆæµæ°´çº¿](#11-ç”Ÿæˆæµæ°´çº¿)
    - [1.2 æ€§èƒ½åˆ†æž](#12-æ€§èƒ½åˆ†æž)
  - [2. è½¬æ¢æ—¶åºåˆ†æž](#2-è½¬æ¢æ—¶åºåˆ†æž)
    - [2.1 å¢žé‡ç”Ÿæˆæ—¶åº](#21-å¢žé‡ç”Ÿæˆæ—¶åº)
  - [3. MermaidåŠ¨æ€è§†å›¾](#3-mermaidåŠ¨æ€è§†å›¾)
    - [3.1 ä»£ç ç”Ÿæˆæ—¶åº](#31-ä»£ç ç”Ÿæˆæ—¶åº)
    - [3.2 ç±»åž‹è½¬æ¢æµç¨‹](#32-ç±»åž‹è½¬æ¢æµç¨‹)

---

## 1. ä»£ç ç”Ÿæˆæµæ°´çº¿åŠ¨æ€åˆ†æž

### 1.1 ç”Ÿæˆæµæ°´çº¿

```text
è¾“å…¥                è§£æž               åˆ†æž               ç”Ÿæˆ               è¾“å‡º
 â”‚                  â”‚                 â”‚                 â”‚                 â”‚
 â”‚ Schemaæ–‡ä»¶       â”‚                 â”‚                 â”‚                 â”‚
 â–¼                  â–¼                 â”‚                 â”‚                 â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚                 â”‚                 â”‚
â”‚ OpenAPI â”‚â”€â”€â”€â–¶â”‚ è§£æžå™¨  â”‚           â”‚                 â”‚                 â”‚
â”‚ JSON    â”‚    â”‚ è¯æ³•åˆ†æž â”‚           â”‚                 â”‚                 â”‚
â”‚ Protobufâ”‚    â”‚ è¯­æ³•åˆ†æž â”‚           â”‚                 â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚                 â”‚                 â”‚
                      â”‚              â”‚                 â”‚                 â”‚
                      â”‚ AST          â”‚                 â”‚                 â”‚
                      â–¼              â–¼                 â”‚                 â”‚
                                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚                 â”‚
                                â”‚ è¯­ä¹‰åˆ†æž â”‚           â”‚                 â”‚
                                â”‚ ç±»åž‹æ£€æŸ¥ â”‚           â”‚                 â”‚
                                â”‚ å¼•ç”¨è§£æž â”‚           â”‚                 â”‚
                                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚                 â”‚
                                      â”‚               â”‚                 â”‚
                                      â”‚ å¢žå¼ºAST       â”‚                 â”‚
                                      â–¼               â–¼                 â”‚
                                                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
                                                â”‚ æ¨¡æ¿å¼•æ“Ž â”‚           â”‚
                                                â”‚ ä»£ç ç”Ÿæˆ â”‚           â”‚
                                                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
                                                      â”‚               â”‚
                                                      â”‚ æºä»£ç         â”‚
                                                      â–¼               â”‚
                                                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
                                                â”‚ åŽå¤„ç†  â”‚         â”‚
                                                â”‚ æ ¼å¼åŒ–  â”‚         â”‚
                                                â”‚ ä¼˜åŒ–    â”‚         â”‚
                                                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
                                                      â”‚             â”‚
                                                      â”‚ æœ€ç»ˆä»£ç     â”‚
                                                      â–¼             â”‚
                                                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
                                                â”‚ è¾“å‡ºæ–‡ä»¶â”‚       â”‚
                                                â”‚ .java   â”‚       â”‚
                                                â”‚ .py     â”‚       â”‚
                                                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
                                                                    â”‚
                                                                    â–¼
                                                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                                              â”‚ ç¼–è¯‘/ä½¿ç”¨â”‚
                                                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.2 æ€§èƒ½åˆ†æž

```text
ä»£ç ç”Ÿæˆå„é˜¶æ®µæ—¶é—´å æ¯”:

è§£æžé˜¶æ®µ:    10% (10-100ms)
åˆ†æžé˜¶æ®µ:    20% (20-200ms)
ç”Ÿæˆé˜¶æ®µ:    50% (50-500ms)
åŽå¤„ç†é˜¶æ®µ:  20% (20-200ms)

æ€»æ—¶é—´: 100ms - 1s (å–å†³äºŽSchemaå¤æ‚åº¦)
```

---

## 2. è½¬æ¢æ—¶åºåˆ†æž

### 2.1 å¢žé‡ç”Ÿæˆæ—¶åº

```text
æ—¶é—´:     t0   t1   t2   t3   t4   t5   t6   t7   t8
          â”‚    â”‚    â”‚    â”‚    â”‚    â”‚    â”‚    â”‚    â”‚
Schema    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
å˜åŒ–:         â–²              â–²              â–²
          åˆå§‹           ä¿®æ”¹A          ä¿®æ”¹B

ç”Ÿæˆ:      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ              â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
          (å…¨é‡)              (å¢žé‡A)     (å¢žé‡B)

å¢žé‡æ£€æµ‹:       â”‚              â”‚              â”‚
              diff          diff           diff
               â”‚              â”‚              â”‚
å—å½±å“æ–‡ä»¶:     â”‚              â”‚              â”‚
              3ä¸ª            1ä¸ª            2ä¸ª
```

---

## 3. MermaidåŠ¨æ€è§†å›¾

### 3.1 ä»£ç ç”Ÿæˆæ—¶åº

```mermaid
sequenceDiagram
    participant U as ç”¨æˆ·
    participant P as è§£æžå™¨
    participant A as åˆ†æžå™¨
    participant G as ç”Ÿæˆå™¨
    participant F as æ–‡ä»¶ç³»ç»Ÿ

    U->>P: è¾“å…¥Schema
    P->>P: è¯æ³•åˆ†æž
    P->>P: è¯­æ³•åˆ†æž
    P->>A: AST

    A->>A: è¯­ä¹‰åˆ†æž
    A->>A: ç±»åž‹æŽ¨æ–­
    A->>G: å¢žå¼ºAST

    G->>G: æ¨¡æ¿åŒ¹é…
    G->>G: ä»£ç ç”Ÿæˆ
    G->>G: æ ¼å¼åŒ–
    G->>F: å†™å…¥æ–‡ä»¶

    F-->>U: ç”Ÿæˆå®Œæˆ
```

### 3.2 ç±»åž‹è½¬æ¢æµç¨‹

```mermaid
flowchart TD
    A[æºç±»åž‹] --> B{ç±»åž‹åˆ†ç±»}
    B -->|æ ‡é‡| C[ç›´æŽ¥æ˜ å°„]
    B -->|æ•°ç»„| D[æ³›åž‹æ˜ å°„]
    B -->|å¯¹è±¡| E[ç±»æ˜ å°„]
    B -->|è”åˆ| F[å¯é€‰ç±»åž‹æ˜ å°„]

    C --> G[ç›®æ ‡ç±»åž‹]
    D --> G
    E --> G
    F --> G

    H[å‘½åç­–ç•¥] --> G
    I[éªŒè¯è§„åˆ™] --> G
```

---

**ç»´æŠ¤è€…**: DSL Schemaç ”ç©¶å›¢é˜Ÿ
