# ç¼–ç¨‹è¯­è¨€æ˜ å°„å½¢å¼åŒ–å®šä¹‰

## ğŸ“‘ ç›®å½•

- [ç¼–ç¨‹è¯­è¨€æ˜ å°„å½¢å¼åŒ–å®šä¹‰](#ç¼–ç¨‹è¯­è¨€æ˜ å°„å½¢å¼åŒ–å®šä¹‰)
  - [ğŸ“‘ ç›®å½•](#-ç›®å½•)
  - [1. æ˜ å°„å½¢å¼åŒ–æ¨¡å‹](#1-æ˜ å°„å½¢å¼åŒ–æ¨¡å‹)
    - [1.1 åŸºæœ¬å®šä¹‰](#11-åŸºæœ¬å®šä¹‰)
    - [1.2 æ˜ å°„å‡½æ•°](#12-æ˜ å°„å‡½æ•°)
  - [2. ç±»å‹æ˜ å°„å½¢å¼åŒ–](#2-ç±»å‹æ˜ å°„å½¢å¼åŒ–)
    - [2.1 åŸºæœ¬ç±»å‹æ˜ å°„](#21-åŸºæœ¬ç±»å‹æ˜ å°„)
    - [2.2 å¤åˆç±»å‹æ˜ å°„](#22-å¤åˆç±»å‹æ˜ å°„)
    - [2.3 ç±»å‹çº¦æŸæ˜ å°„](#23-ç±»å‹çº¦æŸæ˜ å°„)
  - [3. è¯­ä¹‰æ˜ å°„å½¢å¼åŒ–](#3-è¯­ä¹‰æ˜ å°„å½¢å¼åŒ–)
    - [3.1 æ“ä½œè¯­ä¹‰æ˜ å°„](#31-æ“ä½œè¯­ä¹‰æ˜ å°„)
    - [3.2 çº¦æŸè¯­ä¹‰æ˜ å°„](#32-çº¦æŸè¯­ä¹‰æ˜ å°„)
  - [4. æ˜ å°„æ€§è´¨](#4-æ˜ å°„æ€§è´¨)
    - [4.1 å®Œå¤‡æ€§](#41-å®Œå¤‡æ€§)
    - [4.2 æ­£ç¡®æ€§](#42-æ­£ç¡®æ€§)
    - [4.3 è¯­ä¹‰ç­‰ä»·æ€§](#43-è¯­ä¹‰ç­‰ä»·æ€§)
  - [5. å½¢å¼åŒ–å®šç†](#5-å½¢å¼åŒ–å®šç†)
    - [5.1 æ˜ å°„å®Œå¤‡æ€§å®šç†](#51-æ˜ å°„å®Œå¤‡æ€§å®šç†)
    - [5.2 æ˜ å°„æ­£ç¡®æ€§å®šç†](#52-æ˜ å°„æ­£ç¡®æ€§å®šç†)
    - [5.3 è¯­ä¹‰ç­‰ä»·æ€§å®šç†](#53-è¯­ä¹‰ç­‰ä»·æ€§å®šç†)
  - [6. è¯æ˜](#6-è¯æ˜)
    - [6.1 å®Œå¤‡æ€§è¯æ˜](#61-å®Œå¤‡æ€§è¯æ˜)
    - [6.2 æ­£ç¡®æ€§è¯æ˜](#62-æ­£ç¡®æ€§è¯æ˜)
  - [7. å‚è€ƒæ–‡çŒ®](#7-å‚è€ƒæ–‡çŒ®)
    - [7.1 ç†è®ºæ–‡çŒ®](#71-ç†è®ºæ–‡çŒ®)
    - [7.2 å®è·µæ–‡çŒ®](#72-å®è·µæ–‡çŒ®)

---

## 1. æ˜ å°„å½¢å¼åŒ–æ¨¡å‹

### 1.1 åŸºæœ¬å®šä¹‰

è®¾ `Schema_Type` ä¸ºSchemaç±»å‹é›†åˆï¼Œ
`Language_Type` ä¸ºç¼–ç¨‹è¯­è¨€ç±»å‹é›†åˆã€‚

**å®šä¹‰1ï¼ˆç±»å‹æ˜ å°„ï¼‰**ï¼š
ç±»å‹æ˜ å°„å‡½æ•° `M_type` å®šä¹‰ä¸ºï¼š

```text
M_type: Schema_Type â†’ Language_Type
```

**å®šä¹‰2ï¼ˆå€¼æ˜ å°„ï¼‰**ï¼š
å€¼æ˜ å°„å‡½æ•° `M_value` å®šä¹‰ä¸ºï¼š

```text
M_value: Value_Schema â†’ Value_Language
```

### 1.2 æ˜ å°„å‡½æ•°

**å®šä¹‰3ï¼ˆå®Œæ•´æ˜ å°„ï¼‰**ï¼š
å®Œæ•´æ˜ å°„å‡½æ•° `M` å®šä¹‰ä¸ºï¼š

```text
M: Schema â†’ Language_Code
```

å…¶ä¸­ï¼š

```text
M(Schema) = {
  types: M_type(Types_Schema),
  values: M_value(Values_Schema),
  constraints: M_constraint(Constraints_Schema),
  operations: M_operation(Operations_Schema)
}
```

---

## 2. ç±»å‹æ˜ å°„å½¢å¼åŒ–

### 2.1 åŸºæœ¬ç±»å‹æ˜ å°„

**å®šä¹‰4ï¼ˆåŸºæœ¬ç±»å‹æ˜ å°„ï¼‰**ï¼š
åŸºæœ¬ç±»å‹æ˜ å°„å‡½æ•° `M_basic`ï¼š

```text
M_basic: BasicType_Schema â†’ BasicType_Language
```

**æ˜ å°„è§„åˆ™**ï¼š

```text
M_basic(string) = {
  Python: str,
  Rust: String,
  Java: String,
  Go: string
}

M_basic(integer) = {
  Python: int,
  Rust: i32 | i64,
  Java: int | long,
  Go: int | int64
}

M_basic(number) = {
  Python: float,
  Rust: f32 | f64,
  Java: float | double,
  Go: float32 | float64
}

M_basic(boolean) = {
  Python: bool,
  Rust: bool,
  Java: boolean,
  Go: bool
}
```

### 2.2 å¤åˆç±»å‹æ˜ å°„

**å®šä¹‰5ï¼ˆå¤åˆç±»å‹æ˜ å°„ï¼‰**ï¼š
å¤åˆç±»å‹æ˜ å°„å‡½æ•° `M_composite`ï¼š

```text
M_composite: CompositeType_Schema â†’ CompositeType_Language
```

**æ˜ å°„è§„åˆ™**ï¼š

```text
M_composite(array[T]) = {
  Python: List[M_type(T)],
  Rust: Vec<M_type(T)>,
  Java: List<M_type(T)>,
  Go: []M_type(T)
}

M_composite(object{fields}) = {
  Python: class with fields,
  Rust: struct { fields },
  Java: class { fields },
  Go: struct { fields }
}
```

### 2.3 ç±»å‹çº¦æŸæ˜ å°„

**å®šä¹‰6ï¼ˆç±»å‹çº¦æŸæ˜ å°„ï¼‰**ï¼š
ç±»å‹çº¦æŸæ˜ å°„å‡½æ•° `M_constraint`ï¼š

```text
M_constraint: Constraint_Schema â†’ Constraint_Language
```

**æ˜ å°„è§„åˆ™**ï¼š

```text
M_constraint(range(min, max)) = {
  Python: @validate(min_value=min, max_value=max),
  Rust: #[validate(range(min = min, max = max))],
  Java: @Min(min) @Max(max),
  Go: validate:"min=min,max=max"
}

M_constraint(pattern(regex)) = {
  Python: @validate(regex=regex),
  Rust: #[validate(regex = regex)],
  Java: @Pattern(regexp=regex),
  Go: validate:"regexp=regex"
}
```

---

## 3. è¯­ä¹‰æ˜ å°„å½¢å¼åŒ–

### 3.1 æ“ä½œè¯­ä¹‰æ˜ å°„

**å®šä¹‰7ï¼ˆæ“ä½œè¯­ä¹‰æ˜ å°„ï¼‰**ï¼š
æ“ä½œè¯­ä¹‰æ˜ å°„å‡½æ•° `M_operation`ï¼š

```text
M_operation: Operation_Schema â†’ Operation_Language
```

**æ˜ å°„è§„åˆ™**ï¼š

```text
M_operation(create(object)) = {
  Python: object.__init__(),
  Rust: object::new(),
  Java: new Object(),
  Go: NewObject()
}

M_operation(validate(object)) = {
  Python: object.validate(),
  Rust: object.validate(),
  Java: object.validate(),
  Go: object.Validate()
}
```

### 3.2 çº¦æŸè¯­ä¹‰æ˜ å°„

**å®šä¹‰8ï¼ˆçº¦æŸè¯­ä¹‰æ˜ å°„ï¼‰**ï¼š
çº¦æŸè¯­ä¹‰æ˜ å°„å‡½æ•° `M_constraint_semantic`ï¼š

```text
M_constraint_semantic: ConstraintSemantic_Schema â†’ ConstraintSemantic_Language
```

**æ˜ å°„è§„åˆ™**ï¼š
çº¦æŸè¯­ä¹‰åœ¨ç›®æ ‡è¯­è¨€ä¸­é€šè¿‡éªŒè¯å‡½æ•°å®ç°ã€‚

---

## 4. æ˜ å°„æ€§è´¨

### 4.1 å®Œå¤‡æ€§

**å®šä¹‰9ï¼ˆæ˜ å°„å®Œå¤‡æ€§ï¼‰**ï¼š
æ˜ å°„ `M` æ˜¯å®Œå¤‡çš„ï¼Œå½“ä¸”ä»…å½“ï¼š

```text
âˆ€T âˆˆ Schema_Type, âˆƒT' âˆˆ Language_Type,
  M_type(T) = T'
```

### 4.2 æ­£ç¡®æ€§

**å®šä¹‰10ï¼ˆæ˜ å°„æ­£ç¡®æ€§ï¼‰**ï¼š
æ˜ å°„ `M` æ˜¯æ­£ç¡®çš„ï¼Œå½“ä¸”ä»…å½“ï¼š

```text
âˆ€T âˆˆ Schema_Type, âˆ€v âˆˆ Value(T),
  type(M_value(v)) = M_type(T)
```

### 4.3 è¯­ä¹‰ç­‰ä»·æ€§

**å®šä¹‰11ï¼ˆè¯­ä¹‰ç­‰ä»·æ€§ï¼‰**ï¼š
æ˜ å°„ `M` ä¿æŒè¯­ä¹‰ç­‰ä»·ï¼Œå½“ä¸”ä»…å½“ï¼š

```text
âˆ€S âˆˆ Schema, âˆ€v âˆˆ Value(S),
  semantic(M(S), M_value(v)) = semantic(S, v)
```

---

## 5. å½¢å¼åŒ–å®šç†

### 5.1 æ˜ å°„å®Œå¤‡æ€§å®šç†

**å®šç†1ï¼ˆæ˜ å°„å®Œå¤‡æ€§ï¼‰**ï¼š
å¯¹äºä»»æ„Schemaç±»å‹ `T` å’Œç›®æ ‡è¯­è¨€ `L`ï¼Œ
å­˜åœ¨æ˜ å°„å‡½æ•° `M_type`ï¼Œä½¿å¾— `M_type(T)` åœ¨ `L` ä¸­æœ‰å¯¹åº”ç±»å‹ã€‚

### 5.2 æ˜ å°„æ­£ç¡®æ€§å®šç†

**å®šç†2ï¼ˆæ˜ å°„æ­£ç¡®æ€§ï¼‰**ï¼š
å¦‚æœæ˜ å°„å‡½æ•° `M` æ­£ç¡®å®ç°ï¼Œ
åˆ™å¯¹äºä»»æ„Schemaå€¼ `v`ï¼Œæ˜ å°„åçš„å€¼ `M_value(v)`
æ»¡è¶³ç±»å‹çº¦æŸã€‚

### 5.3 è¯­ä¹‰ç­‰ä»·æ€§å®šç†

**å®šç†3ï¼ˆè¯­ä¹‰ç­‰ä»·æ€§ï¼‰**ï¼š
å¦‚æœæ˜ å°„å‡½æ•° `M` æ­£ç¡®å®ç°ï¼Œ
åˆ™æ˜ å°„åçš„ä»£ç ä¸åŸå§‹Schemaè¯­ä¹‰ç­‰ä»·ã€‚

---

## 6. è¯æ˜

### 6.1 å®Œå¤‡æ€§è¯æ˜

**è¯æ˜**ï¼š
æ ¹æ®ç±»å‹ç³»ç»Ÿç†è®ºï¼Œæ‰€æœ‰Schemaç±»å‹éƒ½å¯ä»¥æ˜ å°„åˆ°
ç¼–ç¨‹è¯­è¨€çš„ç±»å‹ç³»ç»Ÿã€‚å› æ­¤ï¼Œæ˜ å°„æ˜¯å®Œå¤‡çš„ã€‚

### 6.2 æ­£ç¡®æ€§è¯æ˜

**è¯æ˜**ï¼š
æ˜ å°„å‡½æ•°éµå¾ªç±»å‹ç³»ç»Ÿè§„åˆ™ï¼Œå› æ­¤æ˜ å°„æ˜¯æ­£ç¡®çš„ã€‚

---

## 7. å‚è€ƒæ–‡çŒ®

### 7.1 ç†è®ºæ–‡çŒ®

- ç±»å‹ç³»ç»Ÿç†è®º
- ç¨‹åºè¯­ä¹‰ç†è®º

### 7.2 å®è·µæ–‡çŒ®

- è¯­è¨€æ˜ å°„æœ€ä½³å®è·µ

---

**å‚è€ƒæ–‡æ¡£**ï¼š

- `01_Overview.md` - æ¦‚è¿°
- `../Formal_Model/` - å½¢å¼åŒ–æ¨¡å‹
- `../Code_Generation/` - ä»£ç ç”Ÿæˆ

**åˆ›å»ºæ—¶é—´**ï¼š2025-01-21
**æœ€åæ›´æ–°**ï¼š2025-01-21
