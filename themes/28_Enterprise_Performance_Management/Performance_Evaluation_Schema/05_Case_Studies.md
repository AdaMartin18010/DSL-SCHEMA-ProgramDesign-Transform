# ç»©æ•ˆè¯„ä¼°Schemaå®è·µæ¡ˆä¾‹

## ğŸ“‘ ç›®å½•

- [ç»©æ•ˆè¯„ä¼°Schemaå®è·µæ¡ˆä¾‹](#ç»©æ•ˆè¯„ä¼°schemaå®è·µæ¡ˆä¾‹)
  - [ğŸ“‘ ç›®å½•](#-ç›®å½•)
  - [1. æ¡ˆä¾‹æ¦‚è¿°](#1-æ¡ˆä¾‹æ¦‚è¿°)
  - [2. æ¡ˆä¾‹1ï¼šå¤§å‹äº’è”ç½‘ä¼ä¸š360åº¦ç»©æ•ˆè¯„ä¼°ç³»ç»Ÿ](#2-æ¡ˆä¾‹1å¤§å‹äº’è”ç½‘ä¼ä¸š360åº¦ç»©æ•ˆè¯„ä¼°ç³»ç»Ÿ)
    - [2.1 ä¼ä¸šèƒŒæ™¯](#21-ä¼ä¸šèƒŒæ™¯)
    - [2.2 ä¸šåŠ¡ç—›ç‚¹](#22-ä¸šåŠ¡ç—›ç‚¹)
    - [2.3 ä¸šåŠ¡ç›®æ ‡](#23-ä¸šåŠ¡ç›®æ ‡)
    - [2.4 æŠ€æœ¯æŒ‘æˆ˜](#24-æŠ€æœ¯æŒ‘æˆ˜)
    - [2.5 è§£å†³æ–¹æ¡ˆ](#25-è§£å†³æ–¹æ¡ˆ)
    - [2.6 å®Œæ•´ä»£ç å®ç°](#26-å®Œæ•´ä»£ç å®ç°)
    - [2.7 æ•ˆæœè¯„ä¼°ä¸ROI](#27-æ•ˆæœè¯„ä¼°ä¸roi)
  - [3. æ¡ˆä¾‹2ï¼šæ•æ·å›¢é˜Ÿç»©æ•ˆè¯„ä¼°å®è·µ](#3-æ¡ˆä¾‹2æ•æ·å›¢é˜Ÿç»©æ•ˆè¯„ä¼°å®è·µ)
  - [4. æ¡ˆä¾‹3ï¼šç»©æ•ˆæ•°æ®ä¸OLAPåˆ†æ](#4-æ¡ˆä¾‹3ç»©æ•ˆæ•°æ®ä¸olapåˆ†æ)
  - [5. æ¡ˆä¾‹4ï¼šæ™ºèƒ½ç»©æ•ˆæ”¹è¿›å»ºè®®ç³»ç»Ÿ](#5-æ¡ˆä¾‹4æ™ºèƒ½ç»©æ•ˆæ”¹è¿›å»ºè®®ç³»ç»Ÿ)
  - [6. æ¡ˆä¾‹5ï¼šç»©æ•ˆè¯„ä¼°æ•°æ®ä»“åº“](#6-æ¡ˆä¾‹5ç»©æ•ˆè¯„ä¼°æ•°æ®ä»“åº“)

---

## 1. æ¡ˆä¾‹æ¦‚è¿°

æœ¬æ–‡æ¡£æä¾›ç»©æ•ˆè¯„ä¼°Schemaåœ¨å®é™…ä¼ä¸šåº”ç”¨ä¸­çš„å®è·µæ¡ˆä¾‹ï¼Œæ¶µç›–360åº¦è¯„ä¼°ã€æ•æ·ç»©æ•ˆã€æ™ºèƒ½åˆ†æç­‰çœŸå®åœºæ™¯ã€‚

**æ¡ˆä¾‹ç±»å‹**ï¼š

1. **360åº¦ç»©æ•ˆè¯„ä¼°ç³»ç»Ÿ**ï¼šå¤šç»´åº¦å…¨æ–¹ä½è¯„ä¼°
2. **æ•æ·å›¢é˜Ÿç»©æ•ˆè¯„ä¼°**ï¼šOKRä¸æ•æ·ç»“åˆ
3. **ç»©æ•ˆæ•°æ®OLAPåˆ†æ**ï¼šå¤šç»´æ•°æ®åˆ†æ
4. **æ™ºèƒ½ç»©æ•ˆæ”¹è¿›å»ºè®®**ï¼šAIé©±åŠ¨çš„æ”¹è¿›å»ºè®®
5. **ç»©æ•ˆè¯„ä¼°æ•°æ®ä»“åº“**ï¼šæ•°æ®æ•´åˆä¸åˆ†æ

**å‚è€ƒä¼ä¸šæ¡ˆä¾‹**ï¼š

- **è°·æ­Œ**ï¼šOKRæœ€ä½³å®è·µ
- **è‹±ç‰¹å°”**ï¼šç»©æ•ˆç®¡ç†ä½“ç³»æ¼”è¿›
- **å­—èŠ‚è·³åŠ¨**ï¼šæ•æ·ç»©æ•ˆç®¡ç†

---

## 2. æ¡ˆä¾‹1ï¼šå¤§å‹äº’è”ç½‘ä¼ä¸š360åº¦ç»©æ•ˆè¯„ä¼°ç³»ç»Ÿ

### 2.1 ä¼ä¸šèƒŒæ™¯

**ä¼ä¸šæ¦‚å†µ**ï¼š
"äº‘æ™ºç§‘æŠ€"ï¼ˆåŒ–åï¼‰æ˜¯ä¸­å›½é¢†å…ˆçš„äººå·¥æ™ºèƒ½ä¼ä¸šï¼Œæˆç«‹äº2015å¹´ï¼Œæ€»éƒ¨ä½äºåŒ—äº¬ã€‚å…¬å¸æ‹¥æœ‰å‘˜å·¥8,500äººï¼Œå…¶ä¸­ç ”å‘äººå‘˜å æ¯”è¶…è¿‡65%ã€‚å…¬å¸ä¼°å€¼è¶…è¿‡100äº¿ç¾å…ƒï¼Œæ˜¯ç‹¬è§’å…½ä¼ä¸šçš„ä»£è¡¨ã€‚

**ç»„ç»‡æ¶æ„**ï¼š
- æŠ€æœ¯ä½“ç³»ï¼šAIç ”ç©¶é™¢ã€å·¥ç¨‹å¹³å°ã€äº§å“æŠ€æœ¯ã€è´¨é‡ä¿éšœ
- ä¸šåŠ¡ä½“ç³»ï¼šæ™ºèƒ½äº‘ã€ä¼ä¸šçº§æœåŠ¡ã€æ¶ˆè´¹è€…ä¸šåŠ¡
- èŒèƒ½ä½“ç³»ï¼šäººåŠ›èµ„æºã€è´¢åŠ¡ã€æ³•åŠ¡ã€è¡Œæ”¿ã€å¸‚åœº
- åŒºåŸŸå¸ƒå±€ï¼šåŒ—äº¬æ€»éƒ¨ã€ä¸Šæµ·ã€æ·±åœ³ã€æ­å·ã€æˆéƒ½ç ”å‘ä¸­å¿ƒ

**äººå‘˜ç‰¹ç‚¹**ï¼š
- å¹³å‡å¹´é¾„29å²ï¼Œ90åå æ¯”78%
- ç¡•å£«åŠä»¥ä¸Šå­¦å†å æ¯”55%
- æ¥è‡ªé¡¶å°–é«˜æ ¡å’Œå¤´éƒ¨äº’è”ç½‘ä¼ä¸šçš„æ ¸å¿ƒäººæ‰
- æŠ€æœ¯äººæ‰å¯†åº¦é«˜ï¼Œç»©æ•ˆç®¡ç†å¤æ‚

### 2.2 ä¸šåŠ¡ç—›ç‚¹

1. **è¯„ä¼°ç»´åº¦å•ä¸€**
   - ä»…ä¾èµ–ä¸Šçº§è¯„ä»·ï¼Œç¼ºä¹å¤šè§’åº¦åé¦ˆ
   - è·¨éƒ¨é—¨åä½œè¡¨ç°æ— æ³•è¢«æœ‰æ•ˆè¯„ä¼°
   - æŠ€æœ¯äººå‘˜çš„åˆ›æ–°è´¡çŒ®éš¾ä»¥é‡åŒ–

2. **è¯„ä¼°å‘¨æœŸåƒµåŒ–**
   - å¹´åº¦è¯„ä¼°æ— æ³•åŠæ—¶åé¦ˆå’Œè°ƒæ•´
   - é¡¹ç›®åˆ¶å·¥ä½œä¸å›ºå®šå‘¨æœŸä¸åŒ¹é…
   - æ–°å‘˜å·¥è¯•ç”¨æœŸè¯„ä¼°ç¼ºä¹æ ‡å‡†

3. **åé¦ˆæœºåˆ¶ç¼ºå¤±**
   - è¯„ä¼°ç»“æœæ²Ÿé€šä¸è¶³ï¼Œå‘˜å·¥å›°æƒ‘
   - ç¼ºä¹æŒç»­çš„ç»©æ•ˆè¾…å¯¼
   - æ”¹è¿›å»ºè®®æµäºå½¢å¼

4. **æ•°æ®å­¤å²›ä¸¥é‡**
   - è¯„ä¼°æ•°æ®ä¸HRç³»ç»Ÿã€é¡¹ç›®ç³»ç»Ÿä¸è¿é€š
   - å†å²ç»©æ•ˆæ•°æ®æ— æ³•è¿½æº¯åˆ†æ
   - æ— æ³•è¯†åˆ«é«˜æ½œåŠ›äººæ‰

5. **ä¸»è§‚åå·®æ˜æ˜¾**
   - ç®¡ç†è€…è¯„åˆ†æ ‡å‡†ä¸ç»Ÿä¸€
   - è¿‘å› æ•ˆåº”å’Œæ™•è½®æ•ˆåº”æ™®é
   - å›¢é˜Ÿé—´è¯„ä¼°å°ºåº¦å·®å¼‚å¤§

### 2.3 ä¸šåŠ¡ç›®æ ‡

1. **å»ºç«‹360åº¦è¯„ä¼°ä½“ç³»**
   - æ„å»ºä¸Šçº§ã€åŒäº‹ã€ä¸‹çº§ã€è‡ªè¯„å››ç»´è¯„ä¼°
   - å¼•å…¥å®¢æˆ·/åˆä½œä¼™ä¼´è¯„ä»·ç»´åº¦
   - å»ºç«‹è¯„ä¼°æƒé‡åŠ¨æ€è°ƒæ•´æœºåˆ¶

2. **å®ç°æ•æ·ç»©æ•ˆå‘¨æœŸ**
   - å­£åº¦OKR + æœˆåº¦Check-in + å³æ—¶åé¦ˆ
   - æ”¯æŒé¡¹ç›®ç»“é¡¹å³æ—¶è¯„ä¼°
   - æ–°å‘˜å·¥90å¤©å¿«é€Ÿè¯„ä¼°æœºåˆ¶

3. **æ„å»ºæ™ºèƒ½åé¦ˆç³»ç»Ÿ**
   - è¯„ä¼°ç»“æœè‡ªåŠ¨è§£è¯»å’Œå»ºè®®
   - ä¸ªæ€§åŒ–çš„å‘å±•è·¯å¾„æ¨è
   - è‡ªåŠ¨è§¦å‘ç»©æ•ˆæ”¹è¿›è®¡åˆ’

4. **æ‰“é€šæ•°æ®å­¤å²›**
   - æ•´åˆHRã€é¡¹ç›®ã€ä»£ç ã€åä½œå¹³å°æ•°æ®
   - å»ºç«‹å‘˜å·¥ç»©æ•ˆå…¨æ™¯è§†å›¾
   - æ”¯æŒäººæ‰ç›˜ç‚¹å’Œç»§ä»»è®¡åˆ’

5. **æ¶ˆé™¤ä¸»è§‚åå·®**
   - æ ¡å‡†ä¼šè®®æœºåˆ¶ç¡®ä¿å…¬å¹³
   - è¯„ä¼°æ ‡å‡†æ•°å­—åŒ–å’Œé€æ˜åŒ–
   - å¼•å…¥æ•°æ®è¾…åŠ©çš„è¯„ä¼°å‚è€ƒ

### 2.4 æŠ€æœ¯æŒ‘æˆ˜

1. **å¤šç»´åº¦æ•°æ®èåˆ**
   - éœ€è¦æ•´åˆ8+ä¸ªç³»ç»Ÿçš„æ•°æ®
   - ç»“æ„åŒ–ä¸éç»“æ„åŒ–æ•°æ®ç»“åˆ
   - å®æ—¶æ•°æ®ä¸æ‰¹é‡æ•°æ®çš„ç»Ÿä¸€

2. **è¯„ä¼°æ¨¡å‹å¤æ‚æ€§**
   - ä¸åŒå²—ä½åºåˆ—çš„è¯„ä¼°æ¨¡å‹å·®å¼‚å¤§
   - æƒé‡é…ç½®éœ€è¦çµæ´»å¯è°ƒ
   - æ”¯æŒå¤šç§è¯„ä¼°é‡è¡¨å’Œé—®å·

3. **éšç§ä¸å®‰å…¨ä¿æŠ¤**
   - è¯„ä¼°æ•°æ®é«˜åº¦æ•æ„Ÿ
   - éœ€è¦ç»†ç²’åº¦çš„æƒé™æ§åˆ¶
   - åŒ¿åè¯„ä¼°çš„é˜²ç ´è§£

4. **å¤§è§„æ¨¡å¹¶å‘å¤„ç†**
   - è¯„ä¼°æœŸé—´å³°å€¼å¹¶å‘é«˜
   - é—®å·è®¡ç®—å’ŒæŠ¥å‘Šç”Ÿæˆè€—èµ„æº
   - éœ€è¦æ”¯æŒé”™å³°å’Œé™æµ

5. **æ™ºèƒ½åˆ†æç®—æ³•**
   - è¯„ä¼°åå·®è‡ªåŠ¨æ£€æµ‹
   - äººæ‰ç”»åƒå’Œæ½œåŠ›é¢„æµ‹
   - ä¸ªæ€§åŒ–æ¨èç®—æ³•

### 2.5 è§£å†³æ–¹æ¡ˆ

**æŠ€æœ¯æ¶æ„**ï¼š
- æ•°æ®é‡‡é›†å±‚ï¼šAPIç½‘å…³å¯¹æ¥å„ä¸šåŠ¡ç³»ç»Ÿ
- æ•°æ®å­˜å‚¨å±‚ï¼šMySQL + MongoDB + Elasticsearch
- è®¡ç®—å¼•æ“å±‚ï¼šPython + Spark MLlib
- åº”ç”¨æœåŠ¡å±‚ï¼šGoå¾®æœåŠ¡ + Python Flask
- å‰ç«¯å±•ç¤ºå±‚ï¼šReact + Ant Design

### 2.6 å®Œæ•´ä»£ç å®ç°

```python
#!/usr/bin/env python3
"""
ç»©æ•ˆè¯„ä¼°Schemaå®Œæ•´å®ç°
äº‘æ™ºç§‘æŠ€360åº¦ç»©æ•ˆè¯„ä¼°ç³»ç»Ÿ
"""

from typing import Dict, List, Optional, Tuple, Any, Set
from datetime import date, datetime, timedelta
from decimal import Decimal
from dataclasses import dataclass, field, asdict
from enum import Enum
import json
import statistics
from collections import defaultdict
import hashlib
from abc import ABC, abstractmethod


class EvaluatorType(str, Enum):
    """è¯„ä¼°è€…ç±»å‹"""
    SELF = "Self"                      # è‡ªè¯„
    MANAGER = "Manager"                # ä¸Šçº§
    PEER = "Peer"                      # åŒäº‹
    SUBORDINATE = "Subordinate"        # ä¸‹çº§
    CUSTOMER = "Customer"              # å®¢æˆ·


class EvaluationStatus(str, Enum):
    """è¯„ä¼°çŠ¶æ€"""
    DRAFT = "Draft"
    IN_PROGRESS = "In_Progress"
    COMPLETED = "Completed"
    APPROVED = "Approved"
    CLOSED = "Closed"


class PerformanceLevel(str, Enum):
    """ç»©æ•ˆç­‰çº§"""
    EXCEEDS_EXPECTATIONS = "A"         # å“è¶Š
    MEETS_EXPECTATIONS = "B"           # è¾¾æ ‡
    PARTIALLY_MEETS = "C"              # éƒ¨åˆ†è¾¾æ ‡
    NEEDS_IMPROVEMENT = "D"            # å¾…æ”¹è¿›
    UNSATISFACTORY = "E"               # ä¸åˆæ ¼


@dataclass
class Employee:
    """å‘˜å·¥ä¿¡æ¯"""
    employee_id: str
    name: str
    email: str
    department_id: str
    department_name: str
    manager_id: Optional[str]
    job_level: str                     # èŒçº§
    job_sequence: str                  # å²—ä½åºåˆ—
    hire_date: date
    is_active: bool = True


@dataclass
class EvaluationCycle:
    """è¯„ä¼°å‘¨æœŸ"""
    cycle_id: str
    cycle_name: str
    cycle_type: str                    # Annual/Quarterly/Project
    start_date: date
    end_date: date
    evaluation_start: date
    evaluation_end: date
    status: str = "Active"


@dataclass
class Competency:
    """èƒ½åŠ›ç´ è´¨é¡¹"""
    competency_id: str
    competency_name: str
    competency_description: str
    weight: Decimal
    category: str                      # Core/Functional/Leadership


@dataclass
class EvaluationCriteria:
    """è¯„ä¼°æ ‡å‡†"""
    criteria_id: str
    criteria_name: str
    criteria_description: str
    competency_id: Optional[str]
    weight: Decimal
    scoring_scale: List[Dict]          # è¯„åˆ†é‡è¡¨å®šä¹‰


@dataclass
class EvaluationResponse:
    """è¯„ä¼°å“åº”"""
    response_id: str
    evaluation_id: str
    evaluator_id: str
    evaluator_type: EvaluatorType
    evaluatee_id: str
    criteria_id: str
    score: Decimal
    comment: Optional[str]
    submitted_at: datetime
    is_anonymous: bool = False


@dataclass
class EvaluationResult:
    """è¯„ä¼°ç»“æœ"""
    result_id: str
    evaluation_id: str
    employee_id: str
    cycle_id: str
    overall_score: Decimal
    weighted_score: Decimal
    performance_level: PerformanceLevel
    evaluator_breakdown: Dict[EvaluatorType, Decimal]
    competency_scores: Dict[str, Decimal]
    strength_areas: List[str]
    development_areas: List[str]
    calibration_status: str = "Pending"  # Pending/Calibrated/Finalized
    created_at: datetime = field(default_factory=datetime.now)


@dataclass
class OKRObjective:
    """OKRç›®æ ‡"""
    objective_id: str
    employee_id: str
    cycle_id: str
    objective_description: str
    key_results: List[Dict]
    weight: Decimal
    progress: Decimal = Decimal('0')
    final_score: Optional[Decimal] = None


class PerformanceEvaluationManager:
    """ç»©æ•ˆè¯„ä¼°ç®¡ç†å™¨"""
    
    def __init__(self):
        self.employees: Dict[str, Employee] = {}
        self.cycles: Dict[str, EvaluationCycle] = {}
        self.competencies: Dict[str, Competency] = {}
        self.criteria: Dict[str, EvaluationCriteria] = {}
        self.responses: List[EvaluationResponse] = []
        self.results: Dict[str, EvaluationResult] = {}
        self.okrs: Dict[str, OKRObjective] = {}
        
        # æƒé‡é…ç½®
        self.evaluator_weights = {
            EvaluatorType.MANAGER: Decimal('0.40'),
            EvaluatorType.SELF: Decimal('0.15'),
            EvaluatorType.PEER: Decimal('0.25'),
            EvaluatorType.SUBORDINATE: Decimal('0.15'),
            EvaluatorType.CUSTOMER: Decimal('0.05')
        }
    
    def register_employee(self, employee: Employee):
        """æ³¨å†Œå‘˜å·¥"""
        self.employees[employee.employee_id] = employee
    
    def create_cycle(self, cycle: EvaluationCycle):
        """åˆ›å»ºè¯„ä¼°å‘¨æœŸ"""
        self.cycles[cycle.cycle_id] = cycle
    
    def add_response(self, response: EvaluationResponse):
        """æ·»åŠ è¯„ä¼°å“åº”"""
        self.responses.append(response)
    
    def calculate_360_score(self, employee_id: str, cycle_id: str) -> Dict:
        """è®¡ç®—360åº¦è¯„ä¼°åˆ†æ•°"""
        # è·å–è¯¥å‘˜å·¥è¯¥å‘¨æœŸçš„æ‰€æœ‰è¯„ä¼°å“åº”
        relevant_responses = [
            r for r in self.responses
            if r.evaluatee_id == employee_id and 
            self._get_cycle_id(r.evaluation_id) == cycle_id
        ]
        
        # æŒ‰è¯„ä¼°è€…ç±»å‹åˆ†ç»„
        responses_by_type: Dict[EvaluatorType, List[EvaluationResponse]] = defaultdict(list)
        for r in relevant_responses:
            responses_by_type[r.evaluator_type].append(r)
        
        # è®¡ç®—å„ç±»è¯„ä¼°è€…çš„å¹³å‡åˆ†
        scores_by_type = {}
        for eval_type, responses in responses_by_type.items():
            if responses:
                scores_by_type[eval_type] = Decimal(str(statistics.mean([float(r.score) for r in responses])))
        
        # è®¡ç®—åŠ æƒæ€»åˆ†
        total_score = Decimal('0')
        total_weight = Decimal('0')
        
        for eval_type, score in scores_by_type.items():
            weight = self.evaluator_weights.get(eval_type, Decimal('0'))
            total_score += score * weight
            total_weight += weight
        
        final_score = (total_score / total_weight) if total_weight > 0 else Decimal('0')
        
        # ç¡®å®šç»©æ•ˆç­‰çº§
        performance_level = self._determine_performance_level(final_score)
        
        return {
            'employee_id': employee_id,
            'cycle_id': cycle_id,
            'overall_score': float(final_score),
            'performance_level': performance_level.value,
            'breakdown': {k.value: float(v) for k, v in scores_by_type.items()},
            'response_count': len(relevant_responses)
        }
    
    def _get_cycle_id(self, evaluation_id: str) -> str:
        """ä»è¯„ä¼°IDè·å–å‘¨æœŸID"""
        # ç®€åŒ–å®ç°
        return evaluation_id.split('-')[1]
    
    def _determine_performance_level(self, score: Decimal) -> PerformanceLevel:
        """ç¡®å®šç»©æ•ˆç­‰çº§"""
        if score >= Decimal('90'):
            return PerformanceLevel.EXCEEDS_EXPECTATIONS
        elif score >= Decimal('80'):
            return PerformanceLevel.MEETS_EXPECTATIONS
        elif score >= Decimal('70'):
            return PerformanceLevel.PARTIALLY_MEETS
        elif score >= Decimal('60'):
            return PerformanceLevel.NEEDS_IMPROVEMENT
        else:
            return PerformanceLevel.UNSATISFACTORY
    
    def analyze_evaluation_bias(self, manager_id: str, cycle_id: str) -> Dict:
        """åˆ†æè¯„ä¼°è€…åå·®"""
        # è·å–è¯¥ç»ç†çš„æ‰€æœ‰è¯„åˆ†
        manager_responses = [
            r for r in self.responses
            if r.evaluator_id == manager_id and 
            self._get_cycle_id(r.evaluation_id) == cycle_id
        ]
        
        if len(manager_responses) < 5:
            return {'error': 'Insufficient data'}
        
        scores = [float(r.score) for r in manager_responses]
        avg_score = statistics.mean(scores)
        std_score = statistics.stdev(scores)
        
        # åˆ†æåå·®ç±»å‹
        bias_analysis = {
            'manager_id': manager_id,
            'average_score': avg_score,
            'std_deviation': std_score,
            'score_distribution': self._calculate_distribution(scores),
            'potential_biases': []
        }
        
        # ä¸¥æ ¼åå·®
        if avg_score < 70:
            bias_analysis['potential_biases'].append({
                'type': 'Strict_Bias',
                'description': 'è¯„åˆ†æ•´ä½“åä½ï¼Œå¯èƒ½å­˜åœ¨ä¸¥æ ¼åå·®'
            })
        
        # å®½æ¾åå·®
        if avg_score > 85:
            bias_analysis['potential_biases'].append({
                'type': 'Leniency_Bias',
                'description': 'è¯„åˆ†æ•´ä½“åé«˜ï¼Œå¯èƒ½å­˜åœ¨å®½æ¾åå·®'
            })
        
        # ä¸­å¿ƒåŒ–åå·®
        if std_score < 5:
            bias_analysis['potential_biases'].append({
                'type': 'Central_Tendency',
                'description': 'è¯„åˆ†è¿‡äºé›†ä¸­ï¼ŒåŒºåˆ†åº¦ä¸è¶³'
            })
        
        return bias_analysis
    
    def _calculate_distribution(self, scores: List[float]) -> Dict:
        """è®¡ç®—åˆ†æ•°åˆ†å¸ƒ"""
        ranges = [(0, 60), (60, 70), (70, 80), (80, 90), (90, 100)]
        distribution = {}
        for low, high in ranges:
            count = sum(1 for s in scores if low <= s < high)
            distribution[f"{low}-{high}"] = count
        return distribution
    
    def generate_development_plan(self, result: EvaluationResult) -> Dict:
        """ç”Ÿæˆå‘å±•è®¡åˆ’"""
        employee = self.employees.get(result.employee_id)
        
        plan = {
            'employee_id': result.employee_id,
            'employee_name': employee.name if employee else 'Unknown',
            'performance_level': result.performance_level.value,
            'development_areas': result.development_areas,
            'recommended_actions': []
        }
        
        # æ ¹æ®ç»©æ•ˆç­‰çº§æ¨èè¡ŒåŠ¨
        if result.performance_level == PerformanceLevel.UNSATISFACTORY:
            plan['recommended_actions'].append({
                'type': 'PIP',
                'description': 'å¯åŠ¨ç»©æ•ˆæ”¹è¿›è®¡åˆ’(PIP)ï¼Œè®¾å®šæ˜ç¡®çš„æ”¹è¿›ç›®æ ‡å’Œæ—¶é—´çº¿'
            })
        elif result.performance_level == PerformanceLevel.NEEDS_IMPROVEMENT:
            plan['recommended_actions'].append({
                'type': 'Coaching',
                'description': 'å®‰æ’å¯¼å¸ˆè¾…å¯¼ï¼ŒåŠ å¼ºæ—¥å¸¸åé¦ˆå’ŒæŒ‡å¯¼'
            })
        elif result.performance_level == PerformanceLevel.PARTIALLY_MEETS:
            plan['recommended_actions'].append({
                'type': 'Training',
                'description': 'é’ˆå¯¹æ€§åŸ¹è®­ï¼Œæå‡å…³é”®èƒ½åŠ›çŸ­æ¿'
            })
        elif result.performance_level == PerformanceLevel.MEETS_EXPECTATIONS:
            plan['recommended_actions'].append({
                'type': 'Development',
                'description': 'æä¾›æŒ‘æˆ˜æ€§ä»»åŠ¡ï¼Œä¸ºæ™‹å‡åšå‡†å¤‡'
            })
        else:  # Exceeds
            plan['recommended_actions'].append({
                'type': 'Acceleration',
                'description': 'è¿›å…¥é«˜æ½œäººæ‰æ± ï¼ŒåŠ é€ŸèŒä¸šå‘å±•'
            })
        
        return plan
    
    def get_department_summary(self, department_id: str, cycle_id: str) -> Dict:
        """è·å–éƒ¨é—¨ç»©æ•ˆæ‘˜è¦"""
        dept_employees = [
            e for e in self.employees.values()
            if e.department_id == department_id
        ]
        
        results = [
            r for r in self.results.values()
            if r.employee_id in [e.employee_id for e in dept_employees]
            and r.cycle_id == cycle_id
        ]
        
        if not results:
            return {'department_id': department_id, 'status': 'No_Data'}
        
        scores = [float(r.overall_score) for r in results]
        level_counts = defaultdict(int)
        for r in results:
            level_counts[r.performance_level.value] += 1
        
        return {
            'department_id': department_id,
            'cycle_id': cycle_id,
            'employee_count': len(dept_employees),
            'evaluation_completed': len(results),
            'average_score': statistics.mean(scores),
            'score_distribution': dict(level_counts),
            'high_performers': len([r for r in results if r.performance_level == PerformanceLevel.EXCEEDS_EXPECTATIONS]),
            'low_performers': len([r for r in results if r.performance_level in [PerformanceLevel.NEEDS_IMPROVEMENT, PerformanceLevel.UNSATISFACTORY]])
        }


def create_cloudtech_evaluation_example():
    """åˆ›å»ºäº‘æ™ºç§‘æŠ€è¯„ä¼°ç¤ºä¾‹"""
    manager = PerformanceEvaluationManager()
    
    # æ³¨å†Œå‘˜å·¥
    employees = [
        Employee("E001", "å¼ ä¸‰", "zhangsan@cloudtech.com", "D001", "AIç ”ç©¶é™¢", "E100", "P8", "Tech", date(2020, 3, 15)),
        Employee("E002", "æå››", "lisi@cloudtech.com", "D001", "AIç ”ç©¶é™¢", "E100", "P7", "Tech", date(2021, 6, 1)),
        Employee("E003", "ç‹äº”", "wangwu@cloudtech.com", "D002", "å·¥ç¨‹å¹³å°", "E101", "P6", "Tech", date(2022, 9, 10)),
        Employee("E100", "èµµç»ç†", "zhaomgr@cloudtech.com", "D001", "AIç ”ç©¶é™¢", None, "P9", "Management", date(2018, 1, 5))
    ]
    
    for emp in employees:
        manager.register_employee(emp)
    
    # åˆ›å»ºè¯„ä¼°å‘¨æœŸ
    cycle = EvaluationCycle(
        cycle_id="CYC-2025-Q1",
        cycle_name="2025å¹´ç¬¬ä¸€å­£åº¦è¯„ä¼°",
        cycle_type="Quarterly",
        start_date=date(2025, 1, 1),
        end_date=date(2025, 3, 31),
        evaluation_start=date(2025, 4, 1),
        evaluation_end=date(2025, 4, 15)
    )
    manager.create_cycle(cycle)
    
    # æ·»åŠ 360åº¦è¯„ä¼°å“åº”
    responses = [
        # E001çš„è¯„ä¼°
        EvaluationResponse("R001", "EVAL-001", "E100", EvaluatorType.MANAGER, "E001", "CR001", Decimal('88'), "è¡¨ç°ä¼˜ç§€", datetime(2025, 4, 5)),
        EvaluationResponse("R002", "EVAL-001", "E001", EvaluatorType.SELF, "E001", "CR001", Decimal('85'), "è‡ªæˆ‘è¯„ä»·", datetime(2025, 4, 4)),
        EvaluationResponse("R003", "EVAL-001", "E002", EvaluatorType.PEER, "E001", "CR001", Decimal('90'), "åˆä½œæ„‰å¿«", datetime(2025, 4, 3)),
        EvaluationResponse("R004", "EVAL-001", "E003", EvaluatorType.PEER, "E001", "CR001", Decimal('87'), "æŠ€æœ¯èƒ½åŠ›å¼º", datetime(2025, 4, 3)),
        
        # E002çš„è¯„ä¼°
        EvaluationResponse("R005", "EVAL-002", "E100", EvaluatorType.MANAGER, "E002", "CR001", Decimal('78'), "éœ€è¦æå‡", datetime(2025, 4, 5)),
        EvaluationResponse("R006", "EVAL-002", "E002", EvaluatorType.SELF, "E002", "CR001", Decimal('82'), "è‡ªæˆ‘è¯„ä»·", datetime(2025, 4, 4)),
        EvaluationResponse("R007", "EVAL-002", "E001", EvaluatorType.PEER, "E002", "CR001", Decimal('75'), "æ²Ÿé€šéœ€æ”¹å–„", datetime(2025, 4, 3)),
    ]
    
    for resp in responses:
        manager.add_response(resp)
    
    return manager


# ä½¿ç”¨ç¤ºä¾‹
if __name__ == '__main__':
    # åˆ›å»ºè¯„ä¼°ç®¡ç†å™¨
    manager = create_cloudtech_evaluation_example()
    
    # è®¡ç®—360åº¦è¯„ä¼°åˆ†æ•°
    print("=" * 60)
    print("ã€äº‘æ™ºç§‘æŠ€360åº¦ç»©æ•ˆè¯„ä¼°ç³»ç»Ÿã€‘")
    print("=" * 60)
    
    for emp_id in ["E001", "E002"]:
        result = manager.calculate_360_score(emp_id, "2025-Q1")
        employee = manager.employees.get(emp_id)
        
        print(f"\nğŸ‘¤ {employee.name if employee else emp_id}")
        print(f"   ç»¼åˆå¾—åˆ†: {result['overall_score']:.1f}")
        print(f"   ç»©æ•ˆç­‰çº§: {result['performance_level']}")
        print(f"   è¯„åˆ†æ„æˆ:")
        for eval_type, score in result['breakdown'].items():
            print(f"     â€¢ {eval_type}: {score:.1f}")
    
    # åˆ†æè¯„ä¼°åå·®
    print("\nğŸ“Š è¯„ä¼°è€…åå·®åˆ†æ:")
    bias_analysis = manager.analyze_evaluation_bias("E100", "2025-Q1")
    print(f"   å¹³å‡åˆ†: {bias_analysis.get('average_score', 0):.1f}")
    print(f"   æ ‡å‡†å·®: {bias_analysis.get('std_deviation', 0):.1f}")
    if bias_analysis.get('potential_biases'):
        print(f"   æ½œåœ¨åå·®:")
        for bias in bias_analysis['potential_biases']:
            print(f"     âš ï¸ {bias['description']}")
    
    print("\n" + "=" * 60)
```

### 2.7 æ•ˆæœè¯„ä¼°ä¸ROI

**å…³é”®ç»©æ•ˆæŒ‡æ ‡æ”¹è¿›**ï¼š

| æŒ‡æ ‡ | æ”¹è¿›å‰ | æ”¹è¿›å | æå‡å¹…åº¦ |
|------|--------|--------|----------|
| å‘˜å·¥æ»¡æ„åº¦ | 65% | 88% | +23% |
| è¯„ä¼°å…¬å¹³æ„Ÿ | 58% | 86% | +28% |
| åé¦ˆåŠæ—¶æ€§ | 30% | 95% | +65% |
| é«˜æ½œäººæ‰è¯†åˆ«å‡†ç¡®ç‡ | 45% | 82% | +37% |
| ç»©æ•ˆæ”¹è¿›å®Œæˆç‡ | 52% | 78% | +26% |
| ç¦»èŒç‡ | 18% | 12% | -33% |

**ROIè®¡ç®—**ï¼š

```
é¡¹ç›®æŠ•èµ„ï¼š380ä¸‡å…ƒ
  - è½¯ä»¶å¼€å‘ï¼š200ä¸‡å…ƒ
  - ç³»ç»Ÿé›†æˆï¼š100ä¸‡å…ƒ
  - å’¨è¯¢å®æ–½ï¼š80ä¸‡å…ƒ

å¹´åº¦æ”¶ç›Šï¼š1,520ä¸‡å…ƒ
  - äººæ‰ä¿ç•™èŠ‚çº¦ï¼š650ä¸‡å…ƒï¼ˆç¦»èŒæˆæœ¬ï¼‰
  - ç»©æ•ˆæå‡è´¡çŒ®ï¼š480ä¸‡å…ƒ
  - ç®¡ç†æ•ˆç‡æå‡ï¼š390ä¸‡å…ƒ

ç¬¬ä¸€å¹´ROI = (1,520 - 380) / 380 = 300%
ä¸‰å¹´ç´¯è®¡ROI = 890%
```

---

**å‚è€ƒæ–‡æ¡£**ï¼š

- `01_Overview.md` - æ¦‚è¿°
- `02_Formal_Definition.md` - å½¢å¼åŒ–å®šä¹‰
- `03_Standards.md` - æ ‡å‡†å¯¹æ ‡
- `04_Transformation.md` - è½¬æ¢ä½“ç³»

**åˆ›å»ºæ—¶é—´**ï¼š2025-01-21
**æœ€åæ›´æ–°**ï¼š2025-02-15
