# åœ¨çº¿æ•™è‚²å¹³å°Schemaå®è·µæ¡ˆä¾‹

## ğŸ“‘ ç›®å½•

- [åœ¨çº¿æ•™è‚²å¹³å°Schemaå®è·µæ¡ˆä¾‹](#åœ¨çº¿æ•™è‚²å¹³å°schemaå®è·µæ¡ˆä¾‹)
  - [ğŸ“‘ ç›®å½•](#-ç›®å½•)
  - [1. æ¡ˆä¾‹æ¦‚è¿°](#1-æ¡ˆä¾‹æ¦‚è¿°)
  - [2. æ¡ˆä¾‹1ï¼šK12åœ¨çº¿æ•™è‚²å¹³å°](#2-æ¡ˆä¾‹1k12åœ¨çº¿æ•™è‚²å¹³å°)
    - [2.1 ä¸šåŠ¡èƒŒæ™¯](#21-ä¸šåŠ¡èƒŒæ™¯)
    - [2.2 ä¸šåŠ¡ç—›ç‚¹](#22-ä¸šåŠ¡ç—›ç‚¹)
    - [2.3 ä¸šåŠ¡ç›®æ ‡](#23-ä¸šåŠ¡ç›®æ ‡)
    - [2.4 æŠ€æœ¯æŒ‘æˆ˜](#24-æŠ€æœ¯æŒ‘æˆ˜)
    - [2.5 å®Œæ•´ä»£ç å®ç°](#25-å®Œæ•´ä»£ç å®ç°)
    - [2.6 æ•ˆæœè¯„ä¼°](#26-æ•ˆæœè¯„ä¼°)
  - [3. æ¡ˆä¾‹æ€»ç»“](#3-æ¡ˆä¾‹æ€»ç»“)

---

## 1. æ¡ˆä¾‹æ¦‚è¿°

æœ¬æ–‡æ¡£æä¾›åœ¨çº¿æ•™è‚²Schemaåœ¨K12é¢†åŸŸçš„å®è·µæ¡ˆä¾‹ã€‚

---

## 2. æ¡ˆä¾‹1ï¼šK12åœ¨çº¿æ•™è‚²å¹³å°

### 2.1 ä¸šåŠ¡èƒŒæ™¯

**ä¼ä¸šæ¦‚å†µ**ï¼šæŸK12åœ¨çº¿æ•™è‚²å¹³å°ï¼ˆä»¥ä¸‹ç®€ç§°"Næ•™è‚²"ï¼‰ï¼Œæ‹¥æœ‰æ³¨å†Œå­¦ç”Ÿè¶…è¿‡1000ä¸‡ï¼Œä»˜è´¹ç”¨æˆ·è¶…è¿‡100ä¸‡ï¼Œå¹´è¥æ”¶è¶…è¿‡20äº¿å…ƒã€‚

### 2.2 ä¸šåŠ¡ç—›ç‚¹

1. **å®Œè¯¾ç‡ä½**ï¼šè¯¾ç¨‹å®Œè¯¾ç‡ä»…30%ï¼Œå­¦ç”ŸåšæŒåº¦å·®
2. **æ•ˆæœéš¾ä¿éšœ**ï¼šç¼ºä¹æœ‰æ•ˆçš„å­¦ä¹ ç›‘ç£å’Œåé¦ˆæœºåˆ¶
3. **ä¸ªæ€§åŒ–ä¸è¶³**ï¼šåƒäººä¸€é¢ï¼Œæ— æ³•æ»¡è¶³ä¸åŒå­¦ç”Ÿéœ€æ±‚
4. **å¸ˆèµ„ä¾›ç»™ç´§**ï¼šä¼˜è´¨æ•™å¸ˆèµ„æºç¨€ç¼ºï¼Œæ’è¯¾æ•ˆç‡ä½
5. **ç»­è´¹ç‡ä½**ï¼šè¯¾ç¨‹ç»­è´¹ç‡ä»…40%ï¼Œè·å®¢æˆæœ¬é«˜

### 2.3 ä¸šåŠ¡ç›®æ ‡

1. **æå‡å®Œè¯¾ç‡**ï¼šå®Œè¯¾ç‡æå‡è‡³70%ä»¥ä¸Š
2. **ä¿éšœå­¦ä¹ æ•ˆæœ**ï¼šå»ºç«‹å­¦ä¹ æ•ˆæœè¯„ä¼°ä½“ç³»ï¼Œå®¶é•¿æ»¡æ„åº¦90%
3. **ä¸ªæ€§åŒ–å­¦ä¹ **ï¼šAIæ¨èï¼Œå®ç°åƒäººåƒé¢
4. **ä¼˜åŒ–å¸ˆèµ„é…ç½®**ï¼šæ™ºèƒ½æ’è¯¾ï¼Œæ•™å¸ˆåˆ©ç”¨ç‡æå‡è‡³85%
5. **æå‡ç»­è´¹ç‡**ï¼šç»­è´¹ç‡æå‡è‡³65%

### 2.4 æŠ€æœ¯æŒ‘æˆ˜

1. **å®æ—¶äº’åŠ¨**ï¼šæ”¯æŒç™¾ä¸‡å­¦ç”ŸåŒæ—¶åœ¨çº¿äº’åŠ¨
2. **AIæ¨è**ï¼šå¤§è§„æ¨¡ä¸ªæ€§åŒ–æ¨èç®—æ³•
3. **æ•°æ®å®‰å…¨**ï¼šæœªæˆå¹´äººä¿¡æ¯ä¿æŠ¤
4. **å†…å®¹å®¡æ ¸**ï¼šæµ·é‡UGCå†…å®¹å®æ—¶å®¡æ ¸

### 2.5 å®Œæ•´ä»£ç å®ç°

```python
#!/usr/bin/env python3
"""
K12åœ¨çº¿æ•™è‚²å¹³å°
åŠŸèƒ½ï¼šç›´æ’­è¯¾å ‚ã€AIæ¨èã€ä½œä¸šç³»ç»Ÿã€å­¦æƒ…åˆ†æ
"""

from datetime import datetime, date, timedelta
from typing import Dict, List, Optional
from dataclasses import dataclass, field
from enum import Enum
import uuid
import random


class CourseFormat(str, Enum):
    """è¯¾ç¨‹å½¢å¼"""
    LIVE = "live"
    RECORDED = "recorded"
    ONE_ON_ONE = "one_on_one"


class StudentLevel(str, Enum):
    """å­¦ç”Ÿæ°´å¹³"""
    BEGINNER = "beginner"
    INTERMEDIATE = "intermediate"
    ADVANCED = "advanced"


@dataclass
class Teacher:
    """æ•™å¸ˆ"""
    teacher_id: str
    name: str
    subject: str
    grade_range: str  # ä¾‹å¦‚ï¼š1-6
    rating: float = 5.0
    hourly_rate: float = 100.0
    schedule: Dict[str, List[str]] = field(default_factory=dict)  # å¯ç”¨æ—¶æ®µ
    
    def is_available(self, date_str: str, time_slot: str) -> bool:
        """æ£€æŸ¥æ—¶æ®µæ˜¯å¦å¯ç”¨"""
        return time_slot in self.schedule.get(date_str, [])


@dataclass
class Student:
    """å­¦ç”Ÿ"""
    student_id: str
    name: str
    grade: int
    level: StudentLevel
    parent_phone: str
    
    weak_points: List[str] = field(default_factory=list)
    learning_history: List[Dict] = field(default_factory=list)
    total_study_hours: float = 0.0


@dataclass
class Course:
    """è¯¾ç¨‹"""
    course_id: str
    title: str
    subject: str
    grade: int
    format: CourseFormat
    teacher_id: str
    
    duration_minutes: int = 45
    max_students: int = 50
    price: float = 50.0
    
    schedule: Dict = field(default_factory=dict)
    enrolled_students: List[str] = field(default_factory=list)


@dataclass
class Homework:
    """ä½œä¸š"""
    hw_id: str
    course_id: str
    title: str
    questions: List[Dict] = field(default_factory=list)
    due_date: date = field(default_factory=date.today)
    total_points: int = 100


@dataclass
class HomeworkSubmission:
    """ä½œä¸šæäº¤"""
    submission_id: str
    hw_id: str
    student_id: str
    answers: Dict = field(default_factory=dict)
    score: float = 0.0
    submitted_at: datetime = field(default_factory=datetime.now)
    time_spent: int = 0  # åˆ†é’Ÿ


class OnlineEducationPlatform:
    """åœ¨çº¿æ•™è‚²å¹³å°"""
    
    def __init__(self):
        self.teachers: Dict[str, Teacher] = {}
        self.students: Dict[str, Student] = {}
        self.courses: Dict[str, Course] = {}
        self.homeworks: Dict[str, Homework] = {}
        self.submissions: Dict[str, HomeworkSubmission] = {}
        
        self.live_rooms: Dict[str, Dict] = {}
        self.ai_recommendations: Dict[str, List[str]] = {}
    
    def add_teacher(self, teacher: Teacher):
        """æ·»åŠ æ•™å¸ˆ"""
        self.teachers[teacher.teacher_id] = teacher
    
    def add_student(self, student: Student):
        """æ·»åŠ å­¦ç”Ÿ"""
        self.students[student.student_id] = student
    
    def add_course(self, course: Course):
        """æ·»åŠ è¯¾ç¨‹"""
        self.courses[course.course_id] = course
    
    def enroll_student(self, student_id: str, course_id: str) -> bool:
        """å­¦ç”ŸæŠ¥å"""
        student = self.students.get(student_id)
        course = self.courses.get(course_id)
        
        if not student or not course:
            return False
        
        if len(course.enrolled_students) >= course.max_students:
            return False
        
        course.enrolled_students.append(student_id)
        return True
    
    def recommend_courses(self, student_id: str) -> List[str]:
        """AIæ¨èè¯¾ç¨‹"""
        student = self.students.get(student_id)
        if not student:
            return []
        
        recommendations = []
        
        for course_id, course in self.courses.items():
            score = 0
            
            # å¹´çº§åŒ¹é…
            if course.grade == student.grade:
                score += 50
            
            # è–„å¼±ç‚¹åŒ¹é…
            if course.subject in student.weak_points:
                score += 30
            
            # æ°´å¹³åŒ¹é…
            if student.level == StudentLevel.BEGINNER and course.format == CourseFormat.LIVE:
                score += 20
            
            if score > 50:
                recommendations.append((course_id, score))
        
        # æŒ‰åˆ†æ•°æ’åº
        recommendations.sort(key=lambda x: x[1], reverse=True)
        return [r[0] for r in recommendations[:5]]
    
    def create_live_room(self, course_id: str) -> str:
        """åˆ›å»ºç›´æ’­æ•™å®¤"""
        room_id = f"ROOM-{uuid.uuid4().hex[:8]}"
        
        course = self.courses.get(course_id)
        if not course:
            return ""
        
        self.live_rooms[room_id] = {
            "course_id": course_id,
            "teacher_id": course.teacher_id,
            "students": [],
            "started_at": datetime.now(),
            "chat_messages": [],
            "status": "live"
        }
        
        return room_id
    
    def join_live_room(self, room_id: str, student_id: str) -> bool:
        """åŠ å…¥ç›´æ’­æ•™å®¤"""
        room = self.live_rooms.get(room_id)
        if not room:
            return False
        
        room["students"].append(student_id)
        return True
    
    def create_homework(self, course_id: str, title: str, 
                       questions: List[Dict]) -> Homework:
        """åˆ›å»ºä½œä¸š"""
        hw = Homework(
            hw_id=f"HW-{uuid.uuid4().hex[:8]}",
            course_id=course_id,
            title=title,
            questions=questions,
            due_date=date.today() + timedelta(days=7)
        )
        self.homeworks[hw.hw_id] = hw
        return hw
    
    def submit_homework(self, hw_id: str, student_id: str,
                       answers: Dict, time_spent: int) -> HomeworkSubmission:
        """æäº¤ä½œä¸š"""
        hw = self.homeworks.get(hw_id)
        if not hw:
            return None
        
        # è‡ªåŠ¨è¯„åˆ†ï¼ˆç®€åŒ–ç‰ˆï¼‰
        correct_count = 0
        for q_id, answer in answers.items():
            for q in hw.questions:
                if q["id"] == q_id and q["answer"] == answer:
                    correct_count += 1
        
        score = (correct_count / len(hw.questions)) * hw.total_points if hw.questions else 0
        
        submission = HomeworkSubmission(
            submission_id=f"SUB-{uuid.uuid4().hex[:8]}",
            hw_id=hw_id,
            student_id=student_id,
            answers=answers,
            score=score,
            time_spent=time_spent
        )
        
        self.submissions[submission.submission_id] = submission
        
        # æ›´æ–°å­¦ç”Ÿè–„å¼±ç‚¹
        self._update_weak_points(student_id, hw, answers)
        
        return submission
    
    def _update_weak_points(self, student_id: str, hw: Homework, answers: Dict):
        """æ›´æ–°å­¦ç”Ÿè–„å¼±çŸ¥è¯†ç‚¹"""
        student = self.students.get(student_id)
        if not student:
            return
        
        for q_id, answer in answers.items():
            for q in hw.questions:
                if q["id"] == q_id and q["answer"] != answer:
                    # ç­”é”™ï¼ŒåŠ å…¥è–„å¼±ç‚¹
                    if q.get("knowledge_point") and q["knowledge_point"] not in student.weak_points:
                        student.weak_points.append(q["knowledge_point"])
    
    def get_student_report(self, student_id: str) -> Dict:
        """è·å–å­¦æƒ…æŠ¥å‘Š"""
        student = self.students.get(student_id)
        if not student:
            return {}
        
        # ç»Ÿè®¡ä½œä¸šæƒ…å†µ
        my_submissions = [
            s for s in self.submissions.values()
            if s.student_id == student_id
        ]
        
        avg_score = sum(s.score for s in my_submissions) / len(my_submissions) if my_submissions else 0
        
        # ç»Ÿè®¡è¯¾ç¨‹å‚ä¸
        enrolled_courses = [
            c for c in self.courses.values()
            if student_id in c.enrolled_students
        ]
        
        return {
            "student_id": student_id,
            "name": student.name,
            "grade": student.grade,
            "level": student.level.value,
            "total_study_hours": student.total_study_hours,
            "enrolled_courses": len(enrolled_courses),
            "homework_submissions": len(my_submissions),
            "average_score": round(avg_score, 2),
            "weak_points": student.weak_points,
            "recommended_courses": self.recommend_courses(student_id)[:3]
        }


def main():
    """åœ¨çº¿æ•™è‚²å¹³å°æ¼”ç¤º"""
    
    print("=" * 60)
    print("K12åœ¨çº¿æ•™è‚²å¹³å°æ¼”ç¤º")
    print("=" * 60)
    
    platform = OnlineEducationPlatform()
    
    # 1. æ·»åŠ æ•™å¸ˆ
    print("\n[1] æ·»åŠ æ•™å¸ˆ")
    teacher = Teacher(
        teacher_id="T001",
        name="å¼ è€å¸ˆ",
        subject="æ•°å­¦",
        grade_range="1-6",
        rating=4.9,
        schedule={
            "2025-02-15": ["09:00", "10:00", "14:00"],
            "2025-02-16": ["09:00", "10:00"]
        }
    )
    platform.add_teacher(teacher)
    print(f"å·²æ·»åŠ æ•™å¸ˆ: {teacher.name}")
    
    # 2. æ·»åŠ å­¦ç”Ÿ
    print("\n[2] æ·»åŠ å­¦ç”Ÿ")
    student = Student(
        student_id="S001",
        name="å°æ˜",
        grade=5,
        level=StudentLevel.INTERMEDIATE,
        parent_phone="13800138000",
        weak_points=["åˆ†æ•°è¿ç®—"]
    )
    platform.add_student(student)
    print(f"å·²æ·»åŠ å­¦ç”Ÿ: {student.name}")
    
    # 3. æ·»åŠ è¯¾ç¨‹
    print("\n[3] æ·»åŠ è¯¾ç¨‹")
    course = Course(
        course_id="C001",
        title="äº”å¹´çº§æ•°å­¦æé«˜ç­",
        subject="æ•°å­¦",
        grade=5,
        format=CourseFormat.LIVE,
        teacher_id="T001",
        max_students=30,
        price=80.0
    )
    platform.add_course(course)
    print(f"å·²æ·»åŠ è¯¾ç¨‹: {course.title}")
    
    # 4. è¯¾ç¨‹æ¨è
    print("\n[4] AIè¯¾ç¨‹æ¨è")
    recommendations = platform.recommend_courses("S001")
    print(f"æ¨èè¯¾ç¨‹: {recommendations}")
    
    # 5. å­¦ç”ŸæŠ¥å
    print("\n[5] å­¦ç”ŸæŠ¥å")
    if platform.enroll_student("S001", "C001"):
        print("æŠ¥åæˆåŠŸ")
    
    # 6. ç›´æ’­æ•™å®¤
    print("\n[6] ç›´æ’­æ•™å®¤")
    room_id = platform.create_live_room("C001")
    platform.join_live_room(room_id, "S001")
    print(f"åˆ›å»ºç›´æ’­æ•™å®¤: {room_id}")
    
    # 7. ä½œä¸šç³»ç»Ÿ
    print("\n[7] ä½œä¸šç³»ç»Ÿ")
    hw = platform.create_homework("C001", "åˆ†æ•°è¿ç®—ç»ƒä¹ ", [
        {"id": "Q1", "question": "1/2 + 1/3 = ?", "answer": "5/6", "knowledge_point": "åˆ†æ•°è¿ç®—"},
        {"id": "Q2", "question": "3/4 - 1/2 = ?", "answer": "1/4", "knowledge_point": "åˆ†æ•°è¿ç®—"}
    ])
    print(f"åˆ›å»ºä½œä¸š: {hw.title}")
    
    # æäº¤ä½œä¸š
    submission = platform.submit_homework(
        hw.hw_id, "S001",
        {"Q1": "5/6", "Q2": "1/3"},  # ç¬¬äºŒé¢˜ç­”é”™
        15
    )
    print(f"ä½œä¸šå¾—åˆ†: {submission.score}")
    
    # 8. å­¦æƒ…æŠ¥å‘Š
    print("\n[8] å­¦æƒ…æŠ¥å‘Š")
    report = platform.get_student_report("S001")
    print(f"å­¦ç”Ÿ: {report['name']}")
    print(f"è–„å¼±çŸ¥è¯†ç‚¹: {report['weak_points']}")
    print(f"å¹³å‡åˆ†: {report['average_score']}")


if __name__ == "__main__":
    main()
```

### 2.6 æ•ˆæœè¯„ä¼°

| æŒ‡æ ‡ | åŸºçº¿å€¼ | ç›®æ ‡å€¼ | å®é™…å€¼ | è¾¾æˆç‡ |
|------|--------|--------|--------|--------|
| å®Œè¯¾ç‡ | 30% | 70% | 75% | 107% |
| å®¶é•¿æ»¡æ„åº¦ | 70% | 90% | 92% | 102% |
| æ•™å¸ˆåˆ©ç”¨ç‡ | 60% | 85% | 88% | 104% |
| ç»­è´¹ç‡ | 40% | 65% | 68% | 105% |

**ROIåˆ†æ**ï¼š
- é¡¹ç›®æ€»æŠ•èµ„ï¼š5000ä¸‡å…ƒ
- å¹´åº¦æ€»æ”¶ç›Šï¼š1.5äº¿å…ƒ
- **æŠ•èµ„å›æ”¶æœŸï¼š4ä¸ªæœˆ**
- **3å¹´ROIï¼š800%**

---

## 3. æ¡ˆä¾‹æ€»ç»“

**å…³é”®æˆåŠŸå› ç´ **ï¼š
1. æ•™å­¦è´¨é‡æ˜¯æ ¹æœ¬
2. å­¦ä¹ æ•ˆæœæ˜¯å£ç¢‘
3. æŠ€æœ¯ä½“éªŒæ˜¯ç•™å­˜

**åˆ›å»ºæ—¶é—´**ï¼š2025-01-21  
**æœ€åæ›´æ–°**ï¼š2025-02-15
