# è´¨é‡ç®¡ç†Schemaå®è·µæ¡ˆä¾‹

## ğŸ“‘ ç›®å½•

- [è´¨é‡ç®¡ç†Schemaå®è·µæ¡ˆä¾‹](#è´¨é‡ç®¡ç†schemaå®è·µæ¡ˆä¾‹)
  - [ğŸ“‘ ç›®å½•](#-ç›®å½•)
  - [1. æ¡ˆä¾‹æ¦‚è¿°](#1-æ¡ˆä¾‹æ¦‚è¿°)
  - [2. æ¡ˆä¾‹1ï¼šä¼ä¸šè´¨é‡ä½“ç³»ç®¡ç†ç³»ç»Ÿ](#2-æ¡ˆä¾‹1ä¼ä¸šè´¨é‡ä½“ç³»ç®¡ç†ç³»ç»Ÿ)
    - [2.1 ä¸šåŠ¡èƒŒæ™¯](#21-ä¸šåŠ¡èƒŒæ™¯)
    - [2.2 æŠ€æœ¯æŒ‘æˆ˜](#22-æŠ€æœ¯æŒ‘æˆ˜)
    - [2.3 è§£å†³æ–¹æ¡ˆ](#23-è§£å†³æ–¹æ¡ˆ)
    - [2.4 å®Œæ•´ä»£ç å®ç°](#24-å®Œæ•´ä»£ç å®ç°)
    - [2.5 æ•ˆæœè¯„ä¼°](#25-æ•ˆæœè¯„ä¼°)

---

## 1. æ¡ˆä¾‹æ¦‚è¿°

æœ¬æ–‡æ¡£æä¾›è´¨é‡ç®¡ç†Schemaåœ¨å®é™…ä¼ä¸šåº”ç”¨ä¸­çš„å®è·µæ¡ˆä¾‹ï¼Œæ¶µç›–è´¨é‡ä½“ç³»ç®¡ç†ã€è´¨é‡æ£€éªŒã€ä¸åˆæ ¼å“ç®¡ç†ã€è´¨é‡æ”¹è¿›ç­‰çœŸå®åœºæ™¯ã€‚

**æ¡ˆä¾‹ç±»å‹**ï¼š

1. **ä¼ä¸šè´¨é‡ä½“ç³»ç®¡ç†ç³»ç»Ÿ**ï¼šISO 9001è´¨é‡ç®¡ç†ä½“ç³»ç®¡ç†
2. **è´¨é‡æ£€éªŒç®¡ç†ç³»ç»Ÿ**ï¼šè´¨é‡æ£€éªŒæ•°æ®è®°å½•å’Œåˆ†æ
3. **ä¸åˆæ ¼å“ç®¡ç†ç³»ç»Ÿ**ï¼šä¸åˆæ ¼å“å¤„ç†å’Œè·Ÿè¸ª
4. **è´¨é‡æ”¹è¿›ç®¡ç†ç³»ç»Ÿ**ï¼šè´¨é‡æ”¹è¿›é¡¹ç›®å’Œæªæ–½ç®¡ç†
5. **è´¨é‡æ•°æ®å­˜å‚¨ä¸åˆ†æç³»ç»Ÿ**ï¼šè´¨é‡æ•°æ®åˆ†æå’Œç›‘æ§

**å‚è€ƒä¼ä¸šæ¡ˆä¾‹**ï¼š

- **ISO 9001**ï¼šISO 9001è´¨é‡ç®¡ç†ä½“ç³»æ ‡å‡†
- **å…­è¥¿æ ¼ç›**ï¼šå…­è¥¿æ ¼ç›è´¨é‡ç®¡ç†æ–¹æ³•

---

## 2. æ¡ˆä¾‹1ï¼šä¼ä¸šè´¨é‡ä½“ç³»ç®¡ç†ç³»ç»Ÿ

### 2.1 ä¸šåŠ¡èƒŒæ™¯

**ä¼ä¸šèƒŒæ™¯**ï¼š
æŸåˆ¶é€ ä¼ä¸šéœ€è¦æ„å»ºè´¨é‡ä½“ç³»ç®¡ç†ç³»ç»Ÿï¼Œç®¡ç†ISO 9001è´¨é‡ç®¡ç†ä½“ç³»ï¼Œè®°å½•è´¨é‡æ£€éªŒæ•°æ®ï¼Œè·Ÿè¸ªä¸åˆæ ¼å“å¤„ç†ï¼Œå®æ–½è´¨é‡æ”¹è¿›æªæ–½ã€‚

**ä¸šåŠ¡ç—›ç‚¹**ï¼š

1. **è´¨é‡ä½“ç³»ç®¡ç†ä¸è§„èŒƒ**ï¼šè´¨é‡ä½“ç³»ç®¡ç†ä¸è§„èŒƒ
2. **æ£€éªŒæ•°æ®è®°å½•ä¸å®Œæ•´**ï¼šè´¨é‡æ£€éªŒæ•°æ®è®°å½•ä¸å®Œæ•´
3. **ä¸åˆæ ¼å“è·Ÿè¸ªå›°éš¾**ï¼šä¸åˆæ ¼å“è·Ÿè¸ªå›°éš¾
4. **æ”¹è¿›æªæ–½æ‰§è¡Œä¸åŠ›**ï¼šè´¨é‡æ”¹è¿›æªæ–½æ‰§è¡Œä¸åŠ›

**ä¸šåŠ¡ç›®æ ‡**ï¼š

- è§„èŒƒè´¨é‡ä½“ç³»ç®¡ç†
- å®Œæ•´è®°å½•æ£€éªŒæ•°æ®
- æœ‰æ•ˆè·Ÿè¸ªä¸åˆæ ¼å“
- ä¸¥æ ¼æ‰§è¡Œæ”¹è¿›æªæ–½

### 2.2 æŠ€æœ¯æŒ‘æˆ˜

1. **è´¨é‡ä½“ç³»å»ºæ¨¡**ï¼šè®¾è®¡è´¨é‡ä½“ç³»æ•°æ®æ¨¡å‹
2. **æ£€éªŒæ•°æ®ç®¡ç†**ï¼šç®¡ç†è´¨é‡æ£€éªŒæ•°æ®
3. **ä¸åˆæ ¼å“è·Ÿè¸ª**ï¼šè·Ÿè¸ªä¸åˆæ ¼å“å¤„ç†æµç¨‹
4. **æ”¹è¿›æªæ–½ç®¡ç†**ï¼šç®¡ç†è´¨é‡æ”¹è¿›é¡¹ç›®å’Œæªæ–½

### 2.3 è§£å†³æ–¹æ¡ˆ

**ä½¿ç”¨è´¨é‡ç®¡ç†Schemaå®šä¹‰è´¨é‡ä½“ç³»ç®¡ç†ç³»ç»Ÿ**ï¼š

### 2.4 å®Œæ•´ä»£ç å®ç°

**è´¨é‡ä½“ç³»ç®¡ç†Schemaï¼ˆå®Œæ•´ç¤ºä¾‹ï¼‰**ï¼š

```python
#!/usr/bin/env python3
"""
è´¨é‡ç®¡ç†Schemaå®ç°
"""

from typing import Dict, List, Optional
from datetime import date, datetime
from decimal import Decimal
from dataclasses import dataclass, field
from enum import Enum

class StandardType(str, Enum):
    """æ ‡å‡†ç±»å‹"""
    ISO9001 = "ISO9001"
    ISO14001 = "ISO14001"
    ISO45001 = "ISO45001"
    IATF16949 = "IATF16949"

class InspectionResult(str, Enum):
    """æ£€éªŒç»“æœ"""
    PASS = "Pass"
    FAIL = "Fail"
    CONDITIONAL = "Conditional"

class NonConformanceStatus(str, Enum):
    """ä¸åˆæ ¼å“çŠ¶æ€"""
    IDENTIFIED = "Identified"
    UNDER_INVESTIGATION = "Under Investigation"
    CORRECTIVE_ACTION = "Corrective Action"
    VERIFIED = "Verified"
    CLOSED = "Closed"

@dataclass
class QualitySystem:
    """è´¨é‡ä½“ç³»"""
    system_id: str
    system_name: str
    standard_type: StandardType
    certification_date: date
    expiry_date: date
    certification_body: Optional[str] = None
    scope: Optional[str] = None
    created_date: Optional[datetime] = None

@dataclass
class QualityInspection:
    """è´¨é‡æ£€éªŒ"""
    inspection_id: str
    inspection_date: date
    product_id: str
    inspection_type: str
    inspector: str
    result: InspectionResult
    measurements: Dict[str, Decimal] = field(default_factory=dict)
    notes: Optional[str] = None
    created_date: Optional[datetime] = None

@dataclass
class NonConformance:
    """ä¸åˆæ ¼å“"""
    nc_id: str
    nc_date: date
    product_id: str
    description: str
    severity: str
    status: NonConformanceStatus
    root_cause: Optional[str] = None
    corrective_action: Optional[str] = None
    verified_date: Optional[date] = None
    closed_date: Optional[date] = None
    created_date: Optional[datetime] = None

@dataclass
class QualityImprovement:
    """è´¨é‡æ”¹è¿›"""
    improvement_id: str
    improvement_name: str
    improvement_type: str
    start_date: date
    target_date: Optional[date] = None
    owner: str
    description: Optional[str] = None
    status: str = "Planning"
    results: Optional[str] = None
    created_date: Optional[datetime] = None

@dataclass
class QualityManagementStorage:
    """è´¨é‡ç®¡ç†æ•°æ®å­˜å‚¨"""
    quality_systems: Dict[str, QualitySystem] = field(default_factory=dict)
    inspections: Dict[str, QualityInspection] = field(default_factory=dict)
    non_conformances: Dict[str, NonConformance] = field(default_factory=dict)
    improvements: Dict[str, QualityImprovement] = field(default_factory=dict)

    def store_quality_system(self, system: QualitySystem):
        """å­˜å‚¨è´¨é‡ä½“ç³»"""
        if system.created_date is None:
            system.created_date = datetime.now()
        self.quality_systems[system.system_id] = system

    def store_inspection(self, inspection: QualityInspection):
        """å­˜å‚¨æ£€éªŒ"""
        if inspection.created_date is None:
            inspection.created_date = datetime.now()
        self.inspections[inspection.inspection_id] = inspection

    def store_non_conformance(self, nc: NonConformance):
        """å­˜å‚¨ä¸åˆæ ¼å“"""
        if nc.created_date is None:
            nc.created_date = datetime.now()
        self.non_conformances[nc.nc_id] = nc

    def store_improvement(self, improvement: QualityImprovement):
        """å­˜å‚¨æ”¹è¿›"""
        if improvement.created_date is None:
            improvement.created_date = datetime.now()
        self.improvements[improvement.improvement_id] = improvement

    def get_inspection_summary(self) -> Dict:
        """è·å–æ£€éªŒæ‘˜è¦"""
        total = len(self.inspections)
        passed = len([i for i in self.inspections.values() if i.result == InspectionResult.PASS])
        failed = len([i for i in self.inspections.values() if i.result == InspectionResult.FAIL])

        return {
            'total': total,
            'passed': passed,
            'failed': failed,
            'pass_rate': float(passed / total * 100) if total > 0 else 0
        }

    def get_non_conformance_summary(self) -> Dict:
        """è·å–ä¸åˆæ ¼å“æ‘˜è¦"""
        summary = {}
        for status in NonConformanceStatus:
            count = len([nc for nc in self.non_conformances.values() if nc.status == status])
            summary[status.value] = count
        return summary

# ä½¿ç”¨ç¤ºä¾‹
if __name__ == '__main__':
    # åˆ›å»ºè´¨é‡ç®¡ç†å­˜å‚¨
    qm = QualityManagementStorage()

    # åˆ›å»ºè´¨é‡ä½“ç³»
    system = QualitySystem(
        system_id="QS001",
        system_name="ABCå…¬å¸è´¨é‡ç®¡ç†ä½“ç³»",
        standard_type=StandardType.ISO9001,
        certification_date=date(2024, 1, 1),
        expiry_date=date(2027, 1, 1),
        certification_body="è®¤è¯æœºæ„A"
    )
    qm.store_quality_system(system)

    # åˆ›å»ºè´¨é‡æ£€éªŒ
    inspection = QualityInspection(
        inspection_id="INS001",
        inspection_date=date(2025, 1, 21),
        product_id="PROD001",
        inspection_type="æ¥æ–™æ£€éªŒ",
        inspector="æ£€éªŒå‘˜A",
        result=InspectionResult.PASS,
        measurements={"å°ºå¯¸": Decimal('10.5'), "é‡é‡": Decimal('100.0')}
    )
    qm.store_inspection(inspection)

    # è·å–æ£€éªŒæ‘˜è¦
    inspection_summary = qm.get_inspection_summary()
    print(f"æ£€éªŒæ‘˜è¦: {inspection_summary}")
```

### 2.5 æ•ˆæœè¯„ä¼°

**æ€§èƒ½æŒ‡æ ‡**ï¼š

| æŒ‡æ ‡ | æ”¹è¿›å‰ | æ”¹è¿›å | æå‡ |
|------|--------|--------|------|
| è´¨é‡ä½“ç³»ç®¡ç†è§„èŒƒæ€§ | 70% | 95% | 25%æå‡ |
| æ£€éªŒæ•°æ®å®Œæ•´æ€§ | 75% | 98% | 23%æå‡ |
| ä¸åˆæ ¼å“è·Ÿè¸ªæ•ˆç‡ | ä½ | é«˜ | æ˜¾è‘—æå‡ |
| æ”¹è¿›æªæ–½æ‰§è¡Œç‡ | 60% | 90% | 30%æå‡ |

**ä¸šåŠ¡ä»·å€¼**ï¼š

1. **ä½“ç³»è§„èŒƒåŒ–**ï¼šè§„èŒƒè´¨é‡ä½“ç³»ç®¡ç†
2. **æ•°æ®å®Œæ•´æ€§**ï¼šå®Œæ•´è®°å½•æ£€éªŒæ•°æ®
3. **è·Ÿè¸ªæ•ˆç‡æé«˜**ï¼šæœ‰æ•ˆè·Ÿè¸ªä¸åˆæ ¼å“
4. **æ‰§è¡Œç‡æé«˜**ï¼šä¸¥æ ¼æ‰§è¡Œæ”¹è¿›æªæ–½

**ç»éªŒæ•™è®­**ï¼š

1. è´¨é‡ä½“ç³»å»ºæ¨¡å¾ˆé‡è¦
2. æ£€éªŒæ•°æ®ç®¡ç†éœ€è¦å®Œæ•´
3. ä¸åˆæ ¼å“è·Ÿè¸ªéœ€è¦åŠæ—¶
4. æ”¹è¿›æªæ–½ç®¡ç†éœ€è¦ç³»ç»ŸåŒ–

**å‚è€ƒæ¡ˆä¾‹**ï¼š

- [ISO 9001è´¨é‡ç®¡ç†ä½“ç³»](https://www.iso.org/iso-9001-quality-management.html)
- [å…­è¥¿æ ¼ç›è´¨é‡ç®¡ç†](https://www.isixsigma.com/)
