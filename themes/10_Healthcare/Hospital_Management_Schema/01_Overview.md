# åŒ»é™¢ç®¡ç†Schemaæ¦‚è¿°

## ğŸ“‘ ç›®å½•

- [åŒ»é™¢ç®¡ç†Schemaæ¦‚è¿°](#åŒ»é™¢ç®¡ç†schemaæ¦‚è¿°)
  - [ğŸ“‘ ç›®å½•](#-ç›®å½•)
  - [1. æ ¸å¿ƒç»“è®º](#1-æ ¸å¿ƒç»“è®º)
    - [1.1 åŒ»é™¢ç®¡ç†Schemaå®šä¹‰](#11-åŒ»é™¢ç®¡ç†schemaå®šä¹‰)
    - [1.2 æ ‡å‡†ä¾æ®](#12-æ ‡å‡†ä¾æ®)
  - [2. æ¦‚å¿µå®šä¹‰](#2-æ¦‚å¿µå®šä¹‰)
    - [2.1 åŒ»é™¢ç®¡ç†Schemaå®šä¹‰](#21-åŒ»é™¢ç®¡ç†schemaå®šä¹‰)
    - [2.2 æ ¸å¿ƒç‰¹å¾](#22-æ ¸å¿ƒç‰¹å¾)
    - [2.3 Schemaåˆ†ç±»](#23-schemaåˆ†ç±»)
  - [3. HISç³»ç»Ÿæ¶æ„](#3-hisç³»ç»Ÿæ¶æ„)
    - [3.1 æ¶æ„æ¦‚è¿°](#31-æ¶æ„æ¦‚è¿°)
    - [3.2 æ ¸å¿ƒæ¨¡å—](#32-æ ¸å¿ƒæ¨¡å—)
    - [3.3 æ•°æ®æµ](#33-æ•°æ®æµ)
  - [4. é¢„çº¦æŒ‚å·ç³»ç»Ÿ](#4-é¢„çº¦æŒ‚å·ç³»ç»Ÿ)
    - [4.1 é¢„çº¦æµç¨‹](#41-é¢„çº¦æµç¨‹)
    - [4.2 å·æºç®¡ç†](#42-å·æºç®¡ç†)
    - [4.3 å–æ¶ˆä¸æ”¹çº¦](#43-å–æ¶ˆä¸æ”¹çº¦)
  - [5. æ’ç­ç®¡ç†ç³»ç»Ÿ](#5-æ’ç­ç®¡ç†ç³»ç»Ÿ)
    - [5.1 æ’ç­æ¨¡å¼](#51-æ’ç­æ¨¡å¼)
    - [5.2 ç­æ¬¡ç±»å‹](#52-ç­æ¬¡ç±»å‹)
    - [5.3 è°ƒç­ç®¡ç†](#53-è°ƒç­ç®¡ç†)
  - [6. èµ„æºè°ƒåº¦ç³»ç»Ÿ](#6-èµ„æºè°ƒåº¦ç³»ç»Ÿ)
    - [6.1 åºŠä½ç®¡ç†](#61-åºŠä½ç®¡ç†)
    - [6.2 æ‰‹æœ¯å®¤è°ƒåº¦](#62-æ‰‹æœ¯å®¤è°ƒåº¦)
    - [6.3 æ£€æŸ¥è®¾å¤‡è°ƒåº¦](#63-æ£€æŸ¥è®¾å¤‡è°ƒåº¦)
  - [7. åº”ç”¨åœºæ™¯](#7-åº”ç”¨åœºæ™¯)
    - [7.1 é—¨è¯Šç®¡ç†](#71-é—¨è¯Šç®¡ç†)
    - [7.2 ä½é™¢ç®¡ç†](#72-ä½é™¢ç®¡ç†)
    - [7.3 æ€¥è¯Šç®¡ç†](#73-æ€¥è¯Šç®¡ç†)
    - [7.4 åŒ»ç–—èµ„æºä¼˜åŒ–](#74-åŒ»ç–—èµ„æºä¼˜åŒ–)
  - [8. æ€ç»´å¯¼å›¾](#8-æ€ç»´å¯¼å›¾)

---

## 1. æ ¸å¿ƒç»“è®º

**åŒ»é™¢ç®¡ç†å­˜åœ¨æ ‡å‡†åŒ–çš„Schemaä½“ç³»**ï¼Œä¸ºåŒ»ç–—æœºæ„æä¾›å®Œæ•´çš„ç®¡ç†èƒ½åŠ›ï¼Œæ”¯æŒæ‚£è€…æµè½¬ã€èµ„æºè°ƒåº¦å’Œè¿è¥ä¼˜åŒ–ã€‚

### 1.1 åŒ»é™¢ç®¡ç†Schemaå®šä¹‰

```text
Hospital_Management_Schema = (Patient_Flow âŠ• Resource_Scheduling
                              âŠ• Staff_Management âŠ• Appointment_System
                              âŠ• Bed_Management âŠ• Equipment_Scheduling)
                              Ã— Quality_Standards Ã— Security_Framework
```

### 1.2 æ ‡å‡†ä¾æ®

- **HIMSS**ï¼šåŒ»ç–—ä¿¡æ¯ä¸ç®¡ç†ç³»ç»Ÿå­¦ä¼šæ ‡å‡†
- **JCIæ ‡å‡†**ï¼šå›½é™…è”åˆå§”å‘˜ä¼šåŒ»é™¢è¯„å®¡æ ‡å‡†
- **å›½å†…åŒ»é™¢ä¿¡æ¯åŒ–æ ‡å‡†**ï¼šå«å¥å§”å‘å¸ƒçš„åŒ»é™¢ä¿¡æ¯åŒ–å»ºè®¾æ ‡å‡†
- **äº’è”äº’é€šæ ‡å‡†åŒ–æˆç†Ÿåº¦**ï¼šå›½å®¶åŒ»ç–—å¥åº·ä¿¡æ¯äº’è”äº’é€šæ ‡å‡†åŒ–æˆç†Ÿåº¦æµ‹è¯„
- **ç”µå­ç—…å†åˆ†çº§è¯„ä»·**ï¼šç”µå­ç—…å†ç³»ç»Ÿåº”ç”¨æ°´å¹³åˆ†çº§è¯„ä»·æ ‡å‡†

---

## 2. æ¦‚å¿µå®šä¹‰

### 2.1 åŒ»é™¢ç®¡ç†Schemaå®šä¹‰

**åŒ»é™¢ç®¡ç†Schema**æ˜¯æè¿°åŒ»é™¢è¿è¥ç®¡ç†æ•°æ®ç»“æ„å’Œä¸šåŠ¡æµç¨‹çš„å½¢å¼åŒ–è§„èŒƒï¼ŒåŒ…æ‹¬æ‚£è€…ç®¡ç†ã€èµ„æºè°ƒåº¦ã€äººå‘˜æ’ç­ç­‰ç®¡ç†å…ƒç´ ã€‚

### 2.2 æ ¸å¿ƒç‰¹å¾

1. **æµç¨‹æ ‡å‡†åŒ–**ï¼šåŸºäºJCIå’ŒHIMSSæ ‡å‡†
2. **èµ„æºä¼˜åŒ–**ï¼šæ™ºèƒ½è°ƒåº¦å’Œèµ„æºåˆ†é…
3. **å®æ—¶ç›‘æ§**ï¼šå®æ—¶æ•°æ®ç›‘æ§å’Œé¢„è­¦
4. **äº’è”äº’é€š**ï¼šæ”¯æŒè·¨ç³»ç»Ÿæ•°æ®äº¤æ¢
5. **æ‚£è€…ä¸­å¿ƒ**ï¼šä»¥æ‚£è€…ä¸ºä¸­å¿ƒçš„æµç¨‹è®¾è®¡
6. **æ•°æ®é©±åŠ¨**ï¼šåŸºäºæ•°æ®çš„å†³ç­–æ”¯æŒ

### 2.3 Schemaåˆ†ç±»

- **æ‚£è€…ç®¡ç†Schema**ï¼šæ‚£è€…æ³¨å†Œã€èº«ä»½è¯†åˆ«ã€å°±è¯Šè·Ÿè¸ª
- **é¢„çº¦ç®¡ç†Schema**ï¼šé¢„çº¦æŒ‚å·ã€é¢„çº¦æ£€æŸ¥ã€é¢„çº¦æ‰‹æœ¯
- **æ’ç­ç®¡ç†Schema**ï¼šåŒ»ç”Ÿæ’ç­ã€æŠ¤å£«æ’ç­ã€åŒ»æŠ€æ’ç­
- **èµ„æºè°ƒåº¦Schema**ï¼šåºŠä½ã€æ‰‹æœ¯å®¤ã€æ£€æŸ¥è®¾å¤‡
- **æ”¶è´¹ç®¡ç†Schema**ï¼šè´¹ç”¨è®¡ç®—ã€åŒ»ä¿ç»“ç®—ã€æ”¯ä»˜æ–¹å¼
- **ç‰©èµ„ç®¡ç†Schema**ï¼šè¯å“ã€è€—æã€è®¾å¤‡ç®¡ç†

---

## 3. HISç³»ç»Ÿæ¶æ„

### 3.1 æ¶æ„æ¦‚è¿°

**HISç³»ç»Ÿé‡‡ç”¨å¾®æœåŠ¡æ¶æ„è®¾è®¡**ï¼š

```text
HIS_Architecture = (API_Gateway, Microservices, Data_Layer, Integration_Layer)
```

**ç³»ç»Ÿæ¶æ„å›¾**ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              ç”¨æˆ·æ¥å…¥å±‚                                       â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚    â”‚ åŒ»ç”Ÿå·¥ä½œç«™    â”‚ â”‚ æŠ¤å£«å·¥ä½œç«™    â”‚ â”‚ ç®¡ç†æ§åˆ¶å°    â”‚ â”‚ æ‚£è€…ç§»åŠ¨ç«¯    â”‚     â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                              APIç½‘å…³å±‚                                       â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚
â”‚                    â”‚        API Gateway               â”‚                     â”‚
â”‚                    â”‚  (è®¤è¯/é™æµ/è·¯ç”±/è´Ÿè½½å‡è¡¡)          â”‚                     â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                              å¾®æœåŠ¡å±‚                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ æ‚£è€…æœåŠ¡      â”‚ â”‚ é¢„çº¦æœåŠ¡      â”‚ â”‚ æ’ç­æœåŠ¡      â”‚ â”‚ æ”¶è´¹æœåŠ¡      â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ åºŠä½æœåŠ¡      â”‚ â”‚ æ‰‹æœ¯è°ƒåº¦      â”‚ â”‚ æ£€æŸ¥è°ƒåº¦      â”‚ â”‚ ç‰©èµ„æœåŠ¡      â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ æŠ¥è¡¨æœåŠ¡      â”‚ â”‚ æ¶ˆæ¯æœåŠ¡      â”‚ â”‚ å·¥ä½œæµæœåŠ¡    â”‚ â”‚ ç¼“å­˜æœåŠ¡      â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                              æ•°æ®å±‚                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ ä¸»æ•°æ®åº“      â”‚ â”‚ è¯»å†™åˆ†ç¦»      â”‚ â”‚ ç¼“å­˜å±‚       â”‚ â”‚ æ•°æ®ä»“åº“      â”‚       â”‚
â”‚  â”‚  (Oracle)   â”‚ â”‚  (MySQL)     â”‚ â”‚  (Redis)    â”‚ â”‚  (ClickHouse)â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                              é›†æˆå±‚                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ HL7æ¥å£      â”‚ â”‚ FHIRæ¥å£      â”‚ â”‚ åŒ»ä¿æ¥å£      â”‚ â”‚ åŒºåŸŸå¹³å°      â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 æ ¸å¿ƒæ¨¡å—

**HISæ ¸å¿ƒåŠŸèƒ½æ¨¡å—**ï¼š

| æ¨¡å—åç§° | åŠŸèƒ½æè¿° | ä¸»è¦å®ä½“ |
|---------|---------|---------|
| æ‚£è€…ç®¡ç† | æ‚£è€…æ³¨å†Œã€èº«ä»½è¯†åˆ«ã€æ¡£æ¡ˆç®¡ç† | Patient, PatientIdentifier |
| é¢„çº¦æŒ‚å· | å·æºç®¡ç†ã€é¢„çº¦å¤„ç†ã€æ’é˜Ÿå«å· | Appointment, ScheduleSlot |
| é—¨è¯Šç®¡ç† | åˆ†è¯Šã€å°±è¯Šã€å¤„æ–¹ã€æ”¶è´¹ | OutpatientVisit, Prescription |
| ä½é™¢ç®¡ç† | å…¥é™¢ã€ç—…æˆ¿ã€åŒ»å˜±ã€å‡ºé™¢ | Admission, Ward, Bed |
| æ”¶è´¹ç®¡ç† | è´¹ç”¨è®¡ç®—ã€åŒ»ä¿ç»“ç®—ã€å‘ç¥¨ | Charge, InsuranceClaim |
| è¯æˆ¿ç®¡ç† | è¯å“åº“å­˜ã€å‘è¯ã€é€€è¯ | Pharmacy, Medication |
| æ£€éªŒæ£€æŸ¥ | ç”³è¯·ã€æ‰§è¡Œã€æŠ¥å‘Šã€å›¾åƒ | LabOrder, ImagingOrder |
| æ‰‹æœ¯ç®¡ç† | æ‰‹æœ¯ç”³è¯·ã€å®‰æ’ã€æ‰§è¡Œã€è®°å½• | SurgeryRequest, ORSchedule |
| ç‰©èµ„ç®¡ç† | é‡‡è´­ã€åº“å­˜ã€é¢†ç”¨ã€ç›˜ç‚¹ | Inventory, Supply |
| äººäº‹ç®¡ç† | å‘˜å·¥ã€æ’ç­ã€è€ƒå‹¤ã€ç»©æ•ˆ | Staff, Schedule, Attendance |
| è´¢åŠ¡ç®¡ç† | æ”¶å…¥ã€æ”¯å‡ºã€æˆæœ¬ã€æŠ¥è¡¨ | Finance, Budget |
| ç»Ÿè®¡åˆ†æ | è¿è¥æŒ‡æ ‡ã€è´¨é‡æŒ‡æ ‡ã€æŠ¥è¡¨ | KPI, Report |

### 3.3 æ•°æ®æµ

**ä¸»è¦ä¸šåŠ¡æµç¨‹æ•°æ®æµ**ï¼š

```
æ‚£è€…å°±è¯Šæµç¨‹ï¼š
Patient Registration â†’ Appointment â†’ Triage â†’ Consultation 
â†’ Order â†’ Execution â†’ Billing â†’ Discharge

ä½é™¢æµç¨‹ï¼š
Admission â†’ Bed Assignment â†’ Order Management 
â†’ Clinical Care â†’ Discharge Planning â†’ Discharge

æ‰‹æœ¯æµç¨‹ï¼š
Surgery Request â†’ Pre-op Assessment â†’ OR Scheduling 
â†’ Surgery Execution â†’ Recovery â†’ Post-op Care
```

---

## 4. é¢„çº¦æŒ‚å·ç³»ç»Ÿ

### 4.1 é¢„çº¦æµç¨‹

**é¢„çº¦æŒ‚å·æµç¨‹**ï¼š

```dsl
workflow AppointmentWorkflow {
  // é¢„çº¦è¯·æ±‚
  request: AppointmentRequest {
    patient: PatientReference @required
    desiredDate: Date @required
    specialty: String @required
    doctor: PractitionerReference
    appointmentType: Enum { first_visit, follow_up, consultation }
    priority: Enum { routine, urgent }
    reason: String
    contactInfo: ContactPoint @required
  }
  
  // å·æºæŸ¥è¯¢
  query: SlotQuery {
    specialty: String @required
    dateRange: DateRange @required
    doctor: PractitionerReference
    appointmentType: Enum { first_visit, follow_up }
  }
  
  // å¯ç”¨å·æº
  availableSlots: List<ScheduleSlot> {
    slotId: String @required
    scheduleId: String @required
    startTime: DateTime @required
    endTime: DateTime @required
    status: Enum { free, busy, blocked } @required
    doctor: Practitioner @required
    specialty: String @required
    location: Location
    serviceType: String
  }
  
  // é¢„çº¦ç¡®è®¤
  confirm: AppointmentConfirmation {
    appointmentId: String @required
    slot: ScheduleSlot @required
    patient: PatientReference @required
    status: Enum { pending, confirmed, arrived, completed, cancelled, no_show }
    confirmationTime: DateTime @required
    reminderSetting: ReminderSetting {
      smsReminder: Boolean @default(true)
      emailReminder: Boolean @default(false)
      reminderTime: Integer @default(24)  // æå‰å°æ—¶æ•°
    }
  }
}
```

**é¢„çº¦çŠ¶æ€æœº**ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    é¢„çº¦      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    ç¡®è®¤      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  åˆå§‹   â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ â”‚  å¾…ç¡®è®¤  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ â”‚  å·²ç¡®è®¤  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                         â”‚
                           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                           â”‚                             â”‚             â”‚
                           â†“                             â†“             â†“
                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                      â”‚  å·²å–æ¶ˆ  â”‚                  â”‚  å·²ç­¾åˆ°  â”‚   â”‚ æœªå°±è¯Š  â”‚
                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                          â”‚
                                                          â†“
                                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                                    â”‚  å·²å®Œæˆ  â”‚
                                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.2 å·æºç®¡ç†

**å·æºç®¡ç†Schema**ï¼š

```dsl
schema ScheduleSlot {
  resourceType: String @value("ScheduleSlot") @required
  
  slotId: String @pattern("^S[0-9]{14}[A-Z0-9]{6}$") @required
  scheduleId: String @required
  
  // æ—¶é—´ä¿¡æ¯
  timeInfo: SlotTimeInfo {
    date: Date @required
    startTime: Time @required
    endTime: Time @required
    duration: Integer @required  // åˆ†é’Ÿ
  }
  
  // æœåŠ¡ä¿¡æ¯
  service: SlotService {
    specialty: String @required
    serviceType: Enum { outpatient, expert, special, emergency }
    doctor: Practitioner @required
    location: Location @required
    consultationType: Enum { video, phone, in_person }
  }
  
  // å·æºçŠ¶æ€
  status: SlotStatus {
    currentStatus: Enum { free, busy, blocked, tentative } @required
    appointmentId: String  // å…³è”çš„é¢„çº¦ID
    patientId: String     // é¢„çº¦æ‚£è€…ID
    lockedUntil: DateTime // é”å®šæˆªæ­¢æ—¶é—´
    lockSessionId: String // é”å®šä¼šè¯ID
  }
  
  // å·æºå±æ€§
  properties: SlotProperties {
    isWalkin: Boolean @default(false)  // æ˜¯å¦å¯ç°åœºæŒ‚å·
    isReferralOnly: Boolean @default(false)  // æ˜¯å¦ä»…è½¬è¯Š
    isNewPatientOnly: Boolean @default(false)  // æ˜¯å¦ä»…åˆè¯Š
    maxAppointments: Integer @default(1)  // æœ€å¤§é¢„çº¦æ•°
    price: Decimal
    insuranceCoverage: Boolean @default(true)
  }
  
  // ç»Ÿè®¡ä¿¡æ¯
  statistics: SlotStatistics {
    totalAppointments: Integer @default(0)
    completedAppointments: Integer @default(0)
    cancelledAppointments: Integer @default(0)
    noShowAppointments: Integer @default(0)
  }
}
```

**å·æºç”Ÿæˆç®—æ³•**ï¼š

```python
class SlotGenerator:
    """å·æºç”Ÿæˆå™¨"""
    
    def generate_slots(self, schedule_config: Dict[str, Any], 
                      start_date: date, end_date: date) -> List[Dict[str, Any]]:
        """
        æ ¹æ®æ’ç­é…ç½®ç”Ÿæˆå·æº
        
        Args:
            schedule_config: æ’ç­é…ç½®
            start_date: å¼€å§‹æ—¥æœŸ
            end_date: ç»“æŸæ—¥æœŸ
            
        Returns:
            ç”Ÿæˆçš„å·æºåˆ—è¡¨
        """
        slots = []
        
        current_date = start_date
        while current_date <= end_date:
            # è·å–å½“å¤©çš„æ’ç­è§„åˆ™
            day_schedule = self._get_day_schedule(schedule_config, current_date)
            
            if day_schedule:
                # ç”Ÿæˆè¯¥å¤©çš„å·æº
                day_slots = self._generate_day_slots(
                    current_date, 
                    day_schedule,
                    schedule_config.get('doctor'),
                    schedule_config.get('location')
                )
                slots.extend(day_slots)
            
            current_date += timedelta(days=1)
        
        return slots
    
    def _generate_day_slots(self, date: date, schedule: Dict[str, Any],
                           doctor: Dict[str, str], location: Dict[str, str]) -> List[Dict[str, Any]]:
        """ç”Ÿæˆå•æ—¥å·æº"""
        slots = []
        
        start_time = datetime.combine(date, schedule['startTime'])
        end_time = datetime.combine(date, schedule['endTime'])
        duration = timedelta(minutes=schedule['duration'])
        
        current_time = start_time
        while current_time + duration <= end_time:
            slot = {
                'slotId': self._generate_slot_id(),
                'scheduleId': schedule['scheduleId'],
                'date': date.isoformat(),
                'startTime': current_time.time().isoformat(),
                'endTime': (current_time + duration).time().isoformat(),
                'duration': schedule['duration'],
                'doctor': doctor,
                'location': location,
                'specialty': schedule['specialty'],
                'status': 'free'
            }
            slots.append(slot)
            current_time += duration
        
        return slots
```

### 4.3 å–æ¶ˆä¸æ”¹çº¦

**å–æ¶ˆå’Œæ”¹çº¦è§„åˆ™**ï¼š

```dsl
schema AppointmentCancellation {
  cancellationId: String @required
  appointmentId: String @required
  
  // å–æ¶ˆä¿¡æ¯
  cancellation: CancellationInfo {
    cancelledAt: DateTime @required
    cancelledBy: Reference @required
    reason: Enum { 
      patient_request, doctor_unavailable, emergency, 
      duplicate, system_error, other 
    } @required
    reasonDetail: String
    penaltyApplied: Boolean @default(false)
    penaltyAmount: Decimal
  }
  
  // å·æºé‡Šæ”¾
  slotRelease: SlotRelease {
    slotId: String @required
    releasedAt: DateTime @required
    newStatus: Enum { free, blocked }
  }
  
  // é€€æ¬¾å¤„ç†
  refund: RefundInfo {
    refundRequired: Boolean @required
    refundAmount: Decimal
    refundMethod: Enum { original, cash, bank_transfer }
    refundStatus: Enum { pending, processing, completed, failed }
    refundTransactionId: String
  }
  
  // é€šçŸ¥
  notifications: List<Notification> {
    recipient: Reference @required
    channel: Enum { sms, email, app_push, phone }
    sentAt: DateTime
    status: Enum { pending, sent, delivered, failed }
  }
}

schema AppointmentReschedule {
  rescheduleId: String @required
  originalAppointmentId: String @required
  
  // åŸé¢„çº¦
  originalAppointment: AppointmentReference {
    appointmentId: String @required
    slot: ScheduleSlot @required
    patient: PatientReference @required
  }
  
  // æ–°é¢„çº¦
  newAppointment: AppointmentInfo {
    newAppointmentId: String @required
    newSlot: ScheduleSlot @required
    rescheduledAt: DateTime @required
    rescheduledBy: Reference @required
    reason: String
  }
  
  // è´¹ç”¨å¤„ç†
  priceAdjustment: PriceAdjustment {
    originalPrice: Decimal @required
    newPrice: Decimal @required
    priceDifference: Decimal
    adjustmentType: Enum { refund, additional, no_change }
    adjustmentTransactionId: String
  }
}
```

---

## 5. æ’ç­ç®¡ç†ç³»ç»Ÿ

### 5.1 æ’ç­æ¨¡å¼

**æ’ç­æ¨¡å¼ç±»å‹**ï¼š

| æ’ç­æ¨¡å¼ | é€‚ç”¨åœºæ™¯ | ç‰¹ç‚¹ |
|---------|---------|------|
| å›ºå®šæ’ç­ | é—¨è¯ŠåŒ»ç”Ÿ | å‘¨æœŸæ€§é‡å¤ï¼Œè§„å¾‹æ€§å¼º |
| å¼¹æ€§æ’ç­ | æ€¥è¯Šã€ICU | æ ¹æ®å·¥ä½œé‡åŠ¨æ€è°ƒæ•´ |
| è½®ç­æ’ç­ | æŠ¤å£«ã€åŒ»æŠ€ | ä¸‰ç­å€’ï¼Œä¿è¯24å°æ—¶è¦†ç›– |
| é¢„çº¦æ’ç­ | ä¸“å®¶é—¨è¯Š | æŒ‰éœ€å®‰æ’ï¼Œæ‚£è€…é©±åŠ¨ |
| æ··åˆæ’ç­ | ç»¼åˆç§‘å®¤ | å¤šç§æ¨¡å¼ç»„åˆ |

**æ’ç­å‘¨æœŸå®šä¹‰**ï¼š

```dsl
schema ShiftSchedule {
  resourceType: String @value("ShiftSchedule") @required
  
  scheduleId: String @required
  scheduleType: Enum { fixed, rotating, flexible, on_call } @required
  
  // æ’ç­å‘¨æœŸ
  period: SchedulePeriod {
    startDate: Date @required
    endDate: Date @required
    cycleLength: Integer @required  // å‘¨æœŸå¤©æ•°
    effectiveDates: List<DateRange>
  }
  
  // äººå‘˜é…ç½®
  staffAssignment: List<StaffAssignment> {
    staff: Practitioner @required
    role: Enum { doctor, nurse, technician, resident, intern } @required
    department: String @required
    specialty: String
    
    // ç­æ¬¡åˆ†é…
    shifts: List<AssignedShift> {
      date: Date @required
      shiftType: ShiftType @required
      location: Location
      responsibilities: List<String>
      notes: String
    }
    
    // å·¥æ—¶ç»Ÿè®¡
    workHours: WorkHours {
      scheduledHours: Decimal @required
      actualHours: Decimal
      overtimeHours: Decimal @default(0)
      leaveHours: Decimal @default(0)
    }
  }
  
  // æ’ç­çº¦æŸ
  constraints: ScheduleConstraints {
    maxConsecutiveDays: Integer @default(6)
    minRestHours: Integer @default(24)
    maxWeeklyHours: Integer @default(40)
    skillRequirements: List<SkillRequirement>
    seniorityRequirements: List<SeniorityRequirement>
  }
  
  // æ’ç­çŠ¶æ€
  status: ScheduleStatus {
    currentStatus: Enum { draft, published, active, completed, archived } @required
    publishedAt: DateTime
    publishedBy: Practitioner
    lastModifiedAt: DateTime
    lastModifiedBy: Practitioner
  }
}
```

### 5.2 ç­æ¬¡ç±»å‹

**æ ‡å‡†ç­æ¬¡å®šä¹‰**ï¼š

```dsl
enum ShiftType {
  // é—¨è¯Šç­æ¬¡
  MORNING_CLINIC {      // ä¸Šåˆé—¨è¯Š
    startTime: "08:00"
    endTime: "12:00"
    breakTime: "10:00-10:15"
  }
  
  AFTERNOON_CLINIC {    // ä¸‹åˆé—¨è¯Š
    startTime: "14:00"
    endTime: "17:30"
    breakTime: "15:30-15:45"
  }
  
  EVENING_CLINIC {      // æ™šé—´é—¨è¯Š
    startTime: "17:30"
    endTime: "21:00"
  }
  
  // æ€¥è¯Šç­æ¬¡
  DAY_EMERGENCY {       // ç™½ç­æ€¥è¯Š
    startTime: "08:00"
    endTime: "16:00"
  }
  
  EVENING_EMERGENCY {   // æ™šç­æ€¥è¯Š
    startTime: "16:00"
    endTime: "00:00"
  }
  
  NIGHT_EMERGENCY {     // å¤œç­æ€¥è¯Š
    startTime: "00:00"
    endTime: "08:00"
  }
  
  // ç—…æˆ¿ç­æ¬¡
  DAY_WARD {            // ç™½ç­ç—…æˆ¿
    startTime: "08:00"
    endTime: "16:00"
  }
  
  EVENING_WARD {        // å°å¤œç­
    startTime: "16:00"
    endTime: "00:00"
  }
  
  NIGHT_WARD {          // å¤§å¤œç­
    startTime: "00:00"
    endTime: "08:00"
  }
  
  // æ‰‹æœ¯å®¤ç­æ¬¡
  OR_DAY {              // æ‰‹æœ¯å®¤ç™½ç­
    startTime: "08:00"
    endTime: "17:00"
  }
  
  OR_EXTENDED {         // æ‰‹æœ¯å®¤å»¶é•¿ç­
    startTime: "08:00"
    endTime: "22:00"
  }
  
  OR_ON_CALL {          // æ‰‹æœ¯å®¤å¤‡ç­
    startTime: "17:00"
    endTime: "08:00"
    isOnCall: true
  }
  
  // è¡Œæ”¿ç­æ¬¡
  ADMINISTRATIVE {      // è¡Œæ”¿ç­
    startTime: "08:00"
    endTime: "17:30"
    lunchBreak: "12:00-13:30"
  }
}
```

### 5.3 è°ƒç­ç®¡ç†

**è°ƒç­ç”³è¯·æµç¨‹**ï¼š

```dsl
schema ShiftSwap {
  swapId: String @required
  
  // ç”³è¯·äººä¿¡æ¯
  requestor: StaffReference {
    staffId: String @required
    name: String @required
    department: String @required
    originalShift: AssignedShift @required
  }
  
  // è°ƒç­ç±»å‹
  swapType: Enum { 
    swap_with_peer,     // ä¸åŒäº‹æ¢ç­
    request_leave,      // è¯·å‡
    request_overtime,   // ç”³è¯·åŠ ç­
    duty_exchange       // è°ƒä¼‘
  } @required
  
  // è°ƒç­è¯¦æƒ…
  swapDetails: SwapDetails {
    requestedDate: Date @required
    requestedShift: ShiftType
    reason: String @required
    reasonCategory: Enum { personal, family, health, emergency, other }
    supportingDocuments: List<Attachment>
  }
  
  // æ¢ç­å¯¹è±¡ï¼ˆå¦‚é€‚ç”¨ï¼‰
  swapPartner: StaffReference {
    staffId: String
    name: String
    partnerShift: AssignedShift
    partnerConsent: Boolean
    consentTime: DateTime
  }
  
  // å®¡æ‰¹æµç¨‹
  approval: ApprovalWorkflow {
    currentStep: Integer @default(1)
    totalSteps: Integer @required
    approvals: List<ApprovalStep> {
      stepNumber: Integer @required
      approver: Practitioner @required
      approverRole: String @required
      decision: Enum { pending, approved, rejected }
      decisionTime: DateTime
      comments: String
    }
    finalStatus: Enum { pending, approved, rejected, withdrawn }
  }
  
  // è°ƒç­æ‰§è¡Œ
  execution: SwapExecution {
    executedAt: DateTime
    executedBy: Practitioner
    originalScheduleUpdated: Boolean
    notificationsSent: Boolean
    affectedStaffNotified: List<StaffReference>
  }
}
```

---

## 6. èµ„æºè°ƒåº¦ç³»ç»Ÿ

### 6.1 åºŠä½ç®¡ç†

**åºŠä½ç®¡ç†Schema**ï¼š

```dsl
schema BedManagement {
  resourceType: String @value("BedManagement") @required
  
  // åºŠä½ä¿¡æ¯
  bed: Bed {
    bedId: String @required
    bedNumber: String @required
    bedType: Enum { 
      standard, deluxe, icu, ccu, nicu, 
      isolation, observation, recovery 
    } @required
    ward: Ward {
      wardId: String @required
      wardName: String @required
      department: String @required
      floor: String
      building: String
    }
    room: Room {
      roomId: String @required
      roomNumber: String @required
      roomType: Enum { single, double, triple, quad, ward }
      amenities: List<String>
    }
    features: List<BedFeature> {
      hasOxygen: Boolean @default(false)
      hasSuction: Boolean @default(false)
      hasMonitor: Boolean @default(false)
      hasIsolation: Boolean @default(false)
      isPressureRelief: Boolean @default(false)
    }
  }
  
  // åºŠä½çŠ¶æ€
  status: BedStatus {
    currentStatus: Enum { 
      available, occupied, reserved, blocked, 
      maintenance, cleaning, out_of_service 
    } @required
    currentPatient: PatientReference
    admissionId: String
    expectedDischarge: DateTime
    holdUntil: DateTime
    holdReason: String
    blockedReason: String
  }
  
  // å ç”¨å†å²
  occupancyHistory: List<OccupancyRecord> {
    recordId: String @required
    patient: PatientReference @required
    admission: AdmissionReference @required
    checkInTime: DateTime @required
    checkOutTime: DateTime
    lengthOfStay: Integer  // å°æ—¶
  }
  
  // ç»´æŠ¤è®°å½•
  maintenance: List<MaintenanceRecord> {
    maintenanceId: String @required
    maintenanceType: Enum { cleaning, repair, inspection, upgrade }
    scheduledTime: DateTime @required
    completedTime: DateTime
    technician: Practitioner
    description: String
    status: Enum { scheduled, in_progress, completed, cancelled }
  }
}

schema Admission {
  admissionId: String @required
  patient: PatientReference @required
  
  // å…¥é™¢ä¿¡æ¯
  admissionInfo: AdmissionInfo {
    admissionType: Enum { elective, emergency, urgent, newborn, transfer } @required
    admissionSource: Enum { physician_referral, clinic_referral, er, transfer, other }
    admissionTime: DateTime @required
    admittingDoctor: Practitioner @required
    admittingDepartment: String @required
    preliminaryDiagnosis: String
  }
  
  // åºŠä½åˆ†é…
  bedAssignment: BedAssignment {
    assignedBed: Bed @required
    assignedTime: DateTime @required
    assignedBy: Practitioner @required
    expectedStay: Integer  // é¢„è®¡ä½é™¢å¤©æ•°
    roomPreference: String
    specialRequirements: List<String>
  }
  
  // ä½é™¢çŠ¶æ€
  status: AdmissionStatus {
    currentStatus: Enum { admitted, transferred, discharged, deceased } @required
    currentLocation: Location
    attendingDoctor: Practitioner
    primaryNurse: Practitioner
    careTeam: List<Practitioner>
  }
  
  // å‡ºé™¢è®¡åˆ’
  discharge: DischargePlan {
    plannedDischargeDate: Date
    dischargeDisposition: Enum { home, transfer, rehab, nursing, deceased }
    dischargeDiagnosis: String
    followUpInstructions: String
    actualDischargeTime: DateTime
  }
}
```

### 6.2 æ‰‹æœ¯å®¤è°ƒåº¦

**æ‰‹æœ¯å®¤è°ƒåº¦Schema**ï¼š

```dsl
schema ORSchedule {
  resourceType: String @value("ORSchedule") @required
  
  scheduleId: String @required
  
  // æ‰‹æœ¯ä¿¡æ¯
  surgery: Surgery {
    surgeryId: String @required
    surgeryRequestId: String @required
    patient: PatientReference @required
    surgeryType: Enum { elective, emergency, urgent } @required
    procedureCodes: List<ProcedureCode> {
      code: String @required
      description: String @required
      cptCode: String
      icd9cmCode: String
      estimatedDuration: Integer  // åˆ†é’Ÿ
    }
    diagnosisCodes: List<DiagnosisCode>
    surgicalPriority: Enum { low, medium, high, critical }
  }
  
  // æ‰‹æœ¯å®‰æ’
  scheduling: SurgeryScheduling {
    scheduledDate: Date @required
    scheduledStartTime: Time @required
    scheduledEndTime: Time
    estimatedDuration: Integer @required
    orRoom: OperatingRoom {
      roomId: String @required
      roomNumber: String @required
      roomType: Enum { general, cardiac, neuro, ortho, obgyn, pediatric }
      equipment: List<String>
    }
    status: Enum { scheduled, confirmed, in_progress, completed, cancelled, delayed }
  }
  
  // æ‰‹æœ¯å›¢é˜Ÿ
  surgicalTeam: SurgicalTeam {
    primarySurgeon: Practitioner @required
    assistantSurgeons: List<Practitioner>
    anesthesiologist: Practitioner @required
    scrubNurses: List<Practitioner>
    circulatingNurses: List<Practitioner>
    otherStaff: List<StaffReference>
  }
  
  // æœ¯å‰å‡†å¤‡
  preOp: PreOpPreparation {
    preOpAssessmentCompleted: Boolean @default(false)
    consentSigned: Boolean @default(false)
    anesthesiaEvaluation: Boolean @default(false)
    requiredLabsCompleted: Boolean @default(false)
    npoStatus: Enum { compliant, not_compliant, unknown }
    patientArrived: Boolean @default(false)
    patientReady: Boolean @default(false)
    holdReasons: List<String>
  }
  
  // æ‰‹æœ¯æ‰§è¡Œ
  execution: SurgeryExecution {
    actualStartTime: DateTime
    actualEndTime: DateTime
    actualDuration: Integer
    procedurePerformed: String
    complications: List<String>
    estimatedBloodLoss: Quantity
    specimensCollected: List<String>
    implantsUsed: List<String>
    closureTime: DateTime
    patientCondition: Enum { stable, critical, deceased }
    patientDestination: Enum { pacu, icu, ward, other_or }
  }
  
  // èµ„æºå†²çªæ£€æµ‹
  conflictDetection: ConflictDetection {
    conflicts: List<ScheduleConflict> {
      conflictType: Enum { room_overlap, staff_overlap, equipment_unavailable }
      severity: Enum { warning, error }
      description: String
      suggestedResolution: String
    }
    autoResolved: Boolean
  }
}
```

### 6.3 æ£€æŸ¥è®¾å¤‡è°ƒåº¦

**æ£€æŸ¥è®¾å¤‡è°ƒåº¦Schema**ï¼š

```dsl
schema ImagingSchedule {
  resourceType: String @value("ImagingSchedule") @required
  
  scheduleId: String @required
  orderId: String @required
  
  // æ£€æŸ¥ç”³è¯·
  order: ImagingOrder {
    patient: PatientReference @required
    examType: Enum { 
      xray, ct, mri, ultrasound, mammography, 
      nuclear_medicine, pet, fluoroscopy 
    } @required
    examCode: String @required
    examDescription: String @required
    bodyPart: String @required
    clinicalIndication: String @required
    priority: Enum { routine, urgent, stat } @required
    contrastRequired: Boolean @default(false)
    contrastType: String
    specialInstructions: String
  }
  
  // è®¾å¤‡å®‰æ’
  equipment: EquipmentAssignment {
    modality: ImagingModality {
      modalityId: String @required
      modalityType: Enum { CT, MR, XR, US, NM, PET } @required
      manufacturer: String
      model: String
      location: Location @required
    }
    scheduledDateTime: DateTime @required
    estimatedDuration: Integer @default(30)
    technician: Practitioner
    radiologist: Practitioner
  }
  
  // æ‚£è€…å‡†å¤‡
  patientPrep: PatientPreparation {
    prepInstructionsSent: Boolean @default(false)
    fastingRequired: Boolean @default(false)
    fastingHours: Integer
    contrastConsent: Boolean
    allergiesVerified: Boolean @default(false)
    renalFunctionChecked: Boolean @default(false)
    pregnancyStatus: Enum { not_pregnant, pregnant, unknown, n_a }
    patientArrived: Boolean @default(false)
    patientPrepped: Boolean @default(false)
  }
  
  // æ£€æŸ¥æ‰§è¡Œ
  execution: ImagingExecution {
    status: Enum { scheduled, checked_in, in_progress, completed, cancelled, no_show }
    actualStartTime: DateTime
    actualEndTime: DateTime
    imagesAcquired: Integer
    contrastAdministered: Boolean
    complications: List<String>
    technicianNotes: String
    imagesTransferredToPACS: Boolean
  }
  
  // æŠ¥å‘Š
  report: ImagingReport {
    reportId: String
    radiologist: Practitioner
    reportTime: DateTime
    impression: String
    findings: String
    criticalFindings: Boolean @default(false)
    notificationSent: Boolean @default(false)
  }
}
```

---

## 7. åº”ç”¨åœºæ™¯

### 7.1 é—¨è¯Šç®¡ç†

**é—¨è¯Šæµç¨‹ä¼˜åŒ–**ï¼š

- **æ™ºèƒ½åˆ†è¯Š**ï¼šæ ¹æ®ç—‡çŠ¶è‡ªåŠ¨åˆ†è¯Šåˆ°ç›¸åº”ç§‘å®¤
- **æ’é˜Ÿå«å·**ï¼šå®æ—¶å«å·ç³»ç»Ÿï¼Œæ”¯æŒå¤šæ¸ é“é€šçŸ¥
- **è¯Šå®¤åˆ†é…**ï¼šåŠ¨æ€åˆ†é…è¯Šå®¤ï¼Œæé«˜åˆ©ç”¨ç‡
- **æµé‡é¢„æµ‹**ï¼šåŸºäºå†å²æ•°æ®é¢„æµ‹é—¨è¯Šæµé‡

### 7.2 ä½é™¢ç®¡ç†

**ä½é™¢å…¨æµç¨‹ç®¡ç†**ï¼š

- **å…¥é™¢ç®¡ç†**ï¼šå…¥é™¢è¯„ä¼°ã€åºŠä½åˆ†é…ã€å…¥é™¢å®£æ•™
- **åœ¨é™¢ç®¡ç†**ï¼šåŒ»å˜±æ‰§è¡Œã€æŠ¤ç†è®°å½•ã€è´¹ç”¨ç›‘æ§
- **å‡ºé™¢ç®¡ç†**ï¼šå‡ºé™¢è¯„ä¼°ã€å‡ºé™¢æŒ‡å¯¼ã€éšè®¿å®‰æ’
- **è½¬ç§‘è½¬é™¢**ï¼šè½¬ç§‘ç”³è¯·ã€è½¬é™¢åè°ƒã€èµ„æ–™è½¬ç§»

### 7.3 æ€¥è¯Šç®¡ç†

**æ€¥è¯Šç»¿è‰²é€šé“**ï¼š

- **é¢„æ£€åˆ†è¯Š**ï¼šäº”çº§åˆ†è¯Šï¼Œå±é‡ä¼˜å…ˆ
- **ç»¿è‰²é€šé“**ï¼šå¿ƒæ¢—ã€å’ä¸­ã€åˆ›ä¼¤å¿«é€Ÿé€šé“
- **æ€¥è¯Šç•™è§‚**ï¼šç•™è§‚ç—…æˆ¿ç®¡ç†ã€ç—…æƒ…ç›‘æµ‹
- **æ€¥è¯Šå…¥é™¢**ï¼šæ€¥è¯Šåˆ°ä½é™¢çš„å¿«é€Ÿè¡”æ¥

### 7.4 åŒ»ç–—èµ„æºä¼˜åŒ–

**èµ„æºä¼˜åŒ–ç­–ç•¥**ï¼š

- **åºŠä½åˆ©ç”¨ç‡**ï¼šå®æ—¶ç›‘æµ‹åºŠä½ä½¿ç”¨æƒ…å†µ
- **æ‰‹æœ¯å®¤æ•ˆç‡**ï¼šå‡å°‘éæ‰‹æœ¯æ—¶é—´ï¼Œæé«˜å‘¨è½¬
- **æ£€æŸ¥è®¾å¤‡åˆ©ç”¨ç‡**ï¼šé”™å³°é¢„çº¦ï¼Œå‡å°‘ç­‰å¾…
- **äººåŠ›èµ„æºä¼˜åŒ–**ï¼šæ™ºèƒ½æ’ç­ï¼Œå‡å°‘åŠ ç­

---

## 8. æ€ç»´å¯¼å›¾

```text
Hospital Management Schema
â”‚
â”œâ”€ HISç³»ç»Ÿæ¶æ„
â”‚   â”œâ”€ ç”¨æˆ·æ¥å…¥å±‚ (Web/ç§»åŠ¨/è‡ªåŠ©)
â”‚   â”œâ”€ APIç½‘å…³å±‚ (è®¤è¯/è·¯ç”±/é™æµ)
â”‚   â”œâ”€ å¾®æœåŠ¡å±‚ (æ‚£è€…/é¢„çº¦/æ’ç­/æ”¶è´¹)
â”‚   â”œâ”€ æ•°æ®å±‚ (ä¸»åº“/ç¼“å­˜/æ•°ä»“)
â”‚   â””â”€ é›†æˆå±‚ (HL7/FHIR/åŒ»ä¿)
â”‚
â”œâ”€ é¢„çº¦æŒ‚å·ç³»ç»Ÿ
â”‚   â”œâ”€ é¢„çº¦æµç¨‹ (é€‰æ‹©/ç¡®è®¤/æé†’)
â”‚   â”œâ”€ å·æºç®¡ç† (ç”Ÿæˆ/åˆ†é…/çŠ¶æ€)
â”‚   â””â”€ å–æ¶ˆæ”¹çº¦ (è§„åˆ™/é€€æ¬¾/é€šçŸ¥)
â”‚
â”œâ”€ æ’ç­ç®¡ç†ç³»ç»Ÿ
â”‚   â”œâ”€ æ’ç­æ¨¡å¼ (å›ºå®š/è½®ç­/å¼¹æ€§)
â”‚   â”œâ”€ ç­æ¬¡ç±»å‹ (é—¨è¯Š/æ€¥è¯Š/ç—…æˆ¿)
â”‚   â””â”€ è°ƒç­ç®¡ç† (ç”³è¯·/å®¡æ‰¹/æ‰§è¡Œ)
â”‚
â”œâ”€ èµ„æºè°ƒåº¦ç³»ç»Ÿ
â”‚   â”œâ”€ åºŠä½ç®¡ç† (åˆ†é…/çŠ¶æ€/å†å²)
â”‚   â”œâ”€ æ‰‹æœ¯å®¤è°ƒåº¦ (å®‰æ’/å›¢é˜Ÿ/æ‰§è¡Œ)
â”‚   â””â”€ æ£€æŸ¥è®¾å¤‡è°ƒåº¦ (é¢„çº¦/å‡†å¤‡/æŠ¥å‘Š)
â”‚
â””â”€ åº”ç”¨åœºæ™¯
    â”œâ”€ é—¨è¯Šç®¡ç†
    â”œâ”€ ä½é™¢ç®¡ç†
    â”œâ”€ æ€¥è¯Šç®¡ç†
    â””â”€ èµ„æºä¼˜åŒ–
```

---

**å‚è€ƒæ–‡æ¡£**ï¼š

- `../README.md` - ä¸»é¢˜æ¦‚è§ˆ
- `02_Formal_Definition.md` - å½¢å¼åŒ–å®šä¹‰
- `03_Standards.md` - æ ‡å‡†å¯¹æ ‡
- `04_Transformation.md` - è½¬æ¢ä½“ç³»

**åˆ›å»ºæ—¶é—´**ï¼š2025-02-15
**æœ€åæ›´æ–°**ï¼š2025-02-15
