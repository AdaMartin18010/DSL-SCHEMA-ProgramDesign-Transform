# HL7 Schema实践案例

## 📑 目录

- [HL7 Schema实践案例](#hl7-schema实践案例)
  - [📑 目录](#-目录)
  - [1. 案例概述](#1-案例概述)
  - [2. 案例1：HL7 ADT患者入院](#2-案例1hl7-adt患者入院)
    - [2.1 场景描述](#21-场景描述)
    - [2.2 Schema定义](#22-schema定义)
  - [3. 案例2：HL7 ORU观察结果](#3-案例2hl7-oru观察结果)
    - [3.1 场景描述](#31-场景描述)
    - [3.2 Schema定义](#32-schema定义)
  - [4. 案例3：HL7 ORM医嘱消息](#4-案例3hl7-orm医嘱消息)
    - [4.1 场景描述](#41-场景描述)
    - [4.2 Schema定义](#42-schema定义)
  - [5. 案例4：HL7到FHIR转换](#5-案例4hl7到fhir转换)
    - [5.1 场景描述](#51-场景描述)
    - [5.2 实现代码](#52-实现代码)
  - [6. 案例5：HL7数据存储系统](#6-案例5hl7数据存储系统)
    - [6.1 场景描述](#61-场景描述)
    - [6.2 实现代码](#62-实现代码)

---

## 1. 案例概述

本文档提供HL7 Schema在实际应用中的实践案例。

---

## 2. 案例1：HL7 ADT患者入院

### 2.1 场景描述

**应用场景**：
患者入院时，医院信息系统发送HL7 ADT^A01消息。

### 2.2 Schema定义

**HL7 ADT^A01消息Schema**：

```text
MSH|^~\\&|HIS|HOSPITAL|EHR|CLINIC|20250121103000||ADT^A01^ADT_A01|MSG001|P|2.5
EVN|A01|20250121103000|||OPERATOR001
PID|1||P1234567890||张^三||19800515|M|||北京市朝阳区XX街道XX号||13800138000||||||||||||||||||||||
PV1|1|I|WARD001^ROOM001^BED001|||DOCTOR001^李医生||||||||||||||||||||||||||||||||||||||||20250121103000
```

---

## 3. 案例2：HL7 ORU观察结果

### 3.1 场景描述

**应用场景**：
实验室系统发送HL7 ORU^R01消息，包含检验结果。

### 3.2 Schema定义

**HL7 ORU^R01消息Schema**：

```text
MSH|^~\\&|LAB|LABORATORY|HIS|HOSPITAL|20250121103000||ORU^R01^ORU_R01|MSG002|P|2.5
PID|1||P1234567890||张^三||19800515|M
OBR|1||LAB001|CBC^血常规^L||20250121103000|||||||||DOCTOR001^李医生|||||||F
OBX|1|NM|WBC^白细胞计数^L|1|6.5|10*3/uL|4.0-11.0|N|||F
OBX|2|NM|RBC^红细胞计数^L|1|4.5|10*6/uL|4.0-5.5|N|||F
OBX|3|NM|HGB^血红蛋白^L|1|140|g/L|120-160|N|||F
```

---

## 4. 案例3：HL7 ORM医嘱消息

### 4.1 场景描述

**应用场景**：
医生开具医嘱时，医院信息系统发送HL7 ORM^O01消息。

### 4.2 Schema定义

**HL7 ORM^O01消息Schema**：

```text
MSH|^~\\&|HIS|HOSPITAL|PHARMACY|PHARMACY|20250121103000||ORM^O01^ORM_O01|MSG003|P|2.5
PID|1||P1234567890||张^三||19800515|M
ORC|NW|ORD001||LAB001||||20250121103000|DOCTOR001^李医生||||HOSPITAL
OBR|1||ORD001|MED001^阿莫西林^L||20250121103000|||||||||DOCTOR001^李医生|||||||F
```

---

## 5. 案例4：HL7到FHIR转换

### 5.1 场景描述

**应用场景**：
将HL7 ADT消息转换为FHIR Patient资源，用于与FHIR系统集成。

### 5.2 实现代码

详见 `04_Transformation.md` 第2章。

---

## 6. 案例5：HL7数据存储系统

### 6.1 场景描述

**应用场景**：
使用PostgreSQL存储HL7消息数据，支持消息查询和分析。

### 6.2 实现代码

详见 `04_Transformation.md` 第6章。

---

**参考文档**：

- `01_Overview.md` - 概述
- `02_Formal_Definition.md` - 形式化定义
- `03_Standards.md` - 标准对标
- `04_Transformation.md` - 转换体系

**创建时间**：2025-01-21
**最后更新**：2025-01-21
