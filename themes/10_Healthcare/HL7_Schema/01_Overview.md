# HL7 Schema概述

## 📑 目录

- [HL7 Schema概述](#hl7-schema概述)
  - [📑 目录](#-目录)
  - [1. 核心结论](#1-核心结论)
    - [1.1 HL7 Schema定义](#11-hl7-schema定义)
    - [1.2 标准依据](#12-标准依据)
  - [2. 概念定义](#2-概念定义)
    - [2.1 HL7 Schema定义](#21-hl7-schema定义)
    - [2.2 核心特征](#22-核心特征)
    - [2.3 Schema分类](#23-schema分类)
  - [3. HL7消息类型Schema](#3-hl7消息类型schema)
    - [3.1 ADT消息Schema](#31-adt消息schema)
    - [3.2 ORU消息Schema](#32-oru消息schema)
    - [3.3 ORM消息Schema](#33-orm消息schema)
  - [4. 标准对标](#4-标准对标)
    - [4.1 HL7 v2标准](#41-hl7-v2标准)
    - [4.2 HL7 v3标准](#42-hl7-v3标准)
  - [5. 应用场景](#5-应用场景)
    - [5.1 医院信息系统](#51-医院信息系统)
    - [5.2 医疗信息交换](#52-医疗信息交换)
    - [5.3 实验室系统](#53-实验室系统)
    - [5.4 HL7数据存储与分析](#54-hl7数据存储与分析)
  - [6. 思维导图](#6-思维导图)

---

## 1. 核心结论

**HL7（健康信息交换标准）存在标准化的
消息Schema体系**。

### 1.1 HL7 Schema定义

```text
HL7_Schema = (Message_Type ⊕ Segment_Structure
             ⊕ Field_Definition ⊕ Encoding_Rules) × HL7_Profile
```

### 1.2 标准依据

- **HL7 v2**：健康信息交换标准（HL7 Version 2）
- **HL7 v3**：健康信息交换标准（HL7 Version 3）
- **HL7 CDA**：临床文档架构标准
- **ISO 13606**：电子健康记录通信标准

---

## 2. 概念定义

### 2.1 HL7 Schema定义

**HL7 Schema**是描述HL7消息格式和段结构
的形式化规范，包括ADT、ORU、ORM等消息类型。

### 2.2 核心特征

1. **标准化**：基于HL7 v2/v3标准
2. **消息格式**：固定分隔符或XML格式
3. **段结构**：MSH、PID、OBX等段定义
4. **可扩展**：支持自定义段和字段
5. **互操作性**：支持不同医疗系统间的数据交换

### 2.3 Schema分类

- **ADT消息Schema**：入院、出院、转院消息
- **ORU消息Schema**：观察结果消息
- **ORM消息Schema**：医嘱消息
- **MDM消息Schema**：医疗文档消息

---

## 3. HL7消息类型Schema

### 3.1 ADT消息Schema

**定义**：描述患者入院、出院、转院等事件。

**包含内容**：

- ADT^A01：患者入院
- ADT^A02：患者转院
- ADT^A03：患者出院
- ADT^A04：患者登记
- ADT^A08：患者信息更新

### 3.2 ORU消息Schema

**定义**：描述观察结果和实验室检查结果。

**包含内容**：

- ORU^R01：观察结果
- ORU^R02：查询响应
- ORU^R03：显示响应

### 3.3 ORM消息Schema

**定义**：描述医嘱和医疗程序。

**包含内容**：

- ORM^O01：医嘱消息
- ORM^O02：医嘱响应

---

## 4. 标准对标

### 4.1 HL7 v2标准

- **HL7 v2.9**：HL7版本2.9标准
- **消息格式**：固定分隔符格式
- **段结构**：MSH、PID、OBX等段

### 4.2 HL7 v3标准

- **HL7 v3.0**：HL7版本3.0标准
- **XML格式**：基于XML的消息格式
- **RIM模型**：参考信息模型

---

## 5. 应用场景

### 5.1 医院信息系统

- 患者信息管理
- 入院出院管理
- 转院管理

### 5.2 医疗信息交换

- 医院间数据交换
- 医生间信息共享
- 患者转诊信息传递

### 5.3 实验室系统

- 实验室检查结果
- 检验报告交换
- 结果查询

### 5.4 HL7数据存储与分析

**数据库存储应用场景**：

- **PostgreSQL HL7数据存储**：
  - HL7消息存储（ADT、ORU、ORM等）
  - 消息段存储（MSH、PID、OBX等）
  - 消息字段存储
  - 消息日志存储
  - 统计信息存储（消息类型统计、系统间交换统计）

**应用价值**：

- 高效存储大规模HL7消息数据
- 支持HL7消息查询和分析
- 提供HL7消息追踪和审计
- 支持HL7消息转换和映射

---

## 6. 思维导图

```text
HL7 Schema
│
├─ ADT消息
│   ├─ ADT^A01（入院）
│   ├─ ADT^A02（转院）
│   └─ ADT^A03（出院）
│
├─ ORU消息
│   ├─ ORU^R01（观察结果）
│   └─ ORU^R02（查询响应）
│
└─ ORM消息
    ├─ ORM^O01（医嘱）
    └─ ORM^O02（医嘱响应）
```

---

**参考文档**：

- `../README.md` - 主题概览
- `02_Formal_Definition.md` - 形式化定义
- `03_Standards.md` - 标准对标
- `04_Transformation.md` - 转换体系
- `05_Case_Studies.md` - 实践案例

**创建时间**：2025-01-21
**最后更新**：2025-01-21
