# WMS Schema åŠ¨æ€è¡Œä¸ºåˆ†æè§†å›¾

**ç‰ˆæœ¬**: v1.0
**åˆ›å»ºæ—¥æœŸ**: 2026-02-15
**æ ‡å‡†**: GS1, EDI X12/EDIFACT, ISO 9001

---

## ğŸ“‘ ç›®å½•

- [WMS Schema åŠ¨æ€è¡Œä¸ºåˆ†æè§†å›¾](#wms-schema-åŠ¨æ€è¡Œä¸ºåˆ†æè§†å›¾)
  - [ğŸ“‘ ç›®å½•](#-ç›®å½•)
  - [1. çŠ¶æ€æœºå½¢å¼åŒ–](#1-çŠ¶æ€æœºå½¢å¼åŒ–)
    - [1.1 å…¥åº“æµç¨‹çŠ¶æ€æœº](#11-å…¥åº“æµç¨‹çŠ¶æ€æœº)
    - [1.2 å‡ºåº“æµç¨‹çŠ¶æ€æœº](#12-å‡ºåº“æµç¨‹çŠ¶æ€æœº)
    - [1.3 åº“å­˜çŠ¶æ€æœº](#13-åº“å­˜çŠ¶æ€æœº)
    - [1.4 ä»»åŠ¡çŠ¶æ€æœº](#14-ä»»åŠ¡çŠ¶æ€æœº)
  - [2. æ—¶åºå›¾å½¢å¼åŒ–](#2-æ—¶åºå›¾å½¢å¼åŒ–)
    - [2.1 å…¥åº“æµç¨‹æ—¶åºå›¾](#21-å…¥åº“æµç¨‹æ—¶åºå›¾)
    - [2.2 å‡ºåº“æµç¨‹æ—¶åºå›¾](#22-å‡ºåº“æµç¨‹æ—¶åºå›¾)
  - [3. æ•°æ®æµåˆ†æ](#3-æ•°æ®æµåˆ†æ)
    - [3.1 åº“å­˜æ•°æ®æµåŠ¨](#31-åº“å­˜æ•°æ®æµåŠ¨)
    - [3.2 WMSä¸ERP/è‡ªåŠ¨åŒ–è®¾å¤‡é›†æˆ](#32-wmsä¸erpè‡ªåŠ¨åŒ–è®¾å¤‡é›†æˆ)
  - [4. å®æ—¶æ€§åˆ†æ](#4-å®æ—¶æ€§åˆ†æ)
    - [4.1 ä½œä¸šå“åº”æ—¶é—´](#41-ä½œä¸šå“åº”æ—¶é—´)
    - [4.2 æ‹£è´§æ•ˆç‡SLA](#42-æ‹£è´§æ•ˆç‡sla)
  - [5. å¼‚å¸¸å¤„ç†](#5-å¼‚å¸¸å¤„ç†)
    - [5.1 è¶…æ”¶/çŸ­æ”¶å¤„ç†](#51-è¶…æ”¶çŸ­æ”¶å¤„ç†)
    - [5.2 ç¼ºè´§å¤„ç†](#52-ç¼ºè´§å¤„ç†)
    - [5.3 æ‹£è´§é”™è¯¯å¤„ç†](#53-æ‹£è´§é”™è¯¯å¤„ç†)
  - [é™„å½•: çŠ¶æ€æœºå½¢å¼åŒ–å®šä¹‰](#é™„å½•-çŠ¶æ€æœºå½¢å¼åŒ–å®šä¹‰)
    - [A.1 å…¥åº“æµç¨‹çŠ¶æ€æœºå½¢å¼åŒ–](#a1-å…¥åº“æµç¨‹çŠ¶æ€æœºå½¢å¼åŒ–)
    - [A.2 å‡ºåº“æµç¨‹çŠ¶æ€æœºå½¢å¼åŒ–](#a2-å‡ºåº“æµç¨‹çŠ¶æ€æœºå½¢å¼åŒ–)

---

## 1. çŠ¶æ€æœºå½¢å¼åŒ–

### 1.1 å…¥åº“æµç¨‹çŠ¶æ€æœº

```mermaid
stateDiagram-v2
    [*] --> Draft : åˆ›å»ºASN
    Draft --> Sent : å‘é€ASN
    Sent --> Acknowledged : ä¾›åº”å•†ç¡®è®¤
    Acknowledged --> In_Transit : å‘è´§
    In_Transit --> Arrived : åˆ°è¾¾ä»“åº“
    Arrived --> Receiving : å¼€å§‹æ”¶è´§
    Receiving --> Quality_Check : æäº¤è´¨æ£€
    Quality_Check --> Putaway : è´¨æ£€é€šè¿‡
    Quality_Check --> Rejected : è´¨æ£€å¤±è´¥
    Putaway --> Completed : ä¸Šæ¶å®Œæˆ
    Rejected --> Return : é€€è´§å¤„ç†
    Return --> [*]
    Completed --> [*]

    note right of Draft
        ASNè‰ç¨¿çŠ¶æ€
        å¯ç¼–è¾‘ä¿®æ”¹
    end note

    note right of Receiving
        æ”¶è´§ä¸­çŠ¶æ€
        æ”¯æŒéƒ¨åˆ†æ”¶è´§
    end note

    note right of Quality_Check
        è´¨æ£€çŠ¶æ€
        Pass/Fail/Partial
    end note
```

**çŠ¶æ€è½¬æ¢è¡¨**:

| å½“å‰çŠ¶æ€ | äº‹ä»¶ | ä¸‹ä¸€çŠ¶æ€ | æ¡ä»¶/åŠ¨ä½œ |
|---------|------|---------|----------|
| Draft | send_asn | Sent | ASNä¿¡æ¯å®Œæ•´ |
| Sent | acknowledge | Acknowledged | ä¾›åº”å•†ç¡®è®¤ |
| Acknowledged | ship | In_Transit | è´§ç‰©å‘å‡º |
| In_Transit | arrive | Arrived | è½¦è¾†åˆ°è¾¾ |
| Arrived | start_receive | Receiving | åˆ†é…æœˆå° |
| Receiving | submit_qc | Quality_Check | æ”¶è´§å®Œæˆ |
| Quality_Check | pass | Putaway | è´¨æ£€é€šè¿‡ |
| Quality_Check | fail | Rejected | è´¨æ£€å¤±è´¥ |
| Putaway | complete | Completed | ä¸Šæ¶ç¡®è®¤ |
| Rejected | process_return | Return | å‘èµ·é€€è´§ |

### 1.2 å‡ºåº“æµç¨‹çŠ¶æ€æœº

```mermaid
stateDiagram-v2
    [*] --> Planning : è®¢å•æ¥æ”¶
    Planning --> Ready : æ³¢æ¬¡è®¡åˆ’å®Œæˆ
    Ready --> Released : é‡Šæ”¾æ³¢æ¬¡
    Released --> Picking : å¼€å§‹æ‹£è´§
    Picking --> Packing : æ‹£è´§å®Œæˆ
    Picking --> Short_Pick : çŸ­æ‹£
    Short_Pick --> Picking : è¡¥æ‹£
    Packing --> Staged : è£…ç®±å®Œæˆ
    Staged --> Loaded : è£…è½¦å®Œæˆ
    Loaded --> In_Transit : å‘è¿
    In_Transit --> Delivered : ç­¾æ”¶
    Delivered --> Completed : å®Œæˆ
    Completed --> [*]

    state Picking {
        [*] --> Assigned
        Assigned --> In_Progress
        In_Progress --> Paused
        Paused --> In_Progress
        In_Progress --> Completed
        Completed --> [*]
    }
```

**çŠ¶æ€è½¬æ¢è¡¨**:

| å½“å‰çŠ¶æ€ | äº‹ä»¶ | ä¸‹ä¸€çŠ¶æ€ | æ¡ä»¶/åŠ¨ä½œ |
|---------|------|---------|----------|
| Planning | plan_complete | Ready | æ³¢æ¬¡è®¡åˆ’å®Œæˆ |
| Ready | release | Released | åº“å­˜å……è¶³ |
| Released | start_pick | Picking | åˆ†é…æ‹£è´§ä»»åŠ¡ |
| Picking | pick_complete | Packing | å…¨éƒ¨æ‹£å®Œ |
| Picking | short_pick | Short_Pick | åº“å­˜ä¸è¶³ |
| Short_Pick | replenish | Picking | è¡¥è´§å®Œæˆ |
| Packing | pack_complete | Staged | è£…ç®±å¤æ ¸ |
| Staged | load | Loaded | è£…è½¦ç¡®è®¤ |
| Loaded | ship | In_Transit | å‘è¿å‡ºåº“ |
| In_Transit | deliver | Delivered | å®¢æˆ·ç­¾æ”¶ |
| Delivered | confirm | Completed | å›å•ç¡®è®¤ |

### 1.3 åº“å­˜çŠ¶æ€æœº

```mermaid
stateDiagram-v2
    [*] --> In_Transit : é‡‡è´­åœ¨é€”
    [*] --> On_Hand : å…¥åº“ä¸Šæ¶
    In_Transit --> On_Hand : æ”¶è´§ä¸Šæ¶
    On_Hand --> Available : è´¨æ£€åˆæ ¼
    On_Hand --> Quarantine : å¾…è´¨æ£€
    Quarantine --> Available : è´¨æ£€é€šè¿‡
    Quarantine --> Blocked : è´¨æ£€å¤±è´¥
    Available --> Allocated : è®¢å•åˆ†é…
    Allocated --> Picked : æ‹£è´§ç¡®è®¤
    Picked --> Shipped : å‘è¿å‡ºåº“
    Available --> Frozen : å†»ç»“(ç›˜ç‚¹/è°ƒæ•´)
    Frozen --> Available : è§£å†»
    Blocked --> Return : é€€è´§å¤„ç†
    Return --> [*]
    Shipped --> [*]

    note right of Available
        å¯ç”¨åº“å­˜
        å¯åˆ†é…å¯æ‹£è´§
    end note

    note right of Allocated
        å·²åˆ†é…
        é”å®šç»™ç‰¹å®šè®¢å•
    end note
```

**åº“å­˜çŠ¶æ€è½¬æ¢çŸ©é˜µ**:

```
                äº‹ä»¶
çŠ¶æ€           æ”¶è´§    è´¨æ£€é€šè¿‡  åˆ†é…    æ‹£è´§    å‘è¿    å†»ç»“    è§£å†»    é€€è´§
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
In_Transit     â†’On_Hand   -       -       -       -       -       -       -
On_Hand           -    â†’Avail    -       -       -    â†’Frozen    -       -
Quarantine        -    â†’Avail    -       -       -       -       -    â†’Blocked
Available         -       -    â†’Alloc   -       -    â†’Frozen    -       -
Allocated         -       -       -    â†’Picked   -    â†’Frozen    -       -
Picked            -       -       -       -    â†’Shipped   -       -       -
Frozen            -       -       -       -       -       -    â†’Avail    -
Blocked           -       -       -       -       -       -       -    â†’Return
```

### 1.4 ä»»åŠ¡çŠ¶æ€æœº

```mermaid
stateDiagram-v2
    [*] --> Pending : åˆ›å»ºä»»åŠ¡
    Pending --> Assigned : åˆ†é…äººå‘˜
    Assigned --> In_Progress : å¼€å§‹æ‰§è¡Œ
    In_Progress --> Paused : æš‚åœ
    Paused --> In_Progress : æ¢å¤
    In_Progress --> Exception : å¼‚å¸¸
    Exception --> In_Progress : å¼‚å¸¸å¤„ç†
    Exception --> Cancelled : å–æ¶ˆ
    In_Progress --> Completed : å®Œæˆ
    Pending --> Cancelled : å–æ¶ˆ
    Assigned --> Cancelled : å–æ¶ˆ
    Completed --> [*]
    Cancelled --> [*]
```

**ä»»åŠ¡ç±»å‹ä¸çŠ¶æ€**:

| ä»»åŠ¡ç±»å‹ | åˆå§‹çŠ¶æ€ | ç»ˆæ€ | å¼‚å¸¸å¤„ç† |
|---------|---------|------|---------|
| æ”¶è´§ä»»åŠ¡ | Pending | Completed | è¶…æ”¶/çŸ­æ”¶/è´¨æ£€å¼‚å¸¸ |
| ä¸Šæ¶ä»»åŠ¡ | Pending | Completed | åº“ä½å·²æ»¡/SKUä¸ç¬¦ |
| æ‹£è´§ä»»åŠ¡ | Pending | Completed | ç¼ºè´§/è´§æŸ/åº“ä½ç©º |
| è¡¥è´§ä»»åŠ¡ | Pending | Completed | æºåº“ä½ç¼ºè´§ |
| ç›˜ç‚¹ä»»åŠ¡ | Pending | Completed | å·®å¼‚è¿‡å¤§ |
| ç§»åº“ä»»åŠ¡ | Pending | Completed | ç›®æ ‡åº“ä½ä¸å¯ç”¨ |

---

## 2. æ—¶åºå›¾å½¢å¼åŒ–

### 2.1 å…¥åº“æµç¨‹æ—¶åºå›¾

```mermaid
sequenceDiagram
    autonumber
    participant ERP as ERPç³»ç»Ÿ
    participant WMS as WMSç³»ç»Ÿ
    participant ASN as ASNç®¡ç†
    participant RC as æ”¶è´§æ¨¡å—
    participant QC as è´¨æ£€æ¨¡å—
    participant PA as ä¸Šæ¶æ¨¡å—
    participant INV as åº“å­˜æ¨¡å—
    participant Auto as è‡ªåŠ¨åŒ–è®¾å¤‡

    rect rgb(230, 245, 255)
        Note over ERP,Auto: ASNåˆ›å»ºä¸ç¡®è®¤é˜¶æ®µ
        ERP->>WMS: å‘é€é‡‡è´­è®¢å•(PO)
        WMS->>ASN: åˆ›å»ºASNé¢„å‘Š
        ASN->>ERP: ASNç¡®è®¤å›æ‰§
        ERP->>ASN: ä¾›åº”å•†å‘è´§é€šçŸ¥
        ASN->>WMS: æ›´æ–°ASNçŠ¶æ€ä¸ºåœ¨é€”
    end

    rect rgb(255, 245, 230)
        Note over ERP,Auto: æ”¶è´§é˜¶æ®µ
        Auto->>WMS: è½¦è¾†åˆ°è¾¾é€šçŸ¥
        WMS->>ASN: åˆ†é…æœˆå°/å¸è´§é—¨
        WMS->>RC: åˆ›å»ºæ”¶è´§ä»»åŠ¡
        RC->>Auto: è°ƒåº¦AGV/å‰è½¦
        Auto->>RC: å¸è´§å®Œæˆåé¦ˆ
        RC->>RC: æ‰«æSKU/æ‰¹æ¬¡/æ•°é‡
        RC->>ASN: æ”¶è´§ç¡®è®¤(æ•°é‡)
        alt è¶…æ”¶æƒ…å†µ
            RC->>WMS: è¶…æ”¶å¼‚å¸¸å‘Šè­¦
            WMS->>ERP: ç”³è¯·è¶…æ”¶å®¡æ‰¹
            ERP-->>WMS: å®¡æ‰¹ç»“æœ
        else çŸ­æ”¶æƒ…å†µ
            RC->>WMS: çŸ­æ”¶è®°å½•
            WMS->>ERP: çŸ­æ”¶é€šçŸ¥
        end
    end

    rect rgb(230, 255, 230)
        Note over ERP,Auto: è´¨æ£€é˜¶æ®µ
        RC->>QC: æäº¤è´¨æ£€è¯·æ±‚
        QC->>QC: æŒ‰è´¨æ£€è§„åˆ™æŠ½æ ·
        alt å…¨æ£€
            QC->>Auto: é€æ£€æŒ‡ä»¤
            Auto->>QC: é€æ£€å®Œæˆ
        else æŠ½æ£€
            QC->>QC: æŒ‰æ¯”ä¾‹æŠ½æ ·
        end
        QC->>QC: è´¨æ£€åˆ¤å®š
        alt è´¨æ£€é€šè¿‡
            QC->>PA: è§¦å‘ä¸Šæ¶ä»»åŠ¡
        else è´¨æ£€å¤±è´¥
            QC->>WMS: éš”ç¦»/é€€è´§æ ‡è®°
            WMS->>ERP: è´¨æ£€å¼‚å¸¸é€šçŸ¥
        end
    end

    rect rgb(255, 230, 245)
        Note over ERP,Auto: ä¸Šæ¶é˜¶æ®µ
        QC->>PA: è´¨æ£€é€šè¿‡é€šçŸ¥
        PA->>PA: åº“ä½æ¨èç®—æ³•
        PA->>Auto: ä¸Šæ¶æŒ‡ä»¤(ç›®æ ‡åº“ä½)
        Auto->>PA: ä¸Šæ¶æ‰§è¡Œåé¦ˆ
        PA->>INV: åº“å­˜æ›´æ–°
        INV->>WMS: åº“å­˜çŠ¶æ€å˜æ›´
        WMS->>ERP: å…¥åº“å®Œæˆå›ä¼ 
    end
```

**æ—¶åºè¯´æ˜**:

| æ­¥éª¤ | æ“ä½œ | ç³»ç»Ÿ/æ¨¡å— | å…³é”®æ•°æ® |
|-----|------|----------|---------|
| 1 | å‘é€PO | ERP | POå·ã€ä¾›åº”å•†ã€SKUã€æ•°é‡ |
| 2 | åˆ›å»ºASN | WMS | ASNå·ã€é¢„è®¡åˆ°è¾¾æ—¶é—´ |
| 6 | è½¦è¾†åˆ°è¾¾ | è‡ªåŠ¨åŒ–è®¾å¤‡ | è½¦ç‰Œã€å¸æœºä¿¡æ¯ |
| 9 | å¸è´§æ‰«æ | æ”¶è´§æ¨¡å— | SKUã€æ‰¹æ¬¡ã€æ•°é‡ã€LPN |
| 13 | è¶…æ”¶/çŸ­æ”¶å¤„ç† | å¼‚å¸¸å¤„ç† | å·®å¼‚æ•°é‡ã€åŸå›  |
| 19 | è´¨æ£€åˆ¤å®š | è´¨æ£€æ¨¡å— | åˆæ ¼æ•°ã€ä¸åˆæ ¼æ•° |
| 25 | åº“ä½æ¨è | ä¸Šæ¶æ¨¡å— | æ¨èåº“ä½ã€è·ç¦»ã€å®¹é‡ |
| 27 | åº“å­˜æ›´æ–° | åº“å­˜æ¨¡å— | åº“ä½ã€æ•°é‡ã€çŠ¶æ€ |

### 2.2 å‡ºåº“æµç¨‹æ—¶åºå›¾

```mermaid
sequenceDiagram
    autonumber
    participant OMS as è®¢å•ç³»ç»Ÿ
    participant WMS as WMSç³»ç»Ÿ
    participant WV as æ³¢æ¬¡ç®¡ç†
    participant PK as æ‹£è´§æ¨¡å—
    participant PACK as åŒ…è£…æ¨¡å—
    participant SHIP as å‘è¿æ¨¡å—
    participant INV as åº“å­˜æ¨¡å—
    participant Auto as è‡ªåŠ¨åŒ–è®¾å¤‡

    rect rgb(230, 245, 255)
        Note over OMS,Auto: è®¢å•ä¸æ³¢æ¬¡é˜¶æ®µ
        OMS->>WMS: æ¨é€é”€å”®è®¢å•(SO)
        WMS->>INV: åº“å­˜å¯ç”¨æ€§æ£€æŸ¥
        INV-->>WMS: åº“å­˜çŠ¶æ€åé¦ˆ
        WMS->>WV: æ³¢æ¬¡è®¡åˆ’
        WV->>WV: è®¢å•èšç±»/è·¯å¾„ä¼˜åŒ–
        WV->>PK: ç”Ÿæˆæ‹£è´§ä»»åŠ¡
        PK->>WMS: åˆ†é…æ‹£è´§äººå‘˜
    end

    rect rgb(255, 245, 230)
        Note over OMS,Auto: æ‹£è´§é˜¶æ®µ
        WMS->>PK: é‡Šæ”¾æ‹£è´§ä»»åŠ¡
        PK->>Auto: æ‹£è´§æŒ‡ä»¤(åº“ä½+æ•°é‡)
        Auto->>PK: åˆ°è¾¾æ‹£è´§ä½
        PK->>INV: åº“å­˜é¢„å (Allocated)
        alt æ­£å¸¸æ‹£è´§
            PK->>PK: æ‰«æSKU/æ‰¹æ¬¡ç¡®è®¤
            PK->>INV: æ‰£å‡åº“å­˜(Picked)
        else ç¼ºè´§å¼‚å¸¸
            PK->>WMS: ç¼ºè´§å‘Šè­¦
            WMS->>INV: åº“å­˜æ ¡éªŒ
            INV-->>WMS: å®é™…åº“å­˜
            WMS->>PK: è¡¥æ‹£æŒ‡ä»¤/çŸ­æ‹£
        else æ‹£è´§é”™è¯¯
            PK->>WMS: è´§ä¸å¯¹æ¿å‘Šè­¦
            WMS->>INV: åº“å­˜å†»ç»“è°ƒæŸ¥
        end
        PK->>Auto: é€è‡³é›†è´§åŒº
    end

    rect rgb(230, 255, 230)
        Note over OMS,Auto: å¤æ ¸åŒ…è£…é˜¶æ®µ
        PK->>PACK: æ‹£è´§å®Œæˆäº¤æ¥
        PACK->>PACK: è®¢å•å¤æ ¸
        alt å¤æ ¸é€šè¿‡
            PACK->>PACK: é€‰æ‹©åŒ…è£…ææ–™
            PACK->>Auto: ç§°é‡/ä½“ç§¯æµ‹é‡
            PACK->>SHIP: ç”Ÿæˆç®±å·/è¿å•
        else å¤æ ¸å¼‚å¸¸
            PACK->>WMS: å·®å¼‚æŠ¥å‘Š
            WMS->>PK: é‡æ–°æ‹£è´§
        end
    end

    rect rgb(255, 230, 245)
        Note over OMS,Auto: å‘è¿é˜¶æ®µ
        PACK->>SHIP: åŒ…è£…å®Œæˆ
        SHIP->>SHIP: è£…è½¦è®¡åˆ’
        SHIP->>Auto: è£…è½¦æŒ‡ä»¤
        Auto->>SHIP: è£…è½¦ç¡®è®¤
        SHIP->>INV: åº“å­˜æ‰£å‡(Shipped)
        SHIP->>WMS: å‘è¿å›æ‰§
        WMS->>OMS: å‡ºåº“å®Œæˆé€šçŸ¥
        SHIP->>OMS: ç‰©æµè·Ÿè¸ªå·
    end
```

**æ—¶åºè¯´æ˜**:

| æ­¥éª¤ | æ“ä½œ | ç³»ç»Ÿ/æ¨¡å— | å…³é”®æ•°æ® |
|-----|------|----------|---------|
| 1 | æ¨é€è®¢å• | OMS | SOå·ã€å®¢æˆ·ã€SKUã€æ•°é‡ |
| 4 | æ³¢æ¬¡è®¡åˆ’ | æ³¢æ¬¡ç®¡ç† | æ³¢æ¬¡å·ã€è®¢å•åˆ—è¡¨ã€ä¼˜å…ˆçº§ |
| 8 | åº“å­˜é¢„å  | åº“å­˜æ¨¡å— | åˆ†é…åº“ä½ã€æ•°é‡ |
| 11 | ç¼ºè´§å¤„ç† | å¼‚å¸¸å¤„ç† | ç¼ºè´§SKUã€å»ºè®®æ›¿ä»£ |
| 13 | æ‹£è´§é”™è¯¯ | å¼‚å¸¸å¤„ç† | æ‰«æSKUã€ç³»ç»ŸSKU |
| 17 | è®¢å•å¤æ ¸ | åŒ…è£…æ¨¡å— | è®¢å•æ˜ç»†ã€å®ç‰©æ ¸å¯¹ |
| 23 | è£…è½¦ç¡®è®¤ | å‘è¿æ¨¡å— | è½¦è¾†ã€å¸æœºã€è·¯çº¿ |
| 25 | ç‰©æµè·Ÿè¸ªå· | å‘è¿æ¨¡å— | æ‰¿è¿å•†ã€è¿å•å·ã€ETA |

---

## 3. æ•°æ®æµåˆ†æ

### 3.1 åº“å­˜æ•°æ®æµåŠ¨

```mermaid
flowchart TB
    subgraph æ•°æ®æºå±‚["ğŸ“¥ æ•°æ®æºå±‚"]
        PO[("é‡‡è´­è®¢å•")]
        SO[("é”€å”®è®¢å•")]
        ADJ[("åº“å­˜è°ƒæ•´")]
        CC[("ç›˜ç‚¹æ•°æ®")]
    end

    subgraph å¤„ç†å±‚["âš™ï¸ WMSå¤„ç†å±‚"]
        INV_CALC["åº“å­˜è®¡ç®—å¼•æ“"]
        ALLOC["åˆ†é…å¼•æ“"]
        MOVE["ç§»åº“å¼•æ“"]
    end

    subgraph åº“å­˜çŠ¶æ€å±‚["ğŸ“Š åº“å­˜çŠ¶æ€å±‚"]
        ON_HAND["ç°æœ‰åº“å­˜<br/>On Hand"]
        AVAIL["å¯ç”¨åº“å­˜<br/>Available"]
        ALLOCATED["å·²åˆ†é…<br/>Allocated"]
        PICKED["å·²æ‹£è´§<br/>Picked"]
        IN_TRANSIT["åœ¨é€”<br/>In Transit"]
    end

    subgraph åŒæ­¥å±‚["ğŸ”„ åŒæ­¥å±‚"]
        ERP_SYNC["ERPåŒæ­¥"]
        OMS_SYNC["OMSåŒæ­¥"]
        AUTO_SYNC["è‡ªåŠ¨åŒ–è®¾å¤‡åŒæ­¥"]
    end

    PO -->|å…¥åº“| INV_CALC
    SO -->|å‡ºåº“| ALLOC
    ADJ -->|è°ƒæ•´| INV_CALC
    CC -->|ç›˜ç‚¹å·®å¼‚| INV_CALC

    INV_CALC --> ON_HAND
    ON_HAND --> AVAIL
    ON_HAND --> IN_TRANSIT
    AVAIL --> ALLOC
    ALLOC --> ALLOCATED
    ALLOCATED --> PICKED
    MOVE --> ON_HAND

    ON_HAND --> ERP_SYNC
    AVAIL --> OMS_SYNC
    PICKED --> AUTO_SYNC
```

**åº“å­˜æ•°æ®æµè¯´æ˜**:

| æ•°æ®æµ | æ¥æº | ç›®æ ‡ | é¢‘ç‡ | æ•°æ®é‡ |
|-------|------|------|------|--------|
| å…¥åº“æ•°æ®æµ | æ”¶è´§æ¨¡å— | åº“å­˜ä¸­å¿ƒ | å®æ—¶ | å•æ¡/æ‰¹æ¬¡ |
| å‡ºåº“æ•°æ®æµ | æ‹£è´§æ¨¡å— | åº“å­˜ä¸­å¿ƒ | å®æ—¶ | å•æ¡/æ‰¹æ¬¡ |
| è°ƒæ•´æ•°æ®æµ | ç›˜ç‚¹/å¼‚å¸¸ | åº“å­˜ä¸­å¿ƒ | æŒ‰éœ€ | å•æ¡ |
| åŒæ­¥æ•°æ®æµ | åº“å­˜ä¸­å¿ƒ | ERP/OMS | å‡†å®æ—¶(5åˆ†é’Ÿ) | æ‰¹é‡ |
| é¢„å æ•°æ®æµ | è®¢å•åˆ†é… | åº“å­˜ä¸­å¿ƒ | å®æ—¶ | å•æ¡ |

**åº“å­˜è®¡ç®—å…¬å¼**:

```
On_Hand = ç‰©ç†åº“å­˜æ•°é‡
Available = On_Hand - Allocated - Picked - Reserved
Allocated = Î£(è®¢å•åˆ†é…æ•°é‡)
Picked = Î£(å·²æ‹£è´§æœªå‘è¿)
Reserved = å®‰å…¨åº“å­˜ + å†»ç»“åº“å­˜
```

### 3.2 WMSä¸ERP/è‡ªåŠ¨åŒ–è®¾å¤‡é›†æˆ

```mermaid
flowchart LR
    subgraph ERP["ğŸ¢ ERPç³»ç»Ÿ"]
        ERP_PO["é‡‡è´­æ¨¡å—"]
        ERP_SO["é”€å”®æ¨¡å—"]
        ERP_INV["åº“å­˜æ¨¡å—"]
        ERP_FIN["è´¢åŠ¡æ¨¡å—"]
    end

    subgraph WMS["ğŸ“¦ WMSæ ¸å¿ƒ"]
        API["APIç½‘å…³"]
        MSG["æ¶ˆæ¯é˜Ÿåˆ—"]
        SYNC["åŒæ­¥å¼•æ“"]
    end

    subgraph AUTO["ğŸ¤– è‡ªåŠ¨åŒ–è®¾å¤‡"]
        AGV["AGVè°ƒåº¦"]
        ASRS["ç«‹ä½“åº“"]
        CONV["è¾“é€çº¿"]
        PTL["ç”µå­æ ‡ç­¾"]
        RFID["RFIDé€šé“"]
    end

    subgraph IOT["ğŸ“¡ IoTè®¾å¤‡"]
        SCALE["ç§°é‡è®¾å¤‡"]
        SCAN["æ‰«æè®¾å¤‡"]
        DISP["æ˜¾ç¤ºå±"]
    end

    ERP_PO -->|ASN/PO| API
    ERP_SO -->|è®¢å•/å‡ºåº“æŒ‡ä»¤| API
    API -->|åº“å­˜å›ä¼ | ERP_INV
    API -->|æˆæœ¬æ•°æ®| ERP_FIN

    API --> MSG
    MSG --> SYNC

    SYNC --> AGV
    SYNC --> ASRS
    SYNC --> CONV
    SYNC --> PTL

    AGV -->|ä»»åŠ¡å®Œæˆ| MSG
    ASRS -->|åº“å­˜å˜åŠ¨| MSG
    RFID -->|é€šè¿‡è®°å½•| MSG

    SCAN -->|æ¡ç æ•°æ®| API
    SCALE -->|é‡é‡æ•°æ®| API
    DISP -->|æŒ‡ä»¤æ˜¾ç¤º| SYNC
```

**é›†æˆæ¥å£çŸ©é˜µ**:

| æ¥å£æ–¹å‘ | æ¥å£åç§° | åè®® | é¢‘ç‡ | å…³é”®å­—æ®µ |
|---------|---------|------|------|---------|
| ERPâ†’WMS | é‡‡è´­è®¢å•æ¥å£ | REST/JSON | å®æ—¶ | POå·ã€SKUã€æ•°é‡ã€ä¾›åº”å•† |
| ERPâ†’WMS | é”€å”®è®¢å•æ¥å£ | REST/JSON | å®æ—¶ | SOå·ã€å®¢æˆ·ã€SKUã€æ•°é‡ |
| WMSâ†’ERP | å…¥åº“å›ä¼ æ¥å£ | REST/JSON | å‡†å®æ—¶ | ASNå·ã€å®æ”¶æ•°é‡ã€å·®å¼‚ |
| WMSâ†’ERP | å‡ºåº“å›ä¼ æ¥å£ | REST/JSON | å‡†å®æ—¶ | SOå·ã€å®å‘æ•°é‡ã€è¿å•å· |
| WMSâ†’ERP | åº“å­˜åŒæ­¥æ¥å£ | REST/JSON | å®šæ—¶(5min) | SKUã€åº“ä½ã€æ•°é‡ã€çŠ¶æ€ |
| WMSâ†’AGV | æ¬è¿ä»»åŠ¡æ¥å£ | TCP/ç§æœ‰ | å®æ—¶ | ä»»åŠ¡IDã€èµ·ç‚¹ã€ç»ˆç‚¹ã€ä¼˜å…ˆçº§ |
| AGVâ†’WMS | ä»»åŠ¡åé¦ˆæ¥å£ | TCP/ç§æœ‰ | å®æ—¶ | ä»»åŠ¡IDã€çŠ¶æ€ã€ä½ç½® |
| WMSâ†’ASRS | å­˜å–æŒ‡ä»¤æ¥å£ | OPC/ç§æœ‰ | å®æ—¶ | æŒ‡ä»¤ç±»å‹ã€åº“ä½ã€æ‰˜ç›˜å· |
| ASRSâ†’WMS | åº“å­˜åé¦ˆæ¥å£ | OPC/ç§æœ‰ | å®æ—¶ | åº“ä½ã€æ‰˜ç›˜å·ã€æ•°é‡ |
| RFIDâ†’WMS | é€šè¿‡äº‹ä»¶æ¥å£ | MQTT | å®æ—¶ | æ ‡ç­¾IDã€æ–¹å‘ã€æ—¶é—´ |

---

## 4. å®æ—¶æ€§åˆ†æ

### 4.1 ä½œä¸šå“åº”æ—¶é—´

```mermaid
graph LR
    subgraph å…³é”®ä½œä¸š["â±ï¸ å…³é”®ä½œä¸šå“åº”æ—¶é—´è¦æ±‚"]
        direction TB
        A[æ”¶è´§ä½œä¸š<br/>â‰¤30ç§’] --> B[è´¨æ£€åˆ¤å®š<br/>â‰¤60ç§’]
        B --> C[ä¸Šæ¶æŒ‡ä»¤<br/>â‰¤10ç§’]
        C --> D[æ‹£è´§åˆ†é…<br/>â‰¤5ç§’]
        D --> E[åº“å­˜æŸ¥è¯¢<br/>â‰¤1ç§’]
        E --> F[å‘è¿ç¡®è®¤<br/>â‰¤15ç§’]
    end

    subgraph å“åº”åˆ†çº§["ğŸ“Š å“åº”æ—¶é—´åˆ†çº§"]
        direction TB
        L1["L1: â‰¤1ç§’<br/>åº“å­˜æŸ¥è¯¢/åº“ä½æŸ¥è¯¢"]
        L2["L2: 1-10ç§’<br/>ä»»åŠ¡åˆ†é…/ä¸Šæ¶æŒ‡ä»¤"]
        L3["L3: 10-60ç§’<br/>æ”¶è´§ç¡®è®¤/è´¨æ£€åˆ¤å®š"]
        L4["L4: 1-5åˆ†é’Ÿ<br/>æ³¢æ¬¡è®¡åˆ’/è·¯å¾„ä¼˜åŒ–"]
    end
```

**ä½œä¸šå“åº”æ—¶é—´SLA**:

| ä½œä¸šç±»å‹ | å¹³å‡å“åº”æ—¶é—´ | æœ€å¤§å“åº”æ—¶é—´ | æµ‹é‡ç‚¹ |
|---------|-------------|-------------|--------|
| åº“å­˜å®æ—¶æŸ¥è¯¢ | â‰¤500ms | â‰¤1s | æŸ¥è¯¢è¯·æ±‚â†’ç»“æœè¿”å› |
| æ”¶è´§ä»»åŠ¡åˆ›å»º | â‰¤5s | â‰¤10s | ASNç¡®è®¤â†’ä»»åŠ¡ç”Ÿæˆ |
| æ”¶è´§æ‰«æç¡®è®¤ | â‰¤2s | â‰¤5s | æ‰«æâ†’ç³»ç»Ÿåé¦ˆ |
| è´¨æ£€ç»“æœå½•å…¥ | â‰¤3s | â‰¤8s | æäº¤â†’çŠ¶æ€æ›´æ–° |
| ä¸Šæ¶åº“ä½æ¨è | â‰¤3s | â‰¤10s | è¯·æ±‚â†’æ¨èåˆ—è¡¨ |
| ä¸Šæ¶ä»»åŠ¡ç¡®è®¤ | â‰¤2s | â‰¤5s | ç¡®è®¤â†’åº“å­˜æ›´æ–° |
| æ³¢æ¬¡è®¡åˆ’ç”Ÿæˆ | â‰¤30s | â‰¤2min | è§¦å‘â†’è®¡åˆ’å®Œæˆ |
| æ‹£è´§ä»»åŠ¡åˆ†é… | â‰¤5s | â‰¤15s | æ³¢æ¬¡é‡Šæ”¾â†’ä»»åŠ¡å°±ç»ª |
| æ‹£è´§æ‰«æç¡®è®¤ | â‰¤1s | â‰¤3s | æ‰«æâ†’åº“ä½äº®ç¯ |
| å‘è¿è£…è½¦ç¡®è®¤ | â‰¤10s | â‰¤30s | æ‰«æâ†’çŠ¶æ€æ›´æ–° |

**å“åº”æ—¶é—´ç›‘æ§æŒ‡æ ‡**:

```yaml
ç›‘æ§æŒ‡æ ‡:
  - æŒ‡æ ‡å: inventory_query_p99
    æè¿°: åº“å­˜æŸ¥è¯¢P99å“åº”æ—¶é—´
    é˜ˆå€¼: < 1s
    å‘Šè­¦: > 1.5s

  - æŒ‡æ ‡å: receipt_task_create_avg
    æè¿°: æ”¶è´§ä»»åŠ¡åˆ›å»ºå¹³å‡æ—¶é—´
    é˜ˆå€¼: < 5s
    å‘Šè­¦: > 10s

  - æŒ‡æ ‡å: pick_scan_response_p95
    æè¿°: æ‹£è´§æ‰«æP95å“åº”æ—¶é—´
    é˜ˆå€¼: < 2s
    å‘Šè­¦: > 5s

  - æŒ‡æ ‡å: wave_plan_duration
    æè¿°: æ³¢æ¬¡è®¡åˆ’è€—æ—¶
    é˜ˆå€¼: < 60s
    å‘Šè­¦: > 120s
```

### 4.2 æ‹£è´§æ•ˆç‡SLA

```mermaid
graph TB
    subgraph æ•ˆç‡æŒ‡æ ‡["ğŸ“ˆ æ‹£è´§æ•ˆç‡æŒ‡æ ‡"]
        direction LR
        LPH["æ¯å°æ—¶è¡Œæ•°<br/>Lines Per Hour"]
        UPH["æ¯å°æ—¶ä»¶æ•°<br/>Units Per Hour"]
        ACC["å‡†ç¡®ç‡<br/>Accuracy"]
        OTIF["å‡†æ—¶å®Œæˆç‡<br/>OTIF"]
    end

    subgraph å½±å“å› ç´ ["ğŸ”§ å½±å“å› ç´ "]
        DIST["è¡Œèµ°è·ç¦»"]
        CONF["ä½œä¸šå¤æ‚åº¦"]
        TOOL["å·¥å…·è®¾å¤‡"]
        SKILL["äººå‘˜ç†Ÿç»ƒåº¦"]
    end

    DIST --> LPH
    CONF --> LPH
    TOOL --> UPH
    SKILL --> ACC
    LPH --> OTIF
    ACC --> OTIF
```

**æ‹£è´§æ•ˆç‡åŸºå‡†**:

| æ‹£è´§æ¨¡å¼ | æ•ˆç‡åŸºå‡†(LPH) | æ•ˆç‡åŸºå‡†(UPH) | å‡†ç¡®ç‡è¦æ±‚ | é€‚ç”¨åœºæ™¯ |
|---------|-------------|-------------|-----------|---------|
| çº¸å•æ‹£è´§ | 30-50è¡Œ/å°æ—¶ | 60-100ä»¶/å°æ—¶ | â‰¥99.0% | ä½é¢‘å°ä»“ |
| RFæ‰«ææ‹£è´§ | 60-100è¡Œ/å°æ—¶ | 120-200ä»¶/å°æ—¶ | â‰¥99.5% | æ ‡å‡†ä»“åº“ |
| è¯­éŸ³æ‹£è´§ | 80-120è¡Œ/å°æ—¶ | 160-240ä»¶/å°æ—¶ | â‰¥99.7% | å¤§æ‰¹é‡æ•´ä»¶ |
| PTLç”µå­æ ‡ç­¾ | 150-250è¡Œ/å°æ—¶ | 300-500ä»¶/å°æ—¶ | â‰¥99.9% | æ‹†é›¶æ‹£é€‰ |
| AGVè´§åˆ°äºº | 200-400è¡Œ/å°æ—¶ | 400-800ä»¶/å°æ—¶ | â‰¥99.95% | é«˜å¯†åº¦å­˜å‚¨ |
| è‡ªåŠ¨åˆ†æ‹£ | 500-1000è¡Œ/å°æ—¶ | 1000-2000ä»¶/å°æ—¶ | â‰¥99.99% | å¤§æ‰¹é‡è®¢å• |

**æ‹£è´§SLAæ‰¿è¯º**:

| SLAé¡¹ | æ ‡å‡†å€¼ | æ‰¿è¯ºå€¼ | æƒ©ç½šæ¡æ¬¾ |
|------|--------|--------|---------|
| æ³¢æ¬¡å‡†æ—¶é‡Šæ”¾ | 100% | â‰¥99% | å»¶è¿Ÿ1å•æ‰£å‡æœåŠ¡è´¹ |
| æ‹£è´§å‡†æ—¶å®Œæˆ | 100% | â‰¥98% | å»¶è¿ŸæŒ‰åˆ†é’Ÿè®¡è´¹ |
| æ‹£è´§å‡†ç¡®ç‡ | 100% | â‰¥99.9% | é”™è¯¯æŒ‰ä»¶èµ”å¿ |
| è®¢å•æˆªå•æ—¶é—´ | 17:00 | 16:00å‰100%å½“æ—¥å‘ | å»¶è¿Ÿæ¬¡æ—¥å‘èµ”ä»˜ |
| å¼‚å¸¸å“åº”æ—¶é—´ | - | â‰¤15åˆ†é’Ÿ | è¶…æ—¶æŠ¥å¤‡ |

**æ•ˆç‡è®¡ç®—å…¬å¼**:

```
LPH = æ€»æ‹£è´§è¡Œæ•° / æ€»æ‹£è´§å·¥æ—¶
UPH = æ€»æ‹£è´§ä»¶æ•° / æ€»æ‹£è´§å·¥æ—¶
æ‹£è´§å‡†ç¡®ç‡ = (1 - å·®é”™è®¢å•æ•°/æ€»è®¢å•æ•°) Ã— 100%
OTIF = å‡†æ—¶å®Œæˆè®¢å•æ•° / æ€»è®¢å•æ•° Ã— 100%
æ‹£è´§æ•ˆç‡ç³»æ•° = å®é™…LPH / æ ‡å‡†LPH
```

---

## 5. å¼‚å¸¸å¤„ç†

### 5.1 è¶…æ”¶/çŸ­æ”¶å¤„ç†

```mermaid
flowchart TD
    A[æ”¶è´§æ‰«æ] --> B{æ•°é‡æ ¸å¯¹}
    B -->|å®æ”¶=é¢„æœŸ| C[æ­£å¸¸æ”¶è´§]
    B -->|å®æ”¶>é¢„æœŸ| D[è¶…æ”¶å¤„ç†]
    B -->|å®æ”¶<é¢„æœŸ| E[çŸ­æ”¶å¤„ç†]

    D --> D1{è¶…æ”¶æ¯”ä¾‹}
    D1 -->|â‰¤5%| D2[è‡ªåŠ¨æ¥æ”¶è¶…æ”¶]
    D1 -->|>5%| D3[è¶…æ”¶å®¡æ‰¹]
    D2 --> D4[ç”Ÿæˆå·®å¼‚è®°å½•]
    D3 -->|å®¡æ‰¹é€šè¿‡| D2
    D3 -->|å®¡æ‰¹æ‹’ç»| D5[æ‹’æ”¶è¶…é‡]
    D4 --> F[æ›´æ–°åº“å­˜]
    D5 --> G[é€šçŸ¥ä¾›åº”å•†]

    E --> E1{çŸ­æ”¶åŸå› }
    E1 -->|è¿è¾“æŸè€—| E2[è®°å½•æŸè€—]
    E1 -->|ä¾›åº”å•†å°‘å‘| E3[é€šçŸ¥è¡¥å‘]
    E1 -->|è´¨æ£€æ‰£ç•™| E4[ç­‰å¾…è´¨æ£€]
    E2 --> E5[ç”Ÿæˆå·®å¼‚ASN]
    E3 --> E6[åˆ›å»ºè¡¥è´§é¢„æœŸ]
    E4 --> E7[è´¨æ£€åå¤„ç†]
    E5 --> F
    E6 --> F
    E7 -->|é€šè¿‡| F
    E7 -->|å¤±è´¥| H[é€€è´§å¤„ç†]
```

**è¶…æ”¶å¤„ç†è§„åˆ™**:

| è¶…æ”¶æ¯”ä¾‹ | å¤„ç†æ–¹å¼ | å®¡æ‰¹çº§åˆ« | ç³»ç»ŸåŠ¨ä½œ |
|---------|---------|---------|---------|
| â‰¤2% | è‡ªåŠ¨æ¥æ”¶ | æ— éœ€å®¡æ‰¹ | æ›´æ–°ASNã€å¢åŠ åº“å­˜ |
| 2%-5% | è‡ªåŠ¨æ¥æ”¶(å¸¦æ ‡è®°) | äº‹åå®¡è®¡ | ç”Ÿæˆå·®å¼‚æŠ¥å‘Š |
| 5%-10% | éœ€è¦å®¡æ‰¹ | ä»“åº“ä¸»ç®¡ | å†»ç»“è¶…æ”¶éƒ¨åˆ†ã€å‘èµ·å®¡æ‰¹ |
| >10% | å¿…é¡»å®¡æ‰¹ | è¿è¥ç»ç† | æ‹’æ”¶è¶…é‡ã€é€šçŸ¥ä¾›åº”å•† |

**çŸ­æ”¶å¤„ç†è§„åˆ™**:

| çŸ­æ”¶ç±»å‹ | å¤„ç†æµç¨‹ | è´£ä»»æ–¹ | è¡¥æ•‘æªæ–½ |
|---------|---------|--------|---------|
| è¿è¾“æŸè€— | è®°å½•æŸè€—â†’ä¿é™©ç´¢èµ” | æ‰¿è¿å•† | ç´¢èµ”/è¡¥å‘ |
| ä¾›åº”å•†å°‘å‘ | é€šçŸ¥ä¾›åº”å•†â†’è¡¥å‘é¢„æœŸ | ä¾›åº”å•† | ä¾›åº”å•†è¡¥å‘ |
| è´¨æ£€æ‰£ç•™ | è´¨æ£€åˆ¤å®šâ†’éš”ç¦»/é”€æ¯ | è´¨æ£€æ–¹ | æŒ‰ç»“æœå¤„ç† |
| ç³»ç»Ÿå·®é”™ | åº“å­˜è°ƒæŸ¥â†’å·®å¼‚è°ƒæ•´ | ä»“åº“ | åº“å­˜è°ƒæ•´ |

**å¼‚å¸¸æ•°æ®è®°å½•**:

```json
{
  "exception_id": "EXC202502150001",
  "exception_type": "Over_Receipt",
  "asn_number": "ASN202502150001",
  "sku_code": "SKU-ABC-123",
  "expected_qty": 100,
  "actual_qty": 108,
  "variance_qty": 8,
  "variance_pct": 8.0,
  "status": "Pending_Approval",
  "created_by": "receiver_001",
  "created_at": "2026-02-15T10:30:00Z",
  "approval_workflow": {
    "level": "Supervisor",
    "approver": null,
    "approved_at": null
  }
}
```

### 5.2 ç¼ºè´§å¤„ç†

```mermaid
flowchart TD
    A[åˆ†é…åº“å­˜] --> B{åº“å­˜å……è¶³?}
    B -->|æ˜¯| C[æ­£å¸¸åˆ†é…]
    B -->|å¦| D[ç¼ºè´§å¤„ç†]

    D --> D1{ç¼ºè´§ç±»å‹}
    D1 -->|å®ç‰©ç¼ºè´§| D2[åº“ä½ç©ºå¼‚å¸¸]
    D1 -->|ç³»ç»Ÿç¼ºè´§| D3[åº“å­˜å†»ç»“]
    D1 -->|æ•´å•ç¼ºè´§| D4[è®¢å•æŒ‚èµ·]

    D2 --> D2A[è§¦å‘ç›˜ç‚¹]
    D2A --> D2B{ç›˜ç‚¹ç»“æœ}
    D2B -->|æ‰¾åˆ°| D2C[è¡¥æ‹£]
    D2B -->|ç¡®å®ç¼ºè´§| D2D[ç”Ÿæˆè°ƒæ•´]

    D3 --> D3A[æŸ¥çœ‹å†»ç»“åŸå› ]
    D3A --> D3B{åŸå› ç±»å‹}
    D3B -->|ç›˜ç‚¹å†»ç»“| D3C[ç­‰å¾…ç›˜ç‚¹å®Œæˆ]
    D3B -->|è´¨æ£€å†»ç»“| D3D[ç­‰å¾…è´¨æ£€]
    D3B -->|ç³»ç»Ÿé”™è¯¯| D3E[è§£å†»å¤„ç†]

    D4 --> D4A[é€šçŸ¥å®¢æˆ·]
    D4A --> D4B{å®¢æˆ·é€‰æ‹©}
    D4B -->|ç­‰å¾…è¡¥è´§| D4C[è®¢å•æŒ‚èµ·]
    D4B -->|éƒ¨åˆ†å‘è´§| D4D[æ‹†åˆ†è®¢å•]
    D4B -->|å–æ¶ˆè®¢å•| D4E[è®¢å•å–æ¶ˆ]

    D2C --> E[ç»§ç»­æ‹£è´§]
    D2D --> F[å¼‚å¸¸å…³é—­]
    D3E --> E
    D4D --> E
    D4E --> G[åº“å­˜é‡Šæ”¾]
```

**ç¼ºè´§å¤„ç†ç­–ç•¥**:

| ç¼ºè´§åœºæ™¯ | å¤„ç†ç­–ç•¥ | ç³»ç»Ÿå“åº”æ—¶é—´ | å®¢æˆ·é€šçŸ¥ |
|---------|---------|-------------|---------|
| å•åº“ä½ç¼ºè´§ | è§¦å‘ç›¸é‚»åº“ä½æŸ¥æ‰¾ | â‰¤5ç§’ | ä¸é€šçŸ¥ |
| åŒºåŸŸç¼ºè´§ | è§¦å‘è·¨åŒºè¡¥æ‹£ | â‰¤30ç§’ | å»¶è¿Ÿé€šçŸ¥ |
| å…¨ä»“ç¼ºè´§ | è®¢å•æŒ‚èµ·/å–æ¶ˆ | å®æ—¶ | å³æ—¶é€šçŸ¥ |
| æ‰¹æ¬¡ç¼ºè´§ | æ›¿ä»£æ‰¹æ¬¡æ¨è | â‰¤10ç§’ | å¯é€‰é€šçŸ¥ |
| è¿‡æœŸæ‰¹æ¬¡ | è‡ªåŠ¨è·³è¿‡+æŠ¥å‘Š | å®æ—¶ | å†…éƒ¨é€šçŸ¥ |

**ç¼ºè´§è¡¥æ•‘æœºåˆ¶**:

```
ä¼˜å…ˆçº§1: ç´§æ€¥è¡¥è´§
- è§¦å‘æ¡ä»¶: ç¼ºè´§SKUä¸ºAç±»SKU
- å“åº”æ—¶é—´: â‰¤2å°æ—¶
- æ‰§è¡ŒåŠ¨ä½œ: ä»å­˜å‚¨åŒºç´§æ€¥è¡¥è´§è‡³æ‹£è´§ä½

ä¼˜å…ˆçº§2: è·¨åŒºè°ƒæ‹¨
- è§¦å‘æ¡ä»¶: æœ¬åŒºç¼ºè´§ä½†å…¶ä»–åŒºåŸŸæœ‰è´§
- å“åº”æ—¶é—´: â‰¤4å°æ—¶
- æ‰§è¡ŒåŠ¨ä½œ: åˆ›å»ºç§»åº“ä»»åŠ¡ï¼Œè·¨åŒºåŸŸæ‹£è´§

ä¼˜å…ˆçº§3: ä¾›åº”å•†ç´§æ€¥è¡¥è´§
- è§¦å‘æ¡ä»¶: å…¨ä»“ç¼ºè´§
- å“åº”æ—¶é—´: æŒ‰ä¾›åº”å•†SLA
- æ‰§è¡ŒåŠ¨ä½œ: ç´§æ€¥POï¼Œç©ºè¿/ä¸“è½¦è¡¥è´§

ä¼˜å…ˆçº§4: å®¢æˆ·åå•†
- è§¦å‘æ¡ä»¶: æ— æ³•åŠæ—¶è¡¥è´§
- å“åº”æ—¶é—´: å®æ—¶
- æ‰§è¡ŒåŠ¨ä½œ: æ¨èæ›¿ä»£å“/å»¶è¿Ÿå‘è´§/å–æ¶ˆ
```

### 5.3 æ‹£è´§é”™è¯¯å¤„ç†

```mermaid
flowchart TD
    A[å¤æ ¸å‘ç°å·®å¼‚] --> B{å·®å¼‚ç±»å‹}
    B -->|å¤šæ‹£| C[å¤šæ‹£å¤„ç†]
    B -->|å°‘æ‹£| D[å°‘æ‹£å¤„ç†]
    B -->|é”™æ‹£| E[é”™æ‹£å¤„ç†]
    B -->|è´§æŸ| F[è´§æŸå¤„ç†]

    C --> C1[å®šä½å¤šæ‹£SKU]
    C1 --> C2{å¤„ç†æ–¹æ¡ˆ}
    C2 -->|å¯å–æ¶ˆ| C3[å–æ¶ˆå¤šæ‹£]
    C2 -->|å·²å‘è¿| C4[å®¢æˆ·åå•†é€€è´§]

    D --> D1[ç¡®è®¤å°‘æ‹£SKU]
    D1 --> D2[ç´§æ€¥è¡¥æ‹£]
    D2 --> D3{è¡¥æ‹£ç»“æœ}
    D3 -->|æˆåŠŸ| D4[é‡æ–°å¤æ ¸]
    D3 -->|ç¼ºè´§| D5[è§¦å‘ç¼ºè´§æµç¨‹]

    E --> E1[æ‰«æé”™è¯¯SKU]
    E1 --> E2[å®šä½æ­£ç¡®åº“ä½]
    E2 --> E3[äº¤æ¢æ‹£è´§]
    E3 --> E4[é”™è¯¯SKUå½’ä½]
    E4 --> E5[ç”Ÿæˆå·®å¼‚æŠ¥å‘Š]

    F --> F1[æ‹ç…§è®°å½•]
    F1 --> F2{è´§æŸåŸå› }
    F2 -->|ä»“åº“åŸå› | F3[ä»“åº“æŠ¥æŸ]
    F2 -->|æ¥è´§åŸå› | F4[ä¾›åº”å•†ç´¢èµ”]
    F2 -->|è¿è¾“åŸå› | F5[æ‰¿è¿å•†ç´¢èµ”]

    C3 --> G[æ›´æ–°æ‹£è´§è®°å½•]
    C4 --> G
    D4 --> G
    D5 --> H[è®¢å•å¼‚å¸¸]
    E5 --> G
    F3 --> I[åº“å­˜è°ƒæ•´]
    F4 --> J[ç´¢èµ”è®°å½•]
    F5 --> J
```

**æ‹£è´§é”™è¯¯åˆ†ç±»ä¸å¤„ç†**:

| é”™è¯¯ç±»å‹ | é”™è¯¯æè¿° | å‘ç°é˜¶æ®µ | å¤„ç†åŠ¨ä½œ | è´£ä»»åˆ¤å®š |
|---------|---------|---------|---------|---------|
| SKUé”™è¯¯ | æ‹£é”™SKU | å¤æ ¸/å®¢æˆ· | é‡æ–°æ‹£è´§ã€é”™è¯¯å½’ä½ | æ‹£è´§å‘˜ |
| æ•°é‡é”™è¯¯ | å¤šæ‹£/å°‘æ‹£ | å¤æ ¸ç§°é‡ | è¡¥æ‹£/å–æ¶ˆã€è°ƒæ•´è®°å½• | æ‹£è´§å‘˜ |
| æ‰¹æ¬¡é”™è¯¯ | æ‹£é”™æ‰¹æ¬¡(å…ˆè¿›å…ˆå‡º) | ç³»ç»Ÿæ ¡éªŒ | é‡æ–°æ‹£è´§ã€æ‰¹æ¬¡è°ƒæ•´ | æ‹£è´§å‘˜ |
| è´§æŸ | å•†å“ç ´æŸ | å¤æ ¸/åŒ…è£… | æŠ¥æŸã€è¡¥å‘ | è§†åŸå›  |
| åº“ä½é”™è¯¯ | ç³»ç»Ÿåº“ä½ä¸å®ç‰©ä¸ç¬¦ | æ‹£è´§æ—¶å‘ç° | ç›˜ç‚¹æ ¡æ­£ã€ç´§æ€¥è¡¥è´§ | ç³»ç»Ÿ/ä»“åº“ |
| åºåˆ—å·é”™è¯¯ | é«˜ä»·å€¼å•†å“åºåˆ—å·é”™ | å¤æ ¸æ‰«æ | è¿½å›ã€é‡æ–°å‘è´§ | æ‹£è´§å‘˜ |

**é”™è¯¯å¤„ç†æ—¶æ•ˆè¦æ±‚**:

| å¤„ç†é˜¶æ®µ | æ—¶æ•ˆè¦æ±‚ | è´£ä»»äºº | å‡çº§æ¡ä»¶ |
|---------|---------|--------|---------|
| é”™è¯¯å‘ç° | å®æ—¶ | å¤æ ¸å‘˜ | æ‰¹é‡é”™è¯¯(>5å•) |
| åŸå› åˆ†æ | â‰¤15åˆ†é’Ÿ | ç­ç»„é•¿ | ç³»ç»ŸåŸå›  |
| è¡¥æ•‘æ‰§è¡Œ | â‰¤30åˆ†é’Ÿ | æ‹£è´§å‘˜ | é«˜ä»·å€¼å•†å“ |
| å®¢æˆ·é€šçŸ¥ | â‰¤1å°æ—¶ | å®¢æœ | å·²å‘è¿é”™è¯¯ |
| æ•´æ”¹æªæ–½ | â‰¤24å°æ—¶ | è¿è¥ç»ç† | é‡å¤é”™è¯¯ |

**é”™è¯¯ç‡ç›‘æ§ä¸æ”¹è¿›**:

```yaml
ç›‘æ§æŒ‡æ ‡:
  æ—¥ç»´åº¦:
    - æ‹£è´§é”™è¯¯ç‡: < 0.1%
    - å¤æ ¸å·®å¼‚ç‡: < 0.05%
    - å®¢è¯‰é”™å‘ç‡: < 0.01%

  äººå‘˜ç»´åº¦:
    - æ–°å‘˜å·¥é”™è¯¯ç‡: < 1% (é¦–æœˆ)
    - ç†Ÿç»ƒå·¥é”™è¯¯ç‡: < 0.05%
    - å¼‚å¸¸äººå‘˜é¢„è­¦: è¿ç»­3å¤©>0.5%

  æ”¹è¿›æªæ–½:
    - åŸ¹è®­å¼ºåŒ–: é”™è¯¯ç‡>0.2%å¼ºåˆ¶åŸ¹è®­
    - ç³»ç»Ÿä¼˜åŒ–: åº“ä½ä¼˜åŒ–ã€é˜²é”™æ‰«æ
    - ç»©æ•ˆè€ƒæ ¸: é”™è¯¯ç‡çº³å…¥KPI
    - è®¾å¤‡å‡çº§: è¯­éŸ³/ç¯å…‰è¾…åŠ©æ‹£è´§
```

---

## é™„å½•: çŠ¶æ€æœºå½¢å¼åŒ–å®šä¹‰

### A.1 å…¥åº“æµç¨‹çŠ¶æ€æœºå½¢å¼åŒ–

```
States_Inbound = {Draft, Sent, Acknowledged, In_Transit, Arrived,
                  Receiving, Quality_Check, Putaway, Completed,
                  Rejected, Return, Cancelled}

Transitions_Inbound âŠ† States_Inbound Ã— Event Ã— States_Inbound

Transitions_Inbound = {
  (Draft, send_asn, Sent),
  (Sent, acknowledge, Acknowledged),
  (Acknowledged, ship, In_Transit),
  (In_Transit, arrive, Arrived),
  (Arrived, start_receive, Receiving),
  (Receiving, submit_qc, Quality_Check),
  (Quality_Check, pass, Putaway),
  (Quality_Check, fail, Rejected),
  (Putaway, complete, Completed),
  (Rejected, process_return, Return),
  (Draft, cancel, Cancelled),
  (Sent, cancel, Cancelled),
  (Acknowledged, cancel, Cancelled)
}

Invariant_Inbound:
  âˆ€s âˆˆ States_Inbound :
    s = Completed â†’ history_contains(s, Arrived) âˆ§
    s = Quality_Check â†’ history_contains(s, Receiving)
```

### A.2 å‡ºåº“æµç¨‹çŠ¶æ€æœºå½¢å¼åŒ–

```
States_Outbound = {Planning, Ready, Released, Picking, Short_Pick,
                   Packing, Staged, Loaded, In_Transit, Delivered,
                   Completed, Cancelled, Exception}

Transitions_Outbound = {
  (Planning, plan_complete, Ready),
  (Ready, release, Released),
  (Released, start_pick, Picking),
  (Picking, pick_complete, Packing),
  (Picking, short_pick, Short_Pick),
  (Short_Pick, replenish, Picking),
  (Packing, pack_complete, Staged),
  (Staged, load, Loaded),
  (Loaded, ship, In_Transit),
  (In_Transit, deliver, Delivered),
  (Delivered, confirm, Completed),
  (Planning, cancel, Cancelled),
  (Ready, cancel, Cancelled)
}
```

---

**æ–‡æ¡£ç»“æŸ**
