# ç”µä¿¡è¿è¥Schemaå®è·µæ¡ˆä¾‹

## ğŸ“‘ ç›®å½•

- [1. æ¡ˆä¾‹æ¦‚è¿°](#1-æ¡ˆä¾‹æ¦‚è¿°)
- [2. ä¼ä¸šèƒŒæ™¯](#2-ä¼ä¸šèƒŒæ™¯)
- [3. ä¸šåŠ¡ç—›ç‚¹ä¸ç›®æ ‡](#3-ä¸šåŠ¡ç—›ç‚¹ä¸ç›®æ ‡)
- [4. æŠ€æœ¯æŒ‘æˆ˜](#4-æŠ€æœ¯æŒ‘æˆ˜)
- [5. è§£å†³æ–¹æ¡ˆæ¶æ„](#5-è§£å†³æ–¹æ¡ˆæ¶æ„)
- [6. å®Œæ•´å®ç°ä»£ç ](#6-å®Œæ•´å®ç°ä»£ç )
- [7. æ•ˆæœè¯„ä¼°ä¸ROIåˆ†æ](#7-æ•ˆæœè¯„ä¼°ä¸roiåˆ†æ)

---

## 1. æ¡ˆä¾‹æ¦‚è¿°

æœ¬æ–‡æ¡£æä¾›ç”µä¿¡è¿è¥Schemaåœ¨å®é™…åº”ç”¨ä¸­çš„å®Œæ•´å®è·µæ¡ˆä¾‹ï¼Œæ¶µç›–å®¢æˆ·ç®¡ç†ã€äº§å“æœåŠ¡ã€è®¡è´¹è´¦åŠ¡ã€èµ„æºç®¡ç†ç­‰æ ¸å¿ƒç”µä¿¡è¿è¥åœºæ™¯ã€‚

---

## 2. ä¼ä¸šèƒŒæ™¯

### 2.1 ä¼ä¸šæ¦‚å†µ

**ä¼ä¸šåç§°**ï¼šä¸­äº‘é€šä¿¡é›†å›¢æœ‰é™å…¬å¸ï¼ˆè™šæ„æ¡ˆä¾‹ä¼ä¸šï¼‰

**ä¼ä¸šè§„æ¨¡**ï¼š
- ç§»åŠ¨ç”¨æˆ·ï¼š2.5äº¿
- å®½å¸¦ç”¨æˆ·ï¼š8000ä¸‡
- åŸºç«™æ•°é‡ï¼š300ä¸‡
- å¹´è¥ä¸šé¢ï¼š3800äº¿å…ƒäººæ°‘å¸

---

## 3. ä¸šåŠ¡ç—›ç‚¹ä¸ç›®æ ‡

### 3.1 äº”å¤§ä¸šåŠ¡ç—›ç‚¹

| åºå· | ç—›ç‚¹ | å…·ä½“è¡¨ç° | å½±å“ç¨‹åº¦ |
|------|------|----------|----------|
| 1 | **å®¢æˆ·æµå¤±ç‡é«˜** | æœˆæµå¤±ç‡3%ï¼Œéš¾ä»¥æŒ½ç•™ | é«˜ |
| 2 | **è®¡è´¹é”™è¯¯å¤š** | æŠ•è¯‰ä¸­è®¡è´¹é—®é¢˜å æ¯”40% | é«˜ |
| 3 | **äº§å“åŒè´¨åŒ–** | ä¸ç«å“å·®å¼‚åŒ–ä¸æ˜æ˜¾ | é«˜ |
| 4 | **ç½‘ç»œåˆ©ç”¨ç‡ä½** | å³°å€¼ä¸è°·æœŸå·®å¼‚å¤§ | ä¸­ |
| 5 | **å®¢æœæ•ˆç‡ä½** | äººå·¥å¤„ç†å æ¯”è¿‡é«˜ | ä¸­ |

### 3.2 äº”å¤§ä¸šåŠ¡ç›®æ ‡

| åºå· | ç›®æ ‡ | å…·ä½“æŒ‡æ ‡ | å®ŒæˆæœŸé™ |
|------|------|----------|----------|
| 1 | **é™ä½æµå¤±ç‡** | æœˆæµå¤±ç‡<1.5% | 12ä¸ªæœˆ |
| 2 | **è®¡è´¹å‡†ç¡®ç‡** | è®¡è´¹å‡†ç¡®ç‡>99.99% | 9ä¸ªæœˆ |
| 3 | **ä¸ªæ€§åŒ–å¥—é¤** | æ¨èè½¬åŒ–ç‡>30% | 12ä¸ªæœˆ |
| 4 | **ç½‘ç»œä¼˜åŒ–** | åˆ©ç”¨ç‡æå‡è‡³70% | 18ä¸ªæœˆ |
| 5 | **æ™ºèƒ½å®¢æœ** | 80%é—®é¢˜è‡ªåŠ¨å¤„ç† | 12ä¸ªæœˆ |

---

## 4. æŠ€æœ¯æŒ‘æˆ˜

1. **æµ·é‡æ•°æ®å¤„ç†**ï¼šæ•°äº¿ç”¨æˆ·çš„å®æ—¶è®¡è´¹ä¸ä¿¡ä»¤å¤„ç†
2. **ç³»ç»Ÿé«˜å¯ç”¨**ï¼š99.999%å¯ç”¨æ€§è¦æ±‚
3. **å¤šå‚å•†äº’é€š**ï¼šä¸ä¸åŒå‚å•†è®¾å¤‡çš„äº’è”äº’é€š
4. **æ•°æ®ä¸€è‡´æ€§**ï¼šåˆ†å¸ƒå¼ç³»ç»Ÿçš„æ•°æ®ä¸€è‡´æ€§ä¿éšœ
5. **å®æ—¶å†³ç­–**ï¼šæ¯«ç§’çº§çš„ä¸šåŠ¡å†³ç­–å“åº”

---

## 5. è§£å†³æ–¹æ¡ˆæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ä¸šåŠ¡æ”¯æ’‘å±‚ (BSS)                          â”‚
â”‚  CRM  è®¢å•ç®¡ç†  è®¡è´¹è´¦åŠ¡  äº§å“ç®¡ç†  è¥é”€ç®¡ç†                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    è¿è¥æ”¯æ’‘å±‚ (OSS)                          â”‚
â”‚  èµ„æºç®¡ç†  æœåŠ¡å¼€é€š  æ•…éšœç®¡ç†  æ€§èƒ½ç®¡ç†  ç½‘ç»œè§„åˆ’              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    æ•°æ®å±‚                                    â”‚
â”‚  å®¢æˆ·æ•°æ®  äº§å“æ•°æ®  è®¡è´¹æ•°æ®  ç½‘ç»œæ•°æ®  å¤§æ•°æ®å¹³å°            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    ç½‘ç»œå±‚                                    â”‚
â”‚  5Gæ ¸å¿ƒç½‘  ä¼ è¾“ç½‘  æ‰¿è½½ç½‘  æ¥å…¥ç½‘  è¾¹ç¼˜è®¡ç®—                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 6. å®Œæ•´å®ç°ä»£ç 

```python
#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
ç”µä¿¡è¿è¥Schemaå®è·µæ¡ˆä¾‹
ä¼ä¸šï¼šä¸­äº‘é€šä¿¡é›†å›¢æœ‰é™å…¬å¸
"""

import json
import uuid
from datetime import datetime, date, timedelta
from typing import Dict, List, Optional, Any, Set
from dataclasses import dataclass, field
from enum import Enum
import random
import logging

logging.basicConfig(level=logging.INFO)
logger = logging.getLogger(__name__)


class CustomerType(Enum):
    """å®¢æˆ·ç±»å‹"""
    INDIVIDUAL = "ä¸ªäººå®¢æˆ·"
    FAMILY = "å®¶åº­å®¢æˆ·"
    ENTERPRISE = "ä¼ä¸šå®¢æˆ·"


class CustomerStatus(Enum):
    """å®¢æˆ·çŠ¶æ€"""
    ACTIVE = "æ­£å¸¸"
    SUSPENDED = "åœæœº"
    TERMINATED = "é”€æˆ·"
    ARREARS = "æ¬ è´¹"


class ServiceType(Enum):
    """æœåŠ¡ç±»å‹"""
    MOBILE = "ç§»åŠ¨ä¸šåŠ¡"
    BROADBAND = "å®½å¸¦ä¸šåŠ¡"
    IPTV = "IPTVä¸šåŠ¡"
    CLOUD = "äº‘æœåŠ¡"
    IOT = "ç‰©è”ç½‘"


class BillingCycle(Enum):
    """è®¡è´¹å‘¨æœŸ"""
    DAILY = "æŒ‰æ—¥"
    MONTHLY = "æŒ‰æœˆ"
    YEARLY = "æŒ‰å¹´"


@dataclass
class Customer:
    """å®¢æˆ·å®ä½“"""
    customer_id: str
    name: str
    customer_type: CustomerType
    phone: str
    email: str
    id_number: str = ""  # èº«ä»½è¯å·/è¥ä¸šæ‰§ç…§å·
    address: str = ""
    registration_date: date = field(default_factory=date.today)
    status: CustomerStatus = CustomerStatus.ACTIVE
    credit_score: int = 100  # ä¿¡ç”¨ç§¯åˆ†
    segment: str = "æ™®é€š"  # å®¢æˆ·åˆ†ç¾¤
    
    # ç»Ÿè®¡ä¿¡æ¯
    lifetime_value: float = 0.0
    churn_risk: float = 0.0  # æµå¤±é£é™© 0-1
    
    def calculate_tenure_months(self) -> int:
        """è®¡ç®—åœ¨ç½‘æ—¶é•¿ï¼ˆæœˆï¼‰"""
        today = date.today()
        return (today.year - self.registration_date.year) * 12 + \
               (today.month - self.registration_date.month)
    
    def to_dict(self) -> Dict:
        return {
            "customer_id": self.customer_id,
            "name": self.name,
            "customer_type": self.customer_type.value,
            "phone": self.phone,
            "email": self.email,
            "status": self.status.value,
            "tenure_months": self.calculate_tenure_months(),
            "credit_score": self.credit_score,
            "segment": self.segment,
            "churn_risk": round(self.churn_risk, 2)
        }


@dataclass
class Subscription:
    """è®¢è´­å…³ç³»"""
    subscription_id: str
    customer_id: str
    service_type: ServiceType
    product_code: str
    product_name: str
    msisdn: str  # æ‰‹æœºå·ç /å®½å¸¦è´¦å·
    status: str = "active"  # active, suspended, terminated
    start_date: date = field(default_factory=date.today)
    end_date: Optional[date] = None
    monthly_fee: float = 0.0
    data_allowance: int = 0  # MB
    voice_allowance: int = 0  # åˆ†é’Ÿ
    
    def to_dict(self) -> Dict:
        return {
            "subscription_id": self.subscription_id,
            "customer_id": self.customer_id,
            "service_type": self.service_type.value,
            "product_name": self.product_name,
            "msisdn": self.msisdn,
            "status": self.status,
            "monthly_fee": self.monthly_fee,
            "data_allowance": self.data_allowance,
            "voice_allowance": self.voice_allowance
        }


@dataclass
class UsageRecord:
    """ä½¿ç”¨è®°å½•"""
    record_id: str
    subscription_id: str
    msisdn: str
    usage_type: str  # data, voice, sms
    usage_amount: float
    unit: str
    timestamp: datetime
    location: str = ""
    cost: float = 0.0
    
    def to_dict(self) -> Dict:
        return {
            "record_id": self.record_id,
            "msisdn": self.msisdn,
            "usage_type": self.usage_type,
            "usage_amount": self.usage_amount,
            "unit": self.unit,
            "timestamp": self.timestamp.isoformat(),
            "cost": self.cost
        }


@dataclass
class Bill:
    """è´¦å•"""
    bill_id: str
    customer_id: str
    billing_period: str
    bill_date: date
    due_date: date
    
    # è´¹ç”¨æ˜ç»†
    subscription_fees: float = 0.0
    usage_fees: float = 0.0
    discount: float = 0.0
    tax: float = 0.0
    
    @property
    def total_amount(self) -> float:
        return self.subscription_fees + self.usage_fees - self.discount + self.tax
    
    @property
    def net_amount(self) -> float:
        return max(0, self.total_amount)
    
    def to_dict(self) -> Dict:
        return {
            "bill_id": self.bill_id,
            "billing_period": self.billing_period,
            "bill_date": self.bill_date.isoformat(),
            "due_date": self.due_date.isoformat(),
            "subscription_fees": self.subscription_fees,
            "usage_fees": self.usage_fees,
            "discount": self.discount,
            "tax": self.tax,
            "total_amount": round(self.total_amount, 2)
        }


@dataclass
class NetworkResource:
    """ç½‘ç»œèµ„æº"""
    resource_id: str
    resource_type: str  # åŸºç«™ã€é¢‘è°±ã€ä¼ è¾“
    location: str
    capacity: float
    current_load: float = 0.0
    status: str = "active"
    
    @property
    def utilization(self) -> float:
        return (self.current_load / self.capacity * 100) if self.capacity > 0 else 0
    
    def to_dict(self) -> Dict:
        return {
            "resource_id": self.resource_id,
            "resource_type": self.resource_type,
            "location": self.location,
            "capacity": self.capacity,
            "current_load": self.current_load,
            "utilization": round(self.utilization, 2),
            "status": self.status
        }


class TelecomCRM:
    """ç”µä¿¡CRMç³»ç»Ÿ"""
    
    def __init__(self):
        self.customers: Dict[str, Customer] = {}
        self.subscriptions: Dict[str, Subscription] = {}
        self.usage_records: List[UsageRecord] = []
        self.bills: Dict[str, List[Bill]] = {}
        self.network_resources: Dict[str, NetworkResource] = {}
    
    def register_customer(self, customer: Customer):
        """æ³¨å†Œå®¢æˆ·"""
        self.customers[customer.customer_id] = customer
        self.bills[customer.customer_id] = []
        logger.info(f"Registered customer: {customer.name}")
    
    def create_subscription(self, subscription: Subscription):
        """åˆ›å»ºè®¢è´­"""
        self.subscriptions[subscription.subscription_id] = subscription
        
        # æ›´æ–°å®¢æˆ·ç”Ÿå‘½å‘¨æœŸä»·å€¼
        customer = self.customers.get(subscription.customer_id)
        if customer:
            customer.lifetime_value += subscription.monthly_fee * 12
        
        logger.info(f"Created subscription: {subscription.msisdn}")
    
    def record_usage(self, record: UsageRecord):
        """è®°å½•ä½¿ç”¨"""
        self.usage_records.append(record)
    
    def generate_bill(self, customer_id: str, billing_period: str) -> Bill:
        """ç”Ÿæˆè´¦å•"""
        customer = self.customers.get(customer_id)
        if not customer:
            raise ValueError("Customer not found")
        
        # è®¡ç®—è®¢è´­è´¹ç”¨
        customer_subs = [s for s in self.subscriptions.values() 
                        if s.customer_id == customer_id and s.status == "active"]
        subscription_fees = sum(s.monthly_fee for s in customer_subs)
        
        # è®¡ç®—ä½¿ç”¨è´¹ç”¨
        usage_fees = sum(r.cost for r in self.usage_records 
                        if r.subscription_id in [s.subscription_id for s in customer_subs])
        
        bill = Bill(
            bill_id=f"BILL-{customer_id}-{billing_period}",
            customer_id=customer_id,
            billing_period=billing_period,
            bill_date=date.today(),
            due_date=date.today() + timedelta(days=15),
            subscription_fees=subscription_fees,
            usage_fees=usage_fees,
            tax=(subscription_fees + usage_fees) * 0.06
        )
        
        self.bills[customer_id].append(bill)
        return bill
    
    def analyze_churn_risk(self, customer_id: str) -> Dict:
        """åˆ†ææµå¤±é£é™©"""
        customer = self.customers.get(customer_id)
        if not customer:
            return {}
        
        # æµå¤±é£é™©è¯„åˆ†æ¨¡å‹
        risk_score = 0.0
        factors = []
        
        # 1. åœ¨ç½‘æ—¶é•¿
        tenure = customer.calculate_tenure_months()
        if tenure < 6:
            risk_score += 0.3
            factors.append("åœ¨ç½‘æ—¶é—´è¾ƒçŸ­")
        elif tenure > 24:
            risk_score -= 0.2
        
        # 2. ä½¿ç”¨è¡Œä¸º
        recent_usage = [r for r in self.usage_records 
                       if r.subscription_id in [s.subscription_id for s in self.subscriptions.values() 
                                               if s.customer_id == customer_id]]
        if len(recent_usage) < 10:  # è¿‘æœŸä½¿ç”¨å°‘
            risk_score += 0.2
            factors.append("è¿‘æœŸä½¿ç”¨æ´»è·ƒåº¦ä½")
        
        # 3. æ¬ è´¹å†å²
        if customer.status == CustomerStatus.ARREARS:
            risk_score += 0.4
            factors.append("å½“å‰æ¬ è´¹")
        
        # 4. å¥—é¤ä»·å€¼
        subs = [s for s in self.subscriptions.values() if s.customer_id == customer_id]
        total_monthly = sum(s.monthly_fee for s in subs)
        if total_monthly < 50:
            risk_score += 0.1
        
        customer.churn_risk = min(1.0, max(0, risk_score))
        
        return {
            "customer_id": customer_id,
            "churn_risk_score": round(customer.churn_risk, 2),
            "risk_level": "é«˜" if customer.churn_risk > 0.7 else "ä¸­" if customer.churn_risk > 0.4 else "ä½",
            "risk_factors": factors,
            "recommendations": self._get_retention_recommendations(customer.churn_risk)
        }
    
    def _get_retention_recommendations(self, risk_score: float) -> List[str]:
        """è·å–æŒ½ç•™å»ºè®®"""
        if risk_score > 0.7:
            return ["å®¢æˆ·ç»ç†ä¸»åŠ¨å…³æ€€", "æä¾›ä¸“å±ä¼˜æƒ ", "æ¨èæ›´é€‚åˆçš„å¥—é¤"]
        elif risk_score > 0.4:
            return ["å‘é€å…³æ€€çŸ­ä¿¡", "æ¨é€ä¼˜æƒ æ´»åŠ¨"]
        return ["ä¿æŒæ­£å¸¸æœåŠ¡"]
    
    def recommend_products(self, customer_id: str) -> List[Dict]:
        """æ¨èäº§å“"""
        customer = self.customers.get(customer_id)
        if not customer:
            return []
        
        recommendations = []
        
        # åŸºäºä½¿ç”¨è¡Œä¸ºçš„æ¨è
        data_usage = sum(r.usage_amount for r in self.usage_records 
                        if r.subscription_id in [s.subscription_id for s in self.subscriptions.values() 
                                                if s.customer_id == customer_id]
                        and r.usage_type == "data")
        
        if data_usage > 10000:  # ä½¿ç”¨è¶…è¿‡10GB
            recommendations.append({
                "product_code": "DATA-UNLIMITED",
                "product_name": "æ— é™æµé‡åŒ…",
                "reason": "æ‚¨çš„æµé‡ä½¿ç”¨è¾ƒå¤šï¼Œå‡çº§æ— é™æµé‡æ›´åˆ’ç®—",
                "monthly_fee": 99,
                "potential_savings": 30
            })
        
        # åŸºäºå®¢æˆ·ç±»å‹çš„æ¨è
        if customer.customer_type == CustomerType.FAMILY:
            recommendations.append({
                "product_code": "FAMILY-PLAN",
                "product_name": "å®¶åº­å…±äº«å¥—é¤",
                "reason": "å¤šäººå…±äº«æ›´ä¼˜æƒ ",
                "monthly_fee": 199,
                "potential_savings": 50
            })
        
        return recommendations
    
    def get_network_status(self) -> Dict:
        """è·å–ç½‘ç»œçŠ¶æ€"""
        total_capacity = sum(r.capacity for r in self.network_resources.values())
        total_load = sum(r.current_load for r in self.network_resources.values())
        
        return {
            "total_resources": len(self.network_resources),
            "total_capacity": total_capacity,
            "total_load": round(total_load, 2),
            "overall_utilization": round(total_load / total_capacity * 100, 2) if total_capacity else 0,
            "active_alarms": sum(1 for r in self.network_resources.values() if r.status != "active"),
            "resource_breakdown": self._get_resource_breakdown()
        }
    
    def _get_resource_breakdown(self) -> Dict:
        """èµ„æºåˆ†ç±»ç»Ÿè®¡"""
        breakdown = {}
        for resource in self.network_resources.values():
            if resource.resource_type not in breakdown:
                breakdown[resource.resource_type] = {"count": 0, "total_capacity": 0}
            breakdown[resource.resource_type]["count"] += 1
            breakdown[resource.resource_type]["total_capacity"] += resource.capacity
        return breakdown


def create_demo_telecom():
    """åˆ›å»ºæ¼”ç¤ºç”µä¿¡ç³»ç»Ÿ"""
    crm = TelecomCRM()
    
    # åˆ›å»ºå®¢æˆ·
    customers = [
        Customer("C001", "å¼ ä¸‰", CustomerType.INDIVIDUAL, "13800138001", "zhangsan@example.com"),
        Customer("C002", "æå››", CustomerType.FAMILY, "13800138002", "lisi@example.com"),
        Customer("C003", "ç‹äº”", CustomerType.ENTERPRISE, "13800138003", "wangwu@example.com"),
    ]
    
    for customer in customers:
        crm.register_customer(customer)
    
    # åˆ›å»ºè®¢è´­
    subscriptions = [
        Subscription("S001", "C001", ServiceType.MOBILE, "4G-59", "4Gç•…äº«å¥—é¤", "13800138001", 
                    monthly_fee=59, data_allowance=10240, voice_allowance=300),
        Subscription("S002", "C002", ServiceType.BROADBAND, "BB-100", "100Må®½å¸¦", "02112345678",
                    monthly_fee=88, data_allowance=0, voice_allowance=0),
        Subscription("S003", "C002", ServiceType.MOBILE, "5G-129", "5Gç•…äº«å¥—é¤", "13800138002",
                    monthly_fee=129, data_allowance=51200, voice_allowance=500),
    ]
    
    for sub in subscriptions:
        crm.create_subscription(sub)
    
    # æ¨¡æ‹Ÿä½¿ç”¨è®°å½•
    for _ in range(100):
        record = UsageRecord(
            record_id=str(uuid.uuid4()),
            subscription_id=random.choice(["S001", "S002", "S003"]),
            msisdn="13800138001",
            usage_type=random.choice(["data", "voice", "sms"]),
            usage_amount=random.uniform(10, 500),
            unit=random.choice(["MB", "åˆ†é’Ÿ", "æ¡"]),
            timestamp=datetime.now() - timedelta(hours=random.randint(0, 720)),
            cost=random.uniform(0, 20)
        )
        crm.record_usage(record)
    
    # åˆ›å»ºç½‘ç»œèµ„æº
    resources = [
        NetworkResource("BS-001", "åŸºç«™", "å—äº¬å¸‚åŒº", 1000, 650),
        NetworkResource("BS-002", "åŸºç«™", "å—äº¬éƒŠåŒº", 800, 320),
        NetworkResource("TR-001", "ä¼ è¾“", "å—äº¬-ä¸Šæµ·", 10000, 7200),
    ]
    
    for resource in resources:
        crm.network_resources[resource.resource_id] = resource
    
    return crm


def main():
    """ä¸»å‡½æ•°"""
    print("=" * 80)
    print("ç”µä¿¡è¿è¥Schemaå®è·µæ¡ˆä¾‹ - ä¸­äº‘é€šä¿¡")
    print("=" * 80)
    
    # åˆ›å»ºç³»ç»Ÿ
    print("\nã€æ­¥éª¤1ã€‘åˆå§‹åŒ–ç”µä¿¡ç³»ç»Ÿ...")
    crm = create_demo_telecom()
    print(f"  æ³¨å†Œå®¢æˆ·: {len(crm.customers)} äºº")
    print(f"  è®¢è´­å…³ç³»: {len(crm.subscriptions)} ä¸ª")
    
    # æµå¤±é£é™©åˆ†æ
    print("\nã€æ­¥éª¤2ã€‘å®¢æˆ·æµå¤±é£é™©åˆ†æ...")
    for customer_id in ["C001", "C002"]:
        risk_analysis = crm.analyze_churn_risk(customer_id)
        print(f"\n  å®¢æˆ·: {customer_id}")
        print(f"    æµå¤±é£é™©: {risk_analysis['churn_risk_score']}")
        print(f"    é£é™©ç­‰çº§: {risk_analysis['risk_level']}")
        print(f"    å»ºè®®: {risk_analysis['recommendations'][0] if risk_analysis['recommendations'] else 'N/A'}")
    
    # äº§å“æ¨è
    print("\nã€æ­¥éª¤3ã€‘ä¸ªæ€§åŒ–äº§å“æ¨è...")
    for customer_id in ["C001", "C002"]:
        recommendations = crm.recommend_products(customer_id)
        customer = crm.customers[customer_id]
        print(f"\n  {customer.name}:")
        for rec in recommendations:
            print(f"    - {rec['product_name']}: {rec['reason']}")
    
    # ç”Ÿæˆè´¦å•
    print("\nã€æ­¥éª¤4ã€‘ç”Ÿæˆè´¦å•...")
    bill = crm.generate_bill("C001", "2025-06")
    print(f"  è´¦å•å‘¨æœŸ: {bill.billing_period}")
    print(f"  è®¢è´­è´¹: Â¥{bill.subscription_fees}")
    print(f"  ä½¿ç”¨è´¹: Â¥{bill.usage_fees}")
    print(f"  åº”ç¼´é‡‘é¢: Â¥{bill.net_amount}")
    
    # ç½‘ç»œçŠ¶æ€
    print("\nã€æ­¥éª¤5ã€‘ç½‘ç»œèµ„æºçŠ¶æ€...")
    network_status = crm.get_network_status()
    print(f"  èµ„æºæ€»æ•°: {network_status['total_resources']}")
    print(f"  æ•´ä½“åˆ©ç”¨ç‡: {network_status['overall_utilization']}%")
    print(f"  æ´»è·ƒå‘Šè­¦: {network_status['active_alarms']}")
    
    print("\n" + "=" * 80)
    print("ç”µä¿¡è¿è¥Schemaå®è·µæ¡ˆä¾‹æ‰§è¡Œå®Œæˆ")
    print("=" * 80)


if __name__ == "__main__":
    main()
```

---

## 7. æ•ˆæœè¯„ä¼°ä¸ROIåˆ†æ

### 7.1 å…³é”®ç»©æ•ˆæŒ‡æ ‡

| æŒ‡æ ‡ | å®æ–½å‰ | å®æ–½å | æ”¹å–„ |
|------|--------|--------|------|
| æœˆæµå¤±ç‡ | 3.0% | 1.4% | -53% |
| è®¡è´¹å‡†ç¡®ç‡ | 99.5% | 99.995% | +0.5% |
| æ¨èè½¬åŒ–ç‡ | 5% | 35% | +600% |
| ç½‘ç»œåˆ©ç”¨ç‡ | 45% | 72% | +60% |
| å®¢æœæ•ˆç‡ | 60% | 85% | +42% |

### 7.2 ROIåˆ†æ

**æŠ•èµ„**ï¼šÂ¥2000ä¸‡  
**å¹´æ”¶ç›Š**ï¼šÂ¥5000ä¸‡  
**ROI**ï¼š150%ï¼ˆ3å¹´ï¼‰

---

**åˆ›å»ºæ—¶é—´**ï¼š2026-02-15  
**ç‰ˆæœ¬**ï¼š1.0.0
