# ä»£ç ç”Ÿæˆå½¢å¼åŒ–å®šä¹‰

## ğŸ“‘ ç›®å½•

- [ä»£ç ç”Ÿæˆå½¢å¼åŒ–å®šä¹‰](#ä»£ç ç”Ÿæˆå½¢å¼åŒ–å®šä¹‰)
  - [ğŸ“‘ ç›®å½•](#-ç›®å½•)
  - [1. ä»£ç ç”Ÿæˆå½¢å¼åŒ–æ¨¡å‹](#1-ä»£ç ç”Ÿæˆå½¢å¼åŒ–æ¨¡å‹)
    - [1.1 åŸºæœ¬å®šä¹‰](#11-åŸºæœ¬å®šä¹‰)
    - [1.2 ç”Ÿæˆå‡½æ•°](#12-ç”Ÿæˆå‡½æ•°)
  - [2. ç”Ÿæˆè¿‡ç¨‹å½¢å¼åŒ–](#2-ç”Ÿæˆè¿‡ç¨‹å½¢å¼åŒ–)
    - [2.1 Schemaè§£æ](#21-schemaè§£æ)
    - [2.2 æ¨¡æ¿åº”ç”¨](#22-æ¨¡æ¿åº”ç”¨)
    - [2.3 ä»£ç ç”Ÿæˆ](#23-ä»£ç ç”Ÿæˆ)
  - [3. ç”Ÿæˆç­–ç•¥å½¢å¼åŒ–](#3-ç”Ÿæˆç­–ç•¥å½¢å¼åŒ–)
    - [3.1 æ¨¡æ¿é©±åŠ¨ç­–ç•¥](#31-æ¨¡æ¿é©±åŠ¨ç­–ç•¥)
    - [3.2 è§„åˆ™é©±åŠ¨ç­–ç•¥](#32-è§„åˆ™é©±åŠ¨ç­–ç•¥)
  - [4. å½¢å¼åŒ–å®šç†](#4-å½¢å¼åŒ–å®šç†)
    - [4.1 ç”Ÿæˆå®Œå¤‡æ€§å®šç†](#41-ç”Ÿæˆå®Œå¤‡æ€§å®šç†)
    - [4.2 ç”Ÿæˆæ­£ç¡®æ€§å®šç†](#42-ç”Ÿæˆæ­£ç¡®æ€§å®šç†)
  - [5. è¯æ˜](#5-è¯æ˜)
  - [6. å‚è€ƒæ–‡çŒ®](#6-å‚è€ƒæ–‡çŒ®)

---

## 1. ä»£ç ç”Ÿæˆå½¢å¼åŒ–æ¨¡å‹

### 1.1 åŸºæœ¬å®šä¹‰

è®¾ `Schema` ä¸ºSchemaé›†åˆï¼Œ
`Code` ä¸ºä»£ç é›†åˆï¼Œ
`Template` ä¸ºæ¨¡æ¿é›†åˆã€‚

**å®šä¹‰1ï¼ˆä»£ç ç”Ÿæˆå‡½æ•°ï¼‰**ï¼š
ä»£ç ç”Ÿæˆå‡½æ•° `G` å®šä¹‰ä¸ºï¼š

```text
G: Schema Ã— Template â†’ Code
```

**å®šä¹‰2ï¼ˆç”Ÿæˆè¿‡ç¨‹ï¼‰**ï¼š
ç”Ÿæˆè¿‡ç¨‹æ˜¯ä¸€ä¸ªä¸‰å…ƒç»„ï¼š

```text
Generation = (Parse, Transform, Generate)
```

å…¶ä¸­ï¼š

- `Parse: Schema â†’ AST`
- `Transform: AST Ã— Template â†’ AST'`
- `Generate: AST' â†’ Code`

### 1.2 ç”Ÿæˆå‡½æ•°

**å®šä¹‰3ï¼ˆå®Œæ•´ç”Ÿæˆå‡½æ•°ï¼‰**ï¼š
å®Œæ•´ç”Ÿæˆå‡½æ•° `G_complete`ï¼š

```text
G_complete(Schema, Template) = Generate(Transform(Parse(Schema), Template))
```

---

## 2. ç”Ÿæˆè¿‡ç¨‹å½¢å¼åŒ–

### 2.1 Schemaè§£æ

**å®šä¹‰4ï¼ˆSchemaè§£æå‡½æ•°ï¼‰**ï¼š
Schemaè§£æå‡½æ•° `Parse`ï¼š

```text
Parse: Schema â†’ AST
```

**è§£æè§„åˆ™**ï¼š

```text
Parse(Schema) = {
  types: ParseTypes(Schema.types),
  constraints: ParseConstraints(Schema.constraints),
  structure: ParseStructure(Schema.structure)
}
```

### 2.2 æ¨¡æ¿åº”ç”¨

**å®šä¹‰5ï¼ˆæ¨¡æ¿åº”ç”¨å‡½æ•°ï¼‰**ï¼š
æ¨¡æ¿åº”ç”¨å‡½æ•° `ApplyTemplate`ï¼š

```text
ApplyTemplate: AST Ã— Template â†’ AST'
```

**åº”ç”¨è§„åˆ™**ï¼š

```text
ApplyTemplate(ast, template) = {
  for each node in ast:
    apply template rule to node
}
```

### 2.3 ä»£ç ç”Ÿæˆ

**å®šä¹‰6ï¼ˆä»£ç ç”Ÿæˆå‡½æ•°ï¼‰**ï¼š
ä»£ç ç”Ÿæˆå‡½æ•° `Generate`ï¼š

```text
Generate: AST' â†’ Code
```

**ç”Ÿæˆè§„åˆ™**ï¼š

```text
Generate(ast') = {
  for each node in ast':
    emit code for node
}
```

---

## 3. ç”Ÿæˆç­–ç•¥å½¢å¼åŒ–

### 3.1 æ¨¡æ¿é©±åŠ¨ç­–ç•¥

**å®šä¹‰7ï¼ˆæ¨¡æ¿é©±åŠ¨ç”Ÿæˆï¼‰**ï¼š
æ¨¡æ¿é©±åŠ¨ç”Ÿæˆå‡½æ•° `G_template`ï¼š

```text
G_template(Schema, Template) = {
  ast = Parse(Schema)
  code = Template.render(ast)
  return code
}
```

### 3.2 è§„åˆ™é©±åŠ¨ç­–ç•¥

**å®šä¹‰8ï¼ˆè§„åˆ™é©±åŠ¨ç”Ÿæˆï¼‰**ï¼š
è§„åˆ™é©±åŠ¨ç”Ÿæˆå‡½æ•° `G_rule`ï¼š

```text
G_rule(Schema, Rules) = {
  ast = Parse(Schema)
  for each rule in Rules:
    ast = rule.apply(ast)
  code = Generate(ast)
  return code
}
```

---

## 4. å½¢å¼åŒ–å®šç†

### 4.1 ç”Ÿæˆå®Œå¤‡æ€§å®šç†

**å®šç†1ï¼ˆç”Ÿæˆå®Œå¤‡æ€§ï¼‰**ï¼š
å¯¹äºä»»æ„Schema `S` å’Œç›®æ ‡è¯­è¨€ `L`ï¼Œ
å­˜åœ¨ç”Ÿæˆå‡½æ•° `G`ï¼Œä½¿å¾— `G(S)` ç”Ÿæˆçš„è¯­è¨€ä»£ç  `C`
èƒ½å¤Ÿè¡¨ç¤ºSchema `S` çš„æ‰€æœ‰è¯­ä¹‰ã€‚

### 4.2 ç”Ÿæˆæ­£ç¡®æ€§å®šç†

**å®šç†2ï¼ˆç”Ÿæˆæ­£ç¡®æ€§ï¼‰**ï¼š
å¦‚æœç”Ÿæˆå‡½æ•° `G` æ­£ç¡®å®ç°ï¼Œ
åˆ™å¯¹äºä»»æ„Schema `S`ï¼Œç”Ÿæˆçš„ä»£ç  `C = G(S)`
æ»¡è¶³ï¼š

- è¯­æ³•æ­£ç¡®
- ç±»å‹å®‰å…¨
- è¯­ä¹‰ç­‰ä»·

---

## 5. è¯æ˜

### 5.1 å®Œå¤‡æ€§è¯æ˜

**è¯æ˜**ï¼š
æ ¹æ®å½¢å¼è¯­è¨€ç†è®ºï¼Œæ‰€æœ‰Schemaéƒ½å¯ä»¥è§£æä¸ºASTï¼Œ
è€ŒASTå¯ä»¥è½¬æ¢ä¸ºä»£ç ã€‚å› æ­¤ï¼Œç”Ÿæˆæ˜¯å®Œå¤‡çš„ã€‚

### 5.2 æ­£ç¡®æ€§è¯æ˜

**è¯æ˜**ï¼š
ç”Ÿæˆå‡½æ•°éµå¾ªè¯­æ³•è§„åˆ™å’Œè¯­ä¹‰è§„åˆ™ï¼Œ
å› æ­¤ç”Ÿæˆçš„ä»£ç æ˜¯æ­£ç¡®çš„ã€‚

---

## 6. å‚è€ƒæ–‡çŒ®

### 6.1 ç†è®ºæ–‡çŒ®

- ä»£ç ç”Ÿæˆç†è®º
- æ¨¡æ¿å¼•æ“ç†è®º

---

**å‚è€ƒæ–‡æ¡£**ï¼š

- `01_Overview.md` - æ¦‚è¿°
- `../Formal_Model/` - å½¢å¼åŒ–æ¨¡å‹
- `../Language_Mapping/` - è¯­è¨€æ˜ å°„

**åˆ›å»ºæ—¶é—´**ï¼š2025-01-21
**æœ€åæ›´æ–°**ï¼š2025-01-21
